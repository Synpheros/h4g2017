"use strict";define("wixappsBuilder/core/dataSelectorFactory",["lodash","utils","wixappsCore"],function(e,t,a){function i(t,a){var i=t.payload.items||[t.payload.item];return e.forEach(i,function(e){a[e._iid]=e}),a}function r(a,r,n,o,s,p,l){r=e.defaults(r,{type:n,applicationInstanceId:o.instanceId,applicationInstanceVersion:s,skip:0,sort:{},limit:null,filter:{}});var c={consistentRead:"true"},m=u.getSiteDataDestination(o.type).concat(["items",n]);return{url:t.urlUtils.baseUrl(a.currentUrl.full)+"/apps/appBuilder/1/editor/Query?"+d.toQueryString(c),force:!0,destination:m,data:r,transformFunc:function(e,t){return e.success?(p(),i(e,t)):(l(),t)},error:l}}function n(t,a,i,n){return{getRequest:function(e,o,s){var p={filter:{_iid:{$in:t.itemIds}}};return r(a,p,t.forType,i,n,o,s)},getData:function(){var i=u.getDataByPath(a,"appbuilder",[t.forType]),r=e.intersection(t.itemIds,e.map(i,"_iid"));return e.map(r,function(e){return[t.forType,e]})}}}function o(t,a,i,n){return{getRequest:function(e,o,s){return r(a,{filter:{}},t.forType,i,n,o,s)},getData:function(){var i=u.getDataByPath(a,"appbuilder",[t.forType]);return e.map(i,function(e){return[t.forType,e._iid]})}}}function s(e,r,n,o){return{getRequest:function(s,p,l){var c=a.wixappsUrlParser.getPageSubItemId(r,s),m={applicationInstanceId:n.instanceId,applicationInstanceVersion:o,itemId:c},f={consistentRead:"true"},g=u.getSiteDataDestination(n.type).concat(["items",e.forType]);return{url:t.urlUtils.baseUrl(r.currentUrl.full)+"/apps/appBuilder/1/viewer/ReadItem?"+d.toQueryString(f),force:!0,destination:g,data:m,transformFunc:function(e,t){return p(),i(e,t)},error:l}},getData:function(){var t=a.wixappsUrlParser.getPageSubItemId(r);return t?[e.forType,t]:[]}}}function p(t){var a={},i=t.sortField||"title",r=!e.has(t,"sortAscending")||t.sortAscending;return a[i]=r?1:0,a}function l(t,a,i,n){var o=e.clone(t);return{getRequest:function(t,s,l){var c=o.tagIds;if(0===c.length)return s(),null;var d={filter:{_tags:c.length>1?{$in:c}:e.head(c)},sort:p(o)};return r(a,d,o.forType,i,n,s,l)},getData:function(){var t=u.getDataByPath(a,"appbuilder",[o.forType]),i=e(t).filter(function(t){return e.intersection(t._tags,o.tagIds).length>0}).sortBy(o.sortField).map(function(e){return[e._type,e._iid]}).value();return o.sortAscending?i:e.reverse(i)},setTags:function(e,t){o.tagIds=e;var i=this.getRequest();i?a.store.loadBatch([i],t):t()}}}function c(e,t,a,i){switch(e.logicalTypeName){case"IB.ManualSelectedList":return n(e,t,a,i);case"IB.PageSelectedItem":return s(e,t,a,i);case"IB.TagsFilteredList":return l(e,t,a,i);case"IB.AllItemsOfType":return o(e,t,a,i);default:throw"Data selector of type: "+e.logicalTypeName+" is not implemented."}}var d=t.urlUtils,u=a.wixappsDataHandler;return{getDataSelector:c}}),define("wixappsBuilder/core/appRepo",["lodash","wixappsBuilder/core/dataSelectorFactory","wixappsCore"],function(e,t,a){function i(e,a,i,n,o){var s=r(e,a);return s?t.getDataSelector(s,i,n,o):null}function r(e,t){var a=n(e,t);if(!a)return null;var i=a.dataSelector||a.dataSelectorDef&&a.dataSelectorDef.id;return e.dataSelectors[i]}function n(t,a){return e.get(t,["parts",a])}function o(e,t,i,r){var n=[i,t,r].join("|"),o=[i,t].join("|"),s=e.views[n]||e.views[o];return s&&a.viewsUtils.fillViewDefMissingIDs(s),s}function s(t,a){return e(t.parts).pickBy({type:a}).keys().value()}return{getDataSelector:i,getAppPartDefinition:n,getViewDef:o,getDataSelectorDefinition:r,getNamesOfPartsOfType:s}}),define("wixappsBuilder/core/appBuilderSantaTypes",["react","lodash","wixappsCore","santaProps","wixappsBuilder/core/appRepo"],function(e,t,a,i,r){function n(e){return function(t,a){return o(t,a),e(t,a)}}function o(e,i,r){if(r=r||s(e,i)){var n=e.siteAPI.getDisplayedDAL(),o=e.siteAPI.getPointers(),p=a.CoreSantaTypes.packageName.fetch(e,i),l=o.wixapps.getCounterData(p,r.type),c=n.get(l);t.isUndefined(c)&&n.set(l,0),n.get(l)}}function s(e,t){var i=c.Component.compData.fetch(e,t),n=a.CoreSantaTypes.descriptor.fetch(e,t);return r.getAppPartDefinition(n,i.appPartName)}var p=a.wixappsSantaTypesUtil.createWixappsSantaType,l=e.PropTypes,c=i.Types,d=p(l.object,n(function(e,t){return s(e,t)})),u=p(l.object,n(function(e,t){var i=c.Component.compData.fetch(e,t),n=a.CoreSantaTypes.descriptor.fetch(e,t),o=a.CoreSantaTypes.appService.fetch(e,t);return n&&r.getDataSelector(n,i.appPartName,e.siteData,o,n.applicationInstanceVersion)})),m=p(l.object,n(function(e,t){var i=c.Component.compData.fetch(e,t),n=a.CoreSantaTypes.descriptor.fetch(e,t);return r.getDataSelectorDefinition(n,i.appPartName)})),f=p(Object.freeze(l.arrayOf(l.oneOfType([l.arrayOf(l.string),l.string]))),n(function(e,t){var a=u.fetch(e,t);return a&&a.getData()})),g=p(l.arrayOf(l.object),n(function(e,t){var i=f.fetch(e,t),r=a.CoreSantaTypes.packageName.fetch(e,t);if(i&&r){var n=e.siteAPI.getSiteAspect("wixappsDataAspect");return i.map(function(e){return n.getDataByPath(r,e)})}})),h=p(l.object,function(e,t){var i=a.CoreSantaTypes.descriptor.fetch(e,t);if(!i)return null;var n=a.CoreSantaTypes.formatName.fetch(e,t),o=d.fetch(e,t);if(!o)return{};var s={Array:r.getViewDef(i,o.viewName,"Array",n)};return s[o.type]=r.getViewDef(i,o.viewName,o.type,n),s}),x=p(l.object,function(e,t){var i=e.siteAPI.getSiteAspect("wixappsDataAspect"),r=c.Component.compData.fetch(e,t);return i.getMetadata(a.CoreSantaTypes.packageName.fetch(e,t),r.appPartName)||{}}),y=p(e.PropTypes.bool,function(e,i){var r=c.Component.compData.fetch(e,i),n=e.siteAPI.getSiteAspect("wixappsDataAspect").getMetadata(a.CoreSantaTypes.packageName.fetch(e,i))||{};return t.includes(n.requestedPartNames,r.appPartName)});return{didPackageHadRequestsTimeoutInSSR:p(l.bool,function(e,t){return!!e.siteAPI.getSiteAspect("wixappsDataAspect").didPackageHadRequestsTimeoutInSSR(a.CoreSantaTypes.packageName.fetch(e,t))}),isRequestSent:y,partDataLocation:f,partData:g,appPartDefinition:d,views:h,dataSelector:u,dataSelectorDefinition:m,compMetadata:x}}),define("wixappsBuilder/util/oldImagesConversionMap",[],function(){return{"wallet.jpg":{src:"cadfaa_61d35338acab4e22845bf03d31460883.jpg",width:800,height:600},"team-3.jpg":{src:"cadfaa_f3cf770c59ba4164acb075b57f10c3fc.jpg",width:1e3,height:667},"team-2.jpg":{src:"cadfaa_f7c06c0b22964d7d851d6a14160837da.jpg",width:1e3,height:667},"team-1.jpg":{src:"cadfaa_e3ce49014ed946d6a2c92f539b7bbe3e.jpg",width:1e3,height:667},"iphone_cover.jpg":{src:"cadfaa_22cb6cf2b7394f0e9f5a2b9e42d10b89.jpg",width:800,height:600},"sneakers.jpg":{src:"cadfaa_c50acce240734dd781c4d50593a9865d.jpg",width:800,height:600},"cupcake.jpg":{src:"cadfaa_ed2344d9764b46f99f750924a27e15ea.jpg",width:800,height:600},"faq.png":{src:"cadfaa_8561f14a0bce4ede8b442b40f8214f1d.png",width:100,height:100},"sunbeam.jpg":{src:"cadfaa_2d4c979fcd4d44228cd314c0562683a4.jpg",width:750,height:563},"rooms-3.jpg":{src:"cadfaa_ed26105b70d74ff7a1e47401aef216e4.jpg",width:1280,height:956},"rooms-2.jpg":{src:"cadfaa_897545a9ae564dfc9b9a3a569e2a3594.jpg",width:1280,height:853},"rooms-1.jpg":{src:"cadfaa_523e9fa714274537a431877c98a478ea.jpg",width:1280,height:846},"news-3.jpg":{src:"cadfaa_3140d3283e0d4d8185425d2b306cfd0a.jpg",width:1e3,height:667},"news-2.jpg":{src:"cadfaa_d6185d77589d482fb7e19c5bf33f110c.jpg",width:1e3,height:666},"news-1.jpg":{src:"cadfaa_4be4dce7ffe54f70a9972e5c5ad88707.jpg",width:1e3,height:667},"logo_4.png":{src:"cadfaa_03a3be6fd25d419aac23317631296c3f.png",width:100,height:100},"logo_3.png":{src:"cadfaa_7c1b8a795c304dffaf6fbe416183d120.png",width:100,height:100},"logo_1.png":{src:"cadfaa_f6f3fca8a79d41ad92d630177d8e93a8.png",width:100,height:100},"hat.jpg":{src:"cadfaa_1d9425f562fb4c34b9828fe861835222.jpg",width:800,height:600},"budding_tree.jpg":{src:"cadfaa_fe9eb39bfa1c4f0fbb575ca21e402e33.jpg",width:1e3,height:750},"bloom.jpg":{src:"cadfaa_848ea7fa3446485c914b65749497c1a1.jpg",width:1e3,height:750},"beauty_cream.jpg":{src:"cadfaa_074e55270c984f7cb62b60eac33b955f.jpg",width:800,height:600}}}),define("wixappsBuilder/util/appbuilderUrlUtils",["lodash","utils","wixappsBuilder/util/oldImagesConversionMap"],function(e,t,a){function i(a,i){a=r(a);var o=e.get(i,"scriptsLocationMap.wixapps"),s=n.exec(a.src);return s&&o&&(a.src=t.urlUtils.joinURL(o,s[2])),a}function r(t){if(n.test(t.src)){var i=e.last(t.src.split("/")),r=a[i];if(r)return e.assign({},t,r)}return e.clone(t)}var n=/^(http:\/\/)?(images\/.*)/;return{resolveImageData:i}}),define("wixappsBuilder/logics/appPart2Presenter",["lodash","wixappsCore"],function(e,t){function a(e){this.partApi=e}var i=t.localizer,r=t.wixappsLogger;return a.prototype={getViewVars:function(){if(!this.userTags){this.userTags={enabled:!1,items:[{value:"",text:""}],selectedValue:""};var t=this.partApi.getAppPartDefinition().dataSelectorDef;if(t){var a=this.partApi.getRepo();"IB.TagsFilteredList"===a.dataSelectors[t.id].logicalTypeName&&t.predefinedSettings&&(this.userTags.items=e.map(t.predefinedSettings.tags,function(e){return{value:e,text:a.tags[e]}}),this.userTags.items.unshift({value:"all",text:i.localize("@FILTER_DIALOG_All_Tags@",this.partApi.getLocalizationBundle())}),this.userTags.selectedValue=t.predefinedSettings.selectedTag,this.userTags.enabled=!0)}}return{userTags:this.userTags}},onTagChanged:function(e){var t=this.partApi.getDataSelector(),a=this.partApi.getAppPartDefinition().dataSelectorDef,i="all"===e.payload.value?a.predefinedSettings.tags:[e.payload.value];this.partApi.setCssState("loading"),this.userTags.selectedValue=e.payload.value,t.setTags(i,function(){this.partApi.setCssState("content"),r.reportEvent(this.partApi.siteData,r.events.TAG_SELECTED_IN_VIEWER)}.bind(this))}},a}),define("wixappsBuilder/comps/appPart2",["lodash","core","santaProps","wixappsBuilder/core/appBuilderSantaTypes","wixappsCore","wixappsBuilder/util/appbuilderUrlUtils","wixappsBuilder/logics/appPart2Presenter"],function(e,t,a,i,r,n,o){function s(e,t,a){e?this.props.reportError(t,a):this.props.reportEvent(t,a)}function p(e){return!(!e.appPartDefinition||!e.dataSelector)||(this.reportToBI(!0,d.errors.APP_PART2_FAILED_TO_LOAD),!1)}function l(e,t){var a=e.compMetaData;if(a.loading||!e.isRequestSent||this.props.didPackageHadRequestsTimeoutInSSR&&this.props.isInSSR)return{$displayMode:"loading"};if(a.error)return{$displayMode:"error"};var i={$displayMode:"content",itsDeadJim:!p.call(this,e)};return i.$displayMode!==t.$displayMode&&e.registerReLayoutPending(e.id),i}function c(){if("IB.PageSelectedItem"===e.get(this.props.dataSelectorDefinition,"logicalTypeName")){var t=this.getDataByFullPath(this.props.partDataLocation),a=(t&&t.title||"")+" | "+this.props.appPartDefinition.displayName;this.props.setPageTitle(e.unescape(a),a)}}var d=r.wixappsLogger,u={FILTER_DIALOG_All_Tags:"All"};return{displayName:"AppPart2",mixins:[r.viewsRenderer,t.compMixins.skinBasedComp],statics:{useSantaTypes:!0},propTypes:{isInSSR:a.Types.isInSSR.isRequired,didPackageHadRequestsTimeoutInSSR:i.didPackageHadRequestsTimeoutInSSR.isRequired,userId:a.Types.RendererModel.userId,setPageTitle:r.CoreSantaTypes.setPageTitle.isRequired,reportEvent:r.CoreSantaTypes.reportEvent.isRequired,reportError:r.CoreSantaTypes.reportError.isRequired,descriptor:r.CoreSantaTypes.descriptor,isRequestSent:i.isRequestSent.isRequired,partData:i.partData,partDataLocation:i.partDataLocation,appPartDefinition:i.appPartDefinition,views:i.views,dataSelector:i.dataSelector,dataSelectorDefinition:i.dataSelectorDefinition,compMetaData:i.compMetadata.isRequired,registerReLayoutPending:a.Types.Layout.registerReLayoutPending.isRequired},getInitialState:function(){this.reportToBI=e.once(s.bind(this)),this.partApi=this.getPartApi(),this.logic=new o(this.partApi);var t=l.call(this,this.props,{});return"content"!==t.$displayMode||t.itsDeadJim||c.call(this),t},componentWillReceiveProps:function(t){if(!this.state.itsDeadJim){this.partApi.updateProps(t);var a=l.call(this,t,this.state);"content"!==a.$displayMode||a.itsDeadJim||c.call(this),this.props.registerReLayoutPending(this.props.id),e.isEqual(this.state,a)||this.setState(a)}},getPartApi:function(){var e=this.props;return{updateProps:function(t){e=t},reportEvent:function(){return e.reportEvent},getAppPartDefinition:function(){return e.appPartDefinition},getRepo:function(){return e.descriptor},getPartData:function(){return e.partDataLocation},getDataAspect:this.getDataAspect,getLocalizationBundle:function(){return u},getDataSelector:function(){return e.dataSelector},registerReLayout:function(){return e.registerReLayoutPending},setCssState:this.setCssState}},setCssState:function(e){this.state.$displayMode!==e&&this.props.registerReLayoutPending(this.props.id),this.setState({$displayMode:e})},getViewDef:function(e,t){return this.props.views[t]},getViewName:function(){return this.props.appPartDefinition.viewName},resolveImageData:n.resolveImageData,getSkinProperties:function(){if(this.state.itsDeadJim)throw"AppPart data is not valid.";if("content"===this.state.$displayMode){var t=this.renderView(),a=e.clone(this.props.style||{});return a.height="auto",this.reportToBI(!1,d.events.APP_BUILDER_PART_LOADED,{appPartName:this.props.compData.appPartName,userId:this.props.userId}),{"":{style:a,"data-dynamic-height":!0},inlineContent:{children:t,style:{height:"auto"}}}}return{}}}}),define("wixappsBuilder/util/fieldBoxProxyUtils",["lodash"],function(e){function t(t){return!t||e.every(o,function(e){return!t[e]})}function a(t,a){return e.some(a,function(a){return!e.includes(s,t("name",a))})}function i(t,a){var i=e.filter(a,function(a){var i=t("width-mode",a);return i?"manual"===i:!e.isUndefined(t("width",a))});return e.isEmpty(i)?200:e(i).map(function(e){var a=t("spacers",e);return t("width",e)+(a["xax-before"]||0)+(a["xax-after"]||0)}).max()}function r(e,t){return!e("hidden",t)}function n(n,o,s){var p=n("orientation",s),l={comp:{name:"vertical"===p?"VBox":"HBox",items:e.filter(s.comp.items,r.bind(null,n))}},c=n("items",l);if("horizontal"===o&&"vertical"===p&&t(s.layout)&&a(n,c)){var d=i(n,c),u={comp:{css:{width:d}}};return e.has(s,"layout")&&e.has(s.layout,"min-width")&&(u.layout={"min-width":d}),e.merge(l,u)}return e.merge(l,{comp:{css:{width:"auto"}}})}var o=["width","box-flex","flex"],s=["VSpacer","HSpacer"];return{getFieldBoxDef:n}}),define("wixappsBuilder/proxies/fieldBoxProxy",["wixappsCore","lodash","wixappsBuilder/util/fieldBoxProxyUtils"],function(e,t,a){return{mixins:[e.baseCompositeProxy],renderProxy:function(){var e=this.props.orientation,i=a.getFieldBoxDef(this.getCompProp,e,this.props.viewDef),r=t.cloneDeep(this.props.viewDef);return r.comp.items=i.comp.items,t.merge(r,i),this.renderChildProxy(r)}}}),define("wixappsBuilder/util/fieldProxyUtils",["wixappsCore","lodash"],function(e,t){function a(e){return{css:{"box-align":e}}}function i(e){return"vertical"===e?"horizontal":"vertical"}function r(e){return e=e||{},{spacerBefore:e["xax-before"]||0,spacerAfter:e["xax-after"]||0}}function n(e){return e=e||{},{spacerBefore:e.before||0,spacerAfter:e.after||0}}function o(a,o,s){var p=n(o),l=e.spacersCalculator.translateStaticSpacers(p,a,s),c=r(o),d=e.spacersCalculator.translateStaticSpacersXax(c,i(a),s);return t.merge(l,d)}function s(e,t){if(e)return{comp:{name:"AppLink",pageId:e,items:[]}};if(t&&"wix:LinkBase"!==t._type)return{value:t,comp:{name:"Link",items:[]}}}return{getSpacers:o,getBoxAlignment:a,getLinkViewDef:s}}),define("wixappsBuilder/proxies/mixins/baseFieldProxy",["wixappsCore","lodash","react","utils","wixappsBuilder/util/fieldProxyUtils"],function(e,t,a,i,r){function n(){var e=this.getCompProp("items")[0];if(e.link)return e.link;var t=this.getViewDefProp("data",e)||this.getViewDefProp("data");return this.getDataByPath("links."+t)}function o(){var e=this.proxyData,a=t.cloneDeep(this.props.viewDef),i=a.comp,o=this.getCompProp("items",a);if(!o||1!==o.length)throw"Field proxy accepts exactly one child";var s=this.props.orientation,p="vertical"===s;this.adjustViewDefs&&this.adjustViewDefs(a,o[0]),i.name=p?"VBox":"HBox",i.hidden=this.shouldHide(e);var l=this.getItemLayout();t.keys(l).length&&(o[0].layout=t.merge(o[0].layout||{},l));var c=r.getLinkViewDef(this.getCompProp("pageLink"),n.call(this));c&&(c.layout=t.cloneDeep(o[0].layout),c.comp.items.push(o.pop()),o.push(c));var d=r.getSpacers(s,this.getCompProp("spacers"),this.getVar("partDirection"));return a.layout=t.merge(a.layout||{},d),a}return{mixins:[e.baseCompositeProxy],getCustomStyle:function(){var e={};return this.getCompProp("box-align")&&(e["box-align"]=this.getCompProp("box-align")),e},renderProxy:function(){var e=o.call(this),t=this.getChildCompProps();if("horizontal"===this.props.orientation){var r={flex_display:!0,flex_vbox:!0};t.className&&(r[t.className]=!0),t.className=i.classNames(r)}return a.DOM.div(t,this.renderChildProxy(e))}}}),define("wixappsBuilder/proxies/fieldProxy",["wixappsBuilder/proxies/mixins/baseFieldProxy","lodash"],function(e,t){var a={"wix:Image":function(e){return t.isEmpty(e.src)||"http://images/noimage.png"===e.src},String:function(e){return t.isEmpty(e)},"wix:Video":function(e){return t.isEmpty(e.videoId)||"YOUTUBE"===e.videoType&&"xLk7JoPDx4Q"===e.videoId}};return{mixins:[e],statics:{width:{type:"compProp",defaultValue:200},height:{type:"compProp",defaultValue:200}},shouldHide:function(e){if(t.isUndefined(e))return!0;var i=t.isString(e)?"String":e._type,r=a[i];return r&&r(e)},getItemLayout:function(){var e=this.getCompProp("width")||100,t=this.getCompProp("height")||100,a=this.getCompProp("layout")&&this.getCompProp("layout")["min-width"]||0,i=this.getCompProp("heightMode")||"manual";return{minWidth:Math.max(a,e),height:"manual"===i?t:"auto"}}}}),define("wixappsBuilder/proxies/textFieldProxy",["wixappsBuilder/proxies/mixins/baseFieldProxy","lodash"],function(e,t){function a(){var e=this.getCompProp("height-mode")||"auto",t=this.getCompProp("min-height")||100,a=this.getCompProp("height");return"auto"===e?{height:"auto"}:"max-chars"===e?{"min-height":t}:"fixed-height"===e?{"min-height":0,height:a||s,"overflow-y":"hidden"}:"pixels"===e?{height:a||s}:{}}function i(){var e="manual"===this.getCompProp("width-mode"),t=this.getCompProp("width"),a=this.props.orientation;return e?{width:t||o}:"vertical"===a?{width:"100%"}:{"box-flex":"1 1 auto"}}function r(e){var a=this.getCompProp("height-mode")||"auto",i=this.getCompProp("min-lines")||0,r=this.getCompProp("max-lines")||0;r>0&&r<i&&(r=i);var n=this.getCompProp("max-chars")||100;e.comp.name=this.proxyData&&"wix:Date"===this.proxyData._type?"Date":"Label","auto"===a?e.comp.singleLine=!1:"lines"===a?0===i&&1===r&&t.isString(this.proxyData)?e.comp.singleLine=!0:r>0&&(e.comp.name="ClippedParagraph",e.comp.minLines=i,e.comp.maxLines=r):"max-chars"===a?(e.comp.name="ClippedParagraph2",e.comp["max-chars"]=n):"pixels"===a&&(e.comp.name="ClippedParagraph",e.comp.minLines=0,e.comp.maxLines=0)}function n(e){"horizontal"===this.props.orientation&&(e.layout=e.layout||{},e.layout["max-width"]=this.getCompProp("width")||o)}var o=150,s=150,p={"wix:RichText":function(e){return!e.text},String:function(e){return!e},"wix:Date":function(e){return!e.iso}};return{mixins:[e],shouldHide:function(e){if(t.isUndefined(e))return!0;var a=t.isString(e)?"String":e._type,i=p[a];return i&&i(e)&&0===(this.getCompProp("min-lines")||0)},adjustViewDefs:function(e,t){n.call(this,e),r.call(this,t)},getItemLayout:function(){return t.merge(i.call(this),a.call(this))}}}),define("wixappsBuilder/util/viewsTemplatesData.json",[],function(){return{default:{type:{version:0,baseTypes:[],name:"NewsPosts_i6cku5qm357",displayName:"Various Posts",fields:[{displayName:"Title",name:"title",defaultValue:"I'm a news headline",searchable:!1,type:"String",computed:!1}]},views:[{name:"PaginatedListTemplate3",forType:"Array",vars:{itemSpacing:10,paginationColor:"color_15"},comp:{name:"VBox","box-align":"center",items:[{comp:{name:"HBox",hidden:{$expr:"not($userTags.enabled)"},items:[{data:"$userTags",comp:{name:"ComboBox",cssClass:"comboBox",skin:"wysiwyg.viewer.skins.input.ComboBoxInputSimpleSkin",events:{selectionChanged:"onTagChanged"}},layout:{width:165,"vertical-align":"middle",spacerBefore:"*"}}]},layout:{width:"100%",spacerBefore:"20px",spacerAfter:"30px"}},{id:"paginatedlist",comp:{name:"PaginatedList",hidden:{$expr:"eq(Array.length(this), 0)"},hidePagination:"true",itemsPerPage:"10",templates:{item:{data:"$positionInParent",comp:{name:"SwitchBox",cases:{default:[{id:"listItem",comp:{name:"LIST_ITEM"}},{id:"footerSpacer",comp:{name:"VSpacer",size:{$expr:"$itemSpacing"}}},{id:"gutterLine",comp:{name:"HorizontalLine"},layout:{spacerAfter:{$expr:"$itemSpacing"}}}],last:[{id:"listItem",comp:{name:"LIST_ITEM"}},{comp:{name:"VBox",hidden:"true",items:[{id:"footerSpacer",comp:{name:"VSpacer",size:{$expr:"$itemSpacing"}}},{id:"gutterLine",comp:{name:"HorizontalLine"},layout:{spacerAfter:{$expr:"$itemSpacing"}}}]}},{comp:{name:"VSpacer",size:"9"}},{id:"paginationNavigationBox",comp:{name:"HBox",hidden:{$expr:"$hidePagination"},"box-align":"center",items:[{comp:{name:"HSpacer",size:"*"}},{value:"◄",comp:{name:"Label",cssClass:"paginationPrev",events:{"dom:click":"prevPageClicked"}},layout:{spacerAfter:4}},{value:{$expr:"String.concat($currentPage,'/',$maxPage)"},comp:{name:"Label"},layout:{spacerAfter:4}},{value:"►",comp:{name:"Label",cssClass:"paginationNext",events:{"dom:click":"nextPageClicked"}}},{comp:{name:"HSpacer",size:"*"}}]},layout:{position:"relative"}}]},css:{"min-width":"100%"}}}}},layout:{width:"100%"}},{id:"noItemsLabel",value:"@LIST_SETTINGS_PANEL_NoItemsMessagePlaceholder@",comp:{name:"Label",hidden:{$expr:"gt(String.length(this), 0)"}}}],editorData:{isPaginated:!0,hasTags:!0}},stylesheet:[{".paginationPrev, .paginationNext":{padding:"0 5px",display:"inline-block","font-size":"14px",cursor:"pointer",color:{$expr:"Theme.getColor($paginationColor)"},"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}},{".comboBox select":{"font-size":"14px"}}],customizations:[{priority:105,fieldId:"paginatedlist",key:"comp.hidePagination",input:{name:"checkbox",falseVal:"true",label:"@LIST_SETTINGS_PANEL_UsePagination@",defaultVal:"true",trueVal:"false",spaceAfter:"10"}},{priority:105,fieldId:"paginatedlist",key:"comp.itemsPerPage",input:{name:"slider",maxVal:"120",minVal:"1",label:"@LIST_SETTINGS_PANEL_ItemsPerPage@",spaceAfter:"20",hiddenwhen:{fieldId:"paginatedlist",key:"comp.hidePagination",value:"true"}}},{priority:100,fieldId:"vars",key:"itemSpacing",input:{name:"slider",maxVal:"300",minVal:"0",label:"@LIST_SETTINGS_PANEL_ItemSpacing@",spaceAfter:"20"}},{priority:95,fieldId:"gutterLine",key:"comp.hidden",input:{name:"checkbox",falseVal:"true",label:"@LIST_SETTINGS_PANEL_ShowDivider@",defaultVal:"false",trueVal:"false"}},{priority:90,fieldId:"gutterLine",key:"comp.style",input:{name:"changestyle",showAs:"link",label:"@LIST_SETTINGS_PANEL_ChangeStyle@",spaceAfter:"20"}}]},{name:"BlankList",forType:"BlankType",comp:{name:"VBox",items:[{id:"Top",comp:{name:"FieldBox",orientation:"horizontal",editorData:{labelPosition:"none",alignment:"left"}}},{id:"topSpacer",comp:{name:"VSpacer",size:"0"}},{comp:{name:"HBox",items:[{id:"Left",comp:{name:"FieldBox",orientation:"vertical",editorData:{labelPosition:"none",alignment:"left",spacers:{before:3,after:0,"xax-before":0,"xax-after":0}}},layout:{spacerAfter:0}},{id:"leftToCenterSpacer",comp:{name:"HSpacer",size:"0"}},{id:"Center",comp:{name:"FieldBox",orientation:"vertical",pack:"center",items:[{id:"text_1",data:"title",comp:{name:"TextField","box-align":"center",width:"200","width-mode":"auto",items:[{id:"text_1_proxy",data:"title",comp:{name:"Label",style:"Body L",bold:"true"},layout:{"text-align":"center"}}],spacers:{before:0,after:10}}}],editorData:{labelPosition:"none",alignment:"left"}},layout:{"box-flex":1}},{id:"centerToRightSpacer",comp:{name:"HSpacer",size:"0"}},{id:"Right",comp:{name:"FieldBox",orientation:"vertical",pack:"center",editorData:{labelPosition:"none",alignment:"left",spacers:{before:0,after:0,"xax-before":10,"xax-after":0}}}}]}},{id:"Bottom",comp:{name:"FieldBox",orientation:"vertical",editorData:{labelPosition:"none",alignment:"left"}},layout:{"box-flex-pack":"start"}},{id:"bottomSpacer",comp:{name:"VSpacer",size:"0"}}]}}]},"2.0":{type:{version:0,baseTypes:[],name:"NewsPosts_i6cku5qm357",displayName:"Various Posts",fields:[{displayName:"Title",name:"title",defaultValue:"I'm a news headline",searchable:!1,type:"String",computed:!1},{type:"wix:Image",displayName:"Image",searchable:!1,name:"image",defaultValue:{width:600,src:"images/items/bloom.jpg",height:600,_type:"wix:Image",title:"Default image"},computed:!1},{name:"Strng_sTxt1",searchable:!1,displayName:"Subtitle",type:"String",computed:!1,defaultValue:"Add Date here"},{displayName:"Description",type:"wix:RichText",searchable:!1,defaultValue:{version:1,_type:"wix:RichText",text:"Add News Story here",links:[]},name:"wxRchTxt_sTxt0",computed:!1},{name:"links",type:"wix:Map",searchable:!1,displayName:"",defaultValue:{_type:"wix:Map"},computed:!1},{name:"Strng_sBttn0-v1c",defaultValue:"Read More",searchable:!1,metadata:{showAsHint:"AsButton"},type:"String",displayName:"Button",computed:!1},{defaultValue:{_type:"wix:Video",videoId:"83nu4yXFcYU",videoType:"YOUTUBE"},name:"i6ckxtsf",type:"wix:Video",searchable:!1,displayName:"Video",computed:!1}]},views:[{name:"TemplateViewVersion_2.0",forType:"Array",vars:{itemSpacing:60,paginationColor:"color_15"},comp:{name:"VBox",items:[{id:"paginatedlist",comp:{name:"PaginatedList",hidden:{$expr:"eq(Array.length(this), 0)"},hidePagination:"true",itemsPerPage:"10",templates:{item:{data:"$positionInParent",comp:{name:"SwitchBox",cases:{default:[{id:"listItem",comp:{name:"TemplateViewVersion_2.0"}},{id:"footerSpacer",comp:{name:"VSpacer",size:{$expr:"$itemSpacing"}}},{id:"gutterLine",comp:{name:"HorizontalLine",hidden:"true"},layout:{spacerAfter:{$expr:"$itemSpacing"}}}],last:[{id:"listItem",comp:{name:"TemplateViewVersion_2.0"}},{comp:{name:"VBox",hidden:"true",items:[{id:"footerSpacer",comp:{name:"VSpacer",size:{$expr:"$itemSpacing"}}},{id:"gutterLine",comp:{name:"HorizontalLine",hidden:"true"},layout:{spacerAfter:{$expr:"$itemSpacing"}}}]},id:"def_7"},{comp:{name:"VSpacer",size:"9"},id:"def_10"},{id:"paginationNavigationBox",comp:{name:"HBox",hidden:{$expr:"$hidePagination"},"box-align":"center",items:[{comp:{name:"HSpacer",size:"*"},id:"def_12"},{value:"◄",comp:{name:"Label",cssClass:"paginationPrev",events:{"dom:click":"prevPageClicked"}},layout:{spacerAfter:4},id:"def_13"},{value:{$expr:"String.concat($currentPage,'/',$maxPage)"},comp:{name:"Label"},layout:{spacerAfter:4},id:"def_14"},{value:"►",comp:{name:"Label",cssClass:"paginationNext",events:{"dom:click":"nextPageClicked"}},id:"def_15"},{comp:{name:"HSpacer",size:"*"},id:"def_16"}]},layout:{position:"relative"}}]},css:{"min-width":"100%"}},id:"$positionInParent"}}}},{id:"noItemsLabel",value:"There are no items in this list",comp:{name:"Label",hidden:{$expr:"gt(String.length(this), 0)"}}}],editorData:{isPaginated:!0}},stylesheet:[{".paginationPrev, .paginationNext":{padding:"0 5px",display:"inline-block","font-size":"14px",cursor:"pointer","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}}],customizations:[{priority:105,fieldId:"paginatedlist",key:"comp.hidePagination",input:{name:"checkbox",falseVal:"true",label:"Split your list across multiple pages",defaultVal:"true",trueVal:"false",spaceAfter:"10"}},{priority:105,fieldId:"paginatedlist",key:"comp.itemsPerPage",input:{name:"slider",maxVal:"120",minVal:"1",label:"Items Per Page",spaceAfter:"20",hiddenwhen:{fieldId:"paginatedlist",key:"comp.hidePagination",value:"true"}}},{priority:100,fieldId:"vars",key:"itemSpacing",input:{name:"slider",maxVal:"300",minVal:"0",label:"Item Spacing",spaceAfter:"20"}},{priority:95,fieldId:"gutterLine",key:"comp.hidden",input:{name:"checkbox",falseVal:"true",label:"Show item separator",defaultVal:"false",trueVal:"false"}},{priority:90,fieldId:"gutterLine",key:"comp.style",input:{name:"changestyle",showAs:"link",label:"Change Item Separator Style",spaceAfter:"20"}}],id:"i7ek4nzf"},{name:"TemplateViewVersion_2.0",forType:"Array",vars:{itemSpacing:60,paginationColor:"color_15"},comp:{name:"VBox",items:[{id:"paginatedlist",comp:{name:"PaginatedList",hidden:{$expr:"eq(Array.length(this), 0)"},hidePagination:"true",itemsPerPage:"10",templates:{item:{data:"$positionInParent",comp:{name:"SwitchBox",cases:{default:[{id:"listItem",comp:{name:"TemplateViewVersion_2.0"}},{id:"footerSpacer",comp:{name:"VSpacer",size:{$expr:"$itemSpacing"}}},{id:"gutterLine",comp:{name:"HorizontalLine",hidden:"true"},layout:{spacerAfter:{$expr:"$itemSpacing"}}}],last:[{id:"listItem",comp:{name:"TemplateViewVersion_2.0"}},{comp:{name:"VBox",hidden:"true",items:[{id:"footerSpacer",comp:{name:"VSpacer",size:{$expr:"$itemSpacing"}}},{id:"gutterLine",comp:{name:"HorizontalLine",hidden:"true"},layout:{spacerAfter:{$expr:"$itemSpacing"}}}]},id:"def_7"},{comp:{name:"VSpacer",size:"9"},id:"def_10"},{id:"paginationNavigationBox",comp:{name:"HBox",hidden:{$expr:"$hidePagination"},"box-align":"center",items:[{comp:{name:"HSpacer",size:"*"},id:"def_12"},{value:"◄",comp:{name:"Label",cssClass:"paginationPrev",events:{"dom:click":"prevPageClicked"}},layout:{spacerAfter:4},id:"def_13"},{value:{$expr:"String.concat($currentPage,'/',$maxPage)"},comp:{name:"Label"},layout:{spacerAfter:4},id:"def_14"},{value:"►",comp:{name:"Label",cssClass:"paginationNext",events:{"dom:click":"nextPageClicked"}},id:"def_15"},{comp:{name:"HSpacer",size:"*"},id:"def_16"}]},layout:{position:"relative"}}]},css:{"min-width":"100%"}},id:"$positionInParent"}}}},{id:"noItemsLabel",value:"There are no items in this list",comp:{name:"Label",hidden:{$expr:"gt(String.length(this), 0)"}}}],editorData:{isPaginated:!0}},stylesheet:[{".paginationPrev, .paginationNext":{padding:"0 5px",display:"inline-block","font-size":"14px",cursor:"pointer","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}}],customizations:[{priority:105,fieldId:"paginatedlist",key:"comp.hidePagination",input:{name:"checkbox",falseVal:"true",label:"Split your list across multiple pages",defaultVal:"true",trueVal:"false",spaceAfter:"10"}},{priority:105,fieldId:"paginatedlist",key:"comp.itemsPerPage",input:{name:"slider",maxVal:"120",minVal:"1",label:"Items Per Page",spaceAfter:"20",hiddenwhen:{fieldId:"paginatedlist",key:"comp.hidePagination",value:"true"}}},{priority:100,fieldId:"vars",key:"itemSpacing",input:{name:"slider",maxVal:"300",minVal:"0",label:"Item Spacing",spaceAfter:"20"}},{priority:95,fieldId:"gutterLine",key:"comp.hidden",input:{name:"checkbox",falseVal:"true",label:"Show item separator",defaultVal:"false",trueVal:"false"}},{priority:90,fieldId:"gutterLine",key:"comp.style",input:{name:"changestyle",showAs:"link",label:"Change Item Separator Style",spaceAfter:"20"}}],id:"i7ek4nzf",format:"Mobile"},{name:"TemplateViewVersion_2.0",forType:"NewsPosts_i6cku5qm357",comp:{name:"VBox",items:[{id:"Top",comp:{name:"FieldBox",orientation:"vertical",editorData:{labelPosition:"none",displayName:"Top section",alignment:"left",spacers:{before:0,after:3,"xax-before":0,"xax-after":3}},items:[]},layout:{"min-width":0}},{id:"topSpacer",comp:{name:"VSpacer",size:"0"}},{comp:{name:"HBox",items:[{id:"Left",comp:{name:"FieldBox",orientation:"horizontal",items:[{id:"fld_i70imvqs465",data:"i6ckxtsf",comp:{name:"Field",width:330,height:227,items:[{id:"fld_i70imvqs465_proxy",data:"i6ckxtsf",comp:{name:"Video"},layout:{position:"relative"}}],hidden:!0,labelPosition:"none",spacers:{before:0,after:30,"xax-before":0,"xax-after":0},"box-align":"left"}},{id:"fld_i6m58mzj129",data:"image",comp:{name:"Field",width:330,height:227,items:[{id:"fld_i6m58mzj129_proxy",data:"image",comp:{name:"Image",style:"wp2"}}],hidden:!1,labelPosition:"none",spacers:{before:0,after:30,"xax-before":0,"xax-after":0},"box-align":"left"}}],editorData:{labelPosition:"none",alignment:"left",displayName:"Left section",spacers:{before:0,after:3,"xax-before":0,"xax-after":20}},pack:"start"},layout:{spacerAfter:0,"min-width":0}},{id:"leftToCenterSpacer",comp:{name:"HSpacer",size:"0"}},{id:"Center",comp:{name:"FieldBox",orientation:"vertical",items:[{id:"text_1",data:"title",comp:{name:"TextField","box-align":"start",width:"200","width-mode":"auto","min-lines":0,"max-lines":0,items:[{id:"text_1_proxy",data:"title",comp:{name:"Label",style:"Heading S",bold:!1,italic:!1,underline:!1},layout:{"text-align":"left"}}],spacers:{before:0,after:0,"xax-before":0},"height-mode":"auto"}},{id:"fld_hfnxgxqo",data:"Strng_sTxt1",comp:{name:"TextField",width:"200","width-mode":"auto","min-lines":"0","max-lines":"0",items:[{id:"fld_hfnxgxqo_proxy",data:"Strng_sTxt1",comp:{name:"Label",style:"Body S",bold:!1,italic:!0},layout:{"text-align":"left"}}],spacers:{before:0,after:0,"xax-before":0,"xax-after":0},labelPosition:"none",hidden:!1}},{id:"fld_hfxs75de",data:"wxRchTxt_sTxt0",comp:{name:"TextField",width:"200","width-mode":"auto","min-lines":"0","max-lines":"0",items:[{id:"fld_hfxs75de_proxy",data:"wxRchTxt_sTxt0",comp:{name:"Label"},layout:{"text-align":"left"}}],spacers:{before:10,after:0,"xax-before":0,"xax-after":0},hidden:!1,labelPosition:"none"}},{id:"fld_i70if2w4348",data:"Strng_sBttn0-v1c",comp:{name:"Field",width:160,height:"40",items:[{id:"fld_i70if2w4348_proxy",data:"Strng_sBttn0-v1c",comp:{name:"Button2",style:"b1",align:"center"},layout:{position:"relative"}}],hidden:!0,labelPosition:"none",spacers:{before:20,after:0,"xax-before":0,"xax-after":0},"box-align":"left"}}],editorData:{labelPosition:"none",alignment:"left",displayName:"Center section",spacers:{before:0,after:3,"xax-before":0,"xax-after":0}},pack:"start"},layout:{"box-flex":1,"min-width":0}},{id:"centerToRightSpacer",comp:{name:"HSpacer",size:"3"}},{id:"Right",comp:{name:"FieldBox",orientation:"vertical",editorData:{labelPosition:"none",displayName:"Right section",alignment:"left",spacers:{before:0,after:3,"xax-before":3,"xax-after":0}},items:[]},layout:{"min-width":0}}]},id:"def_3"},{id:"Bottom",comp:{name:"FieldBox",orientation:"vertical",editorData:{labelPosition:"none",displayName:"Bottom section",alignment:"left",spacers:{before:0,after:3,"xax-before":0,"xax-after":3}},items:[],pack:"start"},layout:{"box-flex-pack":"start","min-width":0}},{id:"bottomSpacer",comp:{name:"VSpacer",size:"0"}}]},id:"def_0",editorData:{wasChanged:!0}},{name:"TemplateViewVersion_2.0",forType:"NewsPosts_i6cku5qm357",comp:{name:"VBox",items:[{id:"Top",comp:{name:"FieldBox",orientation:"vertical",editorData:{labelPosition:"none",displayName:"Top section",alignment:"left",spacers:{before:0,after:3,"xax-before":0,"xax-after":0}},items:[]},layout:{"min-width":0}},{id:"topSpacer",comp:{name:"VSpacer",size:0}},{comp:{name:"VBox",items:[{id:"def_3_0",comp:{name:"HBox",orientation:"horizontal",editorData:{labelPosition:"none",displayName:"def_3_0",alignment:"left",spacers:{before:0,after:3,"xax-before":3,"xax-after":0}},items:[{id:"Left",comp:{name:"VBox",orientation:"vertical",items:[{id:"Left_0",comp:{name:"FieldBox",items:[{id:"fld_i70imvqs465",data:"i6ckxtsf",comp:{name:"Field",width:280,height:220,items:[{id:"fld_i70imvqs465_proxy",data:"i6ckxtsf",comp:{name:"Video"},layout:{position:"relative"}}],hidden:!0,labelPosition:"none",spacers:{before:0,after:0,"xax-before":0,"xax-after":10},"box-align":"left"}}],orientation:"horizontal",editorData:{labelPosition:"none",displayName:"Left_0",alignment:"left",spacers:{before:0,after:3,"xax-before":3,"xax-after":0}}},layout:{"min-width":0}},{id:"Left_1",comp:{name:"FieldBox",orientation:"horizontal",editorData:{labelPosition:"none",displayName:"Left_1",alignment:"left",spacers:{before:0,after:3,"xax-before":3,"xax-after":0}},items:[{id:"fld_i6m58mzj129",data:"image",comp:{name:"Field",width:280,height:227,items:[{id:"fld_i6m58mzj129_proxy",data:"image",comp:{name:"Image",style:"wp2"}}],hidden:!1,labelPosition:"none",spacers:{before:0,after:0,"xax-before":0,"xax-after":10},"box-align":"left"}}]},layout:{"min-width":0}}],editorData:{labelPosition:"none",alignment:"left",displayName:"Left section",spacers:{before:0,after:3,"xax-before":0,"xax-after":0}},pack:"start"},layout:{spacerAfter:0,"min-width":0}}]},layout:{"min-width":0}},{id:"def_3_1",comp:{name:"HBox",orientation:"horizontal",editorData:{labelPosition:"none",displayName:"def_3_1",alignment:"left",spacers:{before:0,after:3,"xax-before":3,"xax-after":0}},items:[{id:"leftToCenterSpacer",comp:{name:"HSpacer",size:0}},{id:"Center",comp:{name:"FieldBox",orientation:"vertical",items:[{id:"text_1",data:"title",comp:{name:"TextField","box-align":"start",width:86,"width-mode":"auto","min-lines":0,"max-lines":0,items:[{id:"text_1_proxy",data:"title",comp:{name:"Label",style:"Heading S",bold:!1,italic:!1,underline:!1},layout:{"text-align":"left"}}],spacers:{before:0,after:0,"xax-before":0},"height-mode":"auto"}},{id:"fld_hfnxgxqo",data:"Strng_sTxt1",comp:{name:"TextField",width:86,"width-mode":"auto","min-lines":"0","max-lines":"0",items:[{id:"fld_hfnxgxqo_proxy",data:"Strng_sTxt1",comp:{name:"Label",style:"Body S",bold:!1,italic:!0},layout:{"text-align":"left"}}],spacers:{before:0,after:0,"xax-before":0,"xax-after":0},labelPosition:"none",hidden:!1}},{id:"fld_hfxs75de",data:"wxRchTxt_sTxt0",comp:{name:"TextField",width:86,"width-mode":"auto","min-lines":"0","max-lines":"0",items:[{id:"fld_hfxs75de_proxy",data:"wxRchTxt_sTxt0",comp:{name:"Label"},layout:{"text-align":"left"}}],spacers:{before:10,after:0,"xax-before":0,"xax-after":0},hidden:!1,labelPosition:"none"}},{id:"fld_i70if2w4348",data:"Strng_sBttn0-v1c",comp:{name:"Field",width:280,height:44,items:[{id:"fld_i70if2w4348_proxy",data:"Strng_sBttn0-v1c",comp:{name:"Button2",style:"b1",align:"center"},layout:{position:"relative"}}],hidden:!0,labelPosition:"none",spacers:{before:20,after:0,"xax-before":0,"xax-after":0},"box-align":"left"}}],editorData:{labelPosition:"none",alignment:"left",displayName:"Center section",spacers:{before:0,after:3,"xax-before":0,"xax-after":0}},pack:"start"},layout:{"box-flex":1,"min-width":0}}]},layout:{"min-width":0}},{id:"def_3_2",comp:{name:"HBox",orientation:"horizontal",editorData:{labelPosition:"none",displayName:"def_3_2",alignment:"left",spacers:{before:0,after:3,"xax-before":3,"xax-after":0}},items:[{id:"centerToRightSpacer",comp:{name:"HSpacer",size:3}},{id:"Right",comp:{name:"FieldBox",orientation:"vertical",editorData:{labelPosition:"none",displayName:"Right section",alignment:"left",spacers:{before:0,after:3,"xax-before":0,"xax-after":0}},items:[]},layout:{"min-width":0}}]},layout:{"min-width":0}}],orientation:"vertical"},id:"def_3"},{id:"Bottom",comp:{name:"FieldBox",orientation:"vertical",editorData:{labelPosition:"none",displayName:"Bottom section",alignment:"left",spacers:{before:0,after:3,"xax-before":0,"xax-after":0}},items:[],pack:"start"},layout:{"box-flex-pack":"start","min-width":0}},{id:"bottomSpacer",comp:{name:"VSpacer",size:0}}]},id:"def_0",editorData:{wasChanged:!0,originalWidth:601},format:"Mobile"}],displayName:"News Posts (wide)"}}}),define("wixappsBuilder/util/viewsTemplatesUtils",["lodash","utils"],function(e,t){function a(t,i){if(!e.isObject(i))return i;e.forEach(i,function(e){a(t,e)}),e.has(i,"data")&&t[i.data]&&(i.data=t[i.data])}function i(e,t){var a=e.metadata&&e.metadata.showAsHint,i=t.metadata&&t.metadata.showAsHint;return e.type===t.type&&a===i}function r(t,a){var r=["title","links"],n=e.zipObject(r,r);return t=e.reject(t,function(t){return e.includes(r,t.name)}),a=e.reject(a,function(t){return e.includes(r,t.name)}),e.forEach(t,function(t){var r=e.findIndex(a,i.bind(null,t));-1!==r?(n[t.name]=a[r].name,a.splice(r,1)):n[t.name]=null}),n}function n(t,i,n){if(0===t.length)throw new Error(p);var o=r(i.fields,n.fields);return e.map(t,function(t){var i=e.cloneDeep(t);return a(o,i),i})}function o(t,a){var i=e.filter(t.views,function(e){return"Array"===a.forType?"Array"===e.forType:"Array"!==e.forType});return e.find(i,{format:a.format})||e.head(i)}function s(a,i,r){var s,p=o(a,i);if("Array"===i.forType){s=e.cloneDeep(p);var l=t.objectUtils.filter(s,function(e){return"listItem"===e.id});e.forEach(l,function(e){e.comp.name=i.name})}else s=n([p],a.type,r)[0];return e.assign(s,i)}var p="The template is missing an item view";return{getMatchingViewsForType:n,generateView:s}}),define("wixappsBuilder/core/appPart2DataFetchingStateManager",["wixappsCore"],function(e){function t(e,t){d.setPackageMetadata({loading:!0},e,t.type)}function a(e,t){d.setPackageMetadata({loading:!1},e,t.type)}function i(e,t){a(e,t),d.setPackageMetadata({error:!0},e,t.type)}function r(e,t,a){d.setCompMetadata({loading:!0},e,t.type,a)}function n(e,t,a){d.setCompMetadata({loading:!1},e,t.type,a)}function o(e,t,a){n(e,t,a),d.setCompMetadata({error:!0},e,t.type,a)}function s(e,t,a){var i=d.getCompMetadata(e,t.type,a);return!1===i.loading&&!i.error}function p(e,t){var a=d.getPackageMetadata(e,t.type);return!1===a.loading&&!a.error}function l(e,t,a){return!!d.getCompMetadata(e,t.type,a).error}function c(e,t){return!!d.getPackageMetadata(e,t.type).error}var d=e.wixappsDataHandler;return{clearPackageLoadingState:a,setPackageAsErroneous:i,clearPartLoadingState:n,setPartAsErroneous:o,setPartLoadingState:r,setPackageLoadingState:t,hasPartLoadedSuccessfully:s,hasPackageLoadedSuccessfully:p,isPartErroneous:l,isPackageErroneous:c}}),define("wixappsBuilder/core/builderDataHandler",["lodash","utils","coreUtils","wixappsCore","wixappsBuilder/util/viewsTemplatesData.json","wixappsBuilder/util/viewsTemplatesUtils","wixappsBuilder/core/appRepo","wixappsBuilder/core/appPart2DataFetchingStateManager","wixappsBuilder/core/dataSelectorFactory"],function(e,t,a,i,r,n,o,s,p){function l(e){return e.documentServicesModel&&e.documentServicesModel.neverSaved}function c(t,a,i){var r=T.getDescriptor(t,a.type),n=o.getNamesOfPartsOfType(r,i);e.forEach(n,s.clearPartLoadingState.bind(null,t,a))}function d(t,a,i){var r=T.getDescriptor(t,a.type),n=o.getNamesOfPartsOfType(r,i);e.forEach(n,s.setPartAsErroneous.bind(null,t,a))}function u(e,t){e.isInSSR()&&T.setPackageRequestTimedout(!0,e,t)}function m(t){t=x(t);var a=e.transform(t.views,function(e,t){e[i.viewsUtils.getViewId(t.forType,t.name,t.format)]=t},{}),r=e.transform(t.dataSelectors,function(e,t){e[t.id]=t},{}),n=e.transform(t.types,function(e,t){e[t.name]=t},{});return e.defaults({views:a,dataSelectors:r,types:n,offsetFromServerTime:new Date-new Date(t.serverTime)},t)}function f(t,a){if("Array"===t.forType){var r;i.viewsUtils.traverseViews(t,function(t){if(t.comp&&"PaginatedList"===t.comp.name)return r=e.pick(t.comp,["hidePagination","itemsPerPage"]),!1}),r&&i.viewsUtils.traverseViews(a,function(t){if(t.comp&&"PaginatedList"===t.comp.name)return e.assign(t.comp,r),!1})}}function g(t){var i=t.getAllPageIds().concat("masterPage");return e(i).map(function(e){return{structure:t.getPageData(e,["structure"]),id:e}}).filter("structure").flatMap(function(i){var r=a.dataUtils.getAllCompsInStructure(i.structure,!1,function(e){return"wixapps.integration.components.AppPart2"===e.componentType});return e.map(r,function(a){return e.get(t.getDataByQuery(a.dataQuery,i.id),"appPartName")})}).value()}function h(t,a){a.views=e.reduce(g(t),function(i,o){var s=a.parts[o];if(!s)return i;var p=s.dataSelector||s.dataSelectorDef&&s.dataSelectorDef.id;if(a.dataSelectors[p]||_.reportEvent(t,_.events.APP_PART2_FAILED_TO_LOAD_DATA_SELECTOR,{dataSelector:s.dataSelector}),!e.has(a.types,s.type))return i;var l=[{forType:"Array",name:s.viewName},{forType:"Array",name:s.viewName,format:"Mobile"},{forType:s.type,name:s.viewName},{forType:s.type,name:s.viewName,format:"Mobile"}];return e.forEach(l,function(t){var o=e.compact([t.forType,t.name,t.format]).join("|");if(a.views[o])i[o]=a.views[o];else{var p=a.types[s.type],l=n.generateView(r[s.version||"default"],t,p),c=a.views[t.forType+"|"+t.name];c&&f(c,l),i[o]=l}}),i},{}),e.forEach(a.dataSelectors,function(a){if(a.itemIds&&a.itemIds.length){var i=e.compact(a.itemIds);i.length!==a.itemIds.length&&(_.reportError(t,_.errors.DATA_SELECTOR_CONTAINS_NULL),a.itemsIds=i)}a.hiddenItemIds&&a.hiddenItemIds.length&&(a.itemIds=e.difference(a.itemIds,a.hiddenItemIds))}),e.forEach(a.views,function(t){var a=D.filter(t,function(t){return e.isPlainObject(t)&&e.has(t,"color")&&e.has(t.color,"$expr")&&/Theme\.getColor\([^)]*/.test(t.color.$expr)});e.forEach(a,function(e){delete e.color})})}function x(e){return e=e||{},e.views=e.views||{},e.types=e.types||{},e.dataSelectors=e.dataSelectors||{},e.parts=e.parts||{},e}function y(t,a,i){if(!a.success)return{};var r=a.payload;return!r.repo&&r.blob&&(r.repo=JSON.parse(r.blob)),r.repo=m(r.repo),e.forEach(r.repo,function(t,a){D.ensurePath(i,["descriptor",a]),e.forEach(t,function(e,t){D.setInPath(i,["descriptor",a,t],e)})}),D.ensurePath(i,["descriptor","types"]),e.forEach(r.types,function(e){D.setInPath(i,["descriptor","types",e.name],e),D.ensurePath(i,["items",e.name])}),D.ensurePath(i,["descriptor","tags"]),e.forEach(r.tags,function(e,t){D.setInPath(i,["descriptor","tags",t],e)}),D.setInPath(i,["descriptor","applicationInstanceVersion"],r.version),e.forEach(r.items,function(e){D.setInPath(i,["items",e._type,e._iid],e)}),h(t,i.descriptor),i}function P(a,i,r){var n=t.wixUrlParser.parseUrl(a,a.currentUrl.full),o=T.getSiteDataDestination(i.type);e.forEach(r,s.setPartLoadingState.bind(null,a,i));var p={url:t.urlUtils.baseUrl(a.currentUrl.full)+"/apps/appBuilder/1/viewer/GetAppPartData",force:!0,destination:o,data:{applicationInstanceId:i.instanceId,appPartIds:r,itemIds:e.compact([n.pageAdditionalData])},transformFunc:function(t,n){return t?(e.forEach(r,s.clearPartLoadingState.bind(null,a,i)),y(a,t,n)):(e.forEach(r,s.setPartAsErroneous.bind(null,a,i)),n||{})},error:function(){e.forEach(r,s.setPartAsErroneous.bind(null,a,i))},ontimeout:function(){u(a,i.type),e.forEach(r,s.setPartAsErroneous.bind(null,a,i))}};return a.isInSSR()||(p.timeout=S),[p]}function w(e,a){s.setPackageLoadingState(e,a);var i=l(e)?"published":"saved";return{url:t.urlUtils.baseUrl(e.currentUrl.full)+"/apps/appBuilder/"+i+"/"+a.instanceId,force:!0,destination:T.getSiteDataDestination(a.type).concat(["descriptor"]),transformFunc:function(t){if(!t.success)return s.setPackageAsErroneous(e,a),x();s.clearPackageLoadingState(e,a);var i=m(t.payload);return h(e,i),i},error:s.setPackageAsErroneous.bind(null,e,a)}}function v(e,t,a,i){var r=s.setPartAsErroneous.bind(null,e,t,a);if(s.isPackageErroneous(e,t))return r(),null;var n=T.getDescriptor(e,t.type),p=o.getDataSelector(n,a,e,t,n.applicationInstanceVersion);return p?(s.setPartLoadingState(e,t,a),p.getRequest(i,s.clearPartLoadingState.bind(null,e,t,a),r)):null}function b(e,t,a){var i={logicalTypeName:"IB.AllItemsOfType",forType:a},r=T.getDescriptor(e,t.type);return p.getDataSelector(i,e,t,r.applicationInstanceVersion).getRequest(null,c.bind(null,e,t,a),d.bind(null,e,t,a))}var S=10,D=t.objectUtils,T=i.wixappsDataHandler,_=i.wixappsLogger;return{transformAppRepo:m,transformBundledPartsData:y,ensureRepoFields:x,getBundledPartsDataRequest:P,getApplicationRepoRequest:w,getAppPartDataRequest:v,getAllItemsOfTypeRequest:b}}),define("wixappsBuilder/util/fontUtils",["lodash","fonts","wixappsCore","wixappsBuilder/core/appRepo","wixappsBuilder/core/appPart2DataFetchingStateManager"],function(e,t,a,i,r){function n(t){var i=[];return e.forEach(t,function(e){a.viewsUtils.traverseViews(e,function(e){e.comp.fontFamily&&i.push(e.comp.fontFamily)})}),i}t.fontUtils.registerCustomTextDataGetter("AppBuilderComponent",function(t,n){var o=t.getClientSpecMapEntry(n.appInnerID);if(!o)return null;if(!r.hasPartLoadedSuccessfully(t,o,n.appPartName))return null;var s=a.wixappsDataHandler.getDescriptor(t,"appbuilder"),p=s&&i.getDataSelector(s,n.appPartName,t,o,s.applicationInstanceVersion);if(!p)return null;var l=p.getData();if(!l||0===l.length)return null;var c=a.wixappsDataHandler.getDataByPath(t,"appbuilder",l),d=e.compact(e.flattenDeep([c])),u=[];return e.forEach(d,function(t){e.forEach(t,function(t){var i=a.typeNameResolver.getDataItemTypeName(t);e.includes(["wix:MediaRichText","wix:RichText"],i)&&u.push(t.text)})}),u}),t.fontUtils.registerCustomFontFamiliesGetter("AppBuilderComponent",function(t){var i=[],r=a.wixappsDataHandler.getDescriptor(t,"appbuilder");return r&&!e.isEmpty(r.views)&&(i=i.concat(n(r.views))),i})}),define("wixappsBuilder/core/appPart2DataRequirementsChecker",["lodash","core","wixappsCore","wixappsBuilder/core/builderDataHandler"],function(e,t,a,i){var r=t.dataRequirementsChecker,n=a.wixappsDataHandler;r.registerCheckerForAllCompsOfType("wixapps.integration.components.AppPart2",function(t,a,r){if(!t.isViewerMode())return[];var o=a[0].data.appInnerID,s=t.getClientSpecMapEntry(o),p=e.map(a,"data.appPartName"),l=n.getPackageMetadata(t,s.type);l.requestedPartNames=l.requestedPartNames||[];var c=e.difference(p,l.requestedPartNames);return l.requestedPartNames=e.union(l.requestedPartNames,p),n.setPackageMetadata(l,t,s.type),c.length?i.getBundledPartsDataRequest(t,s,c,r):n.didPackageHadRequestsTimeoutInSSR(t,s.type)&&!t.isInSSR()?(n.setPackageRequestTimedout(!1,t,s.type),i.getBundledPartsDataRequest(t,s,p,r)):[]})}),define("wixappsBuilder/core/appPart2PreviewDataRequirementsChecker",["lodash","core","wixappsCore","wixappsBuilder/core/builderDataHandler","wixappsBuilder/core/appPart2DataFetchingStateManager","wixappsBuilder/core/appRepo"],function(e,t,a,i,r,n){function o(e,t){return e.isViewerMode()?[]:l.getPackageMetadata(e,t.type).wasRepoRequested?[]:(l.setPackageMetadata({wasRepoRequested:!0,requestedPartNames:[]},e,t.type),i.getApplicationRepoRequest(e,t))}function s(t,a){if(t.isViewerMode())return[];var o=a.data.appInnerID,s=t.getClientSpecMapEntry(o),p=a.data.appPartName,c=l.getDescriptor(t,s.type);if(!c&&!r.isPackageErroneous(t,s))return r.setPartLoadingState(t,s,p),[];var d=l.getPackageMetadata(t,s.type);if(d.requestedPartNames=d.requestedPartNames||[],e.includes(d.requestedPartNames,p))return[];d.requestedPartNames.push(p);var u=n.getAppPartDefinition(c,p);if(!u)return r.setPartAsErroneous(t,s,p),[];var m=u.type;return d.requestedTypes=d.requestedTypes||[],e.includes(d.requestedTypes,m)?[]:(d.requestedTypes.push(m),l.setPackageMetadata(d,t,s.type),i.getAllItemsOfTypeRequest(t,s,m)||[])}var p=t.dataRequirementsChecker,l=a.wixappsDataHandler;return p.registerCheckerForAppDefId("3d590cbc-4907-4cc4-b0b1-ddf2c5edf297",o),p.registerCheckerForCompType("wixapps.integration.components.AppPart2",s),{partRequestGetter:s,repoRequestGetter:o}}),define("wixappsBuilder/core/appPart2StyleCollector",["lodash","core","wixappsCore","wixappsBuilder/core/appRepo","wixappsBuilder/core/appPart2DataFetchingStateManager"],function(e,t,a,i,r){var n=a.wixappsDataHandler;t.styleCollector.registerClassBasedStyleCollector("wixapps.integration.components.AppPart2",function(t,o,s,p){var l=t.dataItem,c=s.getClientSpecMapEntry(l.appInnerID);if(!r.isPartErroneous(s,c)){var d=n.getDescriptor(s,c.type),u=d&&i.getAppPartDefinition(d,l.appPartName);if(u){var m=u.viewName,f=e.filter(d.views,{name:m});e.forEach(f,function(e){a.styleCollector.collectViewStyles(e,o,p)}),a.styleCollector.addDefaultStyles(o,p)}}})}),define("wixappsBuilder",["core","wixappsCore","wixappsBuilder/comps/appPart2","wixappsBuilder/proxies/fieldBoxProxy","wixappsBuilder/proxies/fieldProxy","wixappsBuilder/proxies/textFieldProxy","wixappsBuilder/core/appRepo","wixappsBuilder/core/builderDataHandler","wixappsBuilder/core/appPart2DataFetchingStateManager","wixappsBuilder/util/viewsTemplatesUtils","wixappsBuilder/util/viewsTemplatesData.json","wixappsBuilder/util/fieldBoxProxyUtils","wixappsBuilder/util/appbuilderUrlUtils","wixappsBuilder/core/appBuilderSantaTypes","wixappsBuilder/util/fontUtils","wixappsBuilder/core/appPart2DataRequirementsChecker","wixappsBuilder/core/appPart2PreviewDataRequirementsChecker","wixappsBuilder/core/appPart2StyleCollector"],function(e,t,a,i,r,n,o,s,p,l,c,d,u,m){return e.compRegistrar.register("wixapps.integration.components.AppPart2",a,!0),t.proxyFactory.register("FieldBox",i),t.proxyFactory.register("Field",r),t.proxyFactory.register("TextField",n),{appBuilderSantaTypes:m,appRepo:o,builderDataHandler:s,dataFetchingStateManager:p,viewsTemplatesUtils:l,fieldBoxProxyUtils:d,viewsTemplatesData:c,resolveImageData:u.resolveImageData}});
//# sourceMappingURL=wixappsBuilder.min.js.map