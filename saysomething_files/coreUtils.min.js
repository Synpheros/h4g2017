"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};define("coreUtils/core/ajaxLibrary",["lodash"],function(e){function t(e){if("function"!=typeof e)throw"ajaxMethod must be a function";r=e}var r=function(){throw"must register ajax function: zepto $.ajax for clientSide, or request() for serverSide"};return{register:t,ajax:function(t){return t.asForm?t.contentType="application/x-www-form-urlencoded":"POST"===t.type&&"json"===t.dataType&&e.isObject(t.data)&&!t.asForm&&e.assign(t,{data:JSON.stringify(t.data),contentType:t.contentType||"application/json; charset=utf-8",processData:!1}),r(t)},get:function(e,t,n,a){if("object"===(void 0===e?"undefined":_typeof(e)))return r(e);var i={url:e};return t&&(i.data=t),n&&(i.success=n),a&&(i.dataType=a),r(i)}}}),define("coreUtils/core/domMeasurements",["zepto","lodash"],function(e,t){function r(e){var t=window.getComputedStyle(e);return{top:parseFloat(t.getPropertyValue("border-top-width"),10),left:parseFloat(t.getPropertyValue("border-left-width"),10)}}function n(e,t){for(var n=e.offsetTop,a=e.offsetLeft,i=e.offsetWidth,o=e.offsetHeight,s={top:0,left:0};e.offsetParent&&(e=e.offsetParent,s=r(e),n+=s.top,a+=s.left,!t||e!==t);)n+=e.offsetTop,a+=e.offsetLeft;return{top:n,left:a,width:i,height:o,bottom:n+o,right:a+i}}function a(e,t,r){r=r||"undefined"!=typeof window&&window;var a=n(e,t);if(r){var i=r.pageYOffset||r.scrollTop||0,o=r.pageXOffset||r.scrollLeft||0;a.top-=i,a.bottom-=i,a.left-=o,a.right-=o}return a}function i(r,a,o,s){return s=s||n(r,a),o=o||e(r).children("div"),t.forEach(o,function(t){var r=n(t,a);r.width>0&&r.height>0&&(r.left<s.left&&(s.left=r.left),r.right>s.right&&(s.right=r.right),r.top<s.top&&(s.top=r.top),r.bottom>s.bottom&&(s.bottom=r.bottom));var o=e(t),l=o.children("div");l.length&&"hidden"!==o.css("overflow")&&i(t,a,l,s)}),s.width=s.right-s.left,s.height=s.bottom-s.top,s}function o(e,t,r){r=r||"undefined"!=typeof window&&window;var n=i(e,t);if(r){var a=r.pageYOffset||r.scrollTop||0,o=r.pageXOffset||r.scrollLeft||0;n.top-=a,n.bottom-=a,n.left-=o,n.right-=o}return n}return{getElementRect:n,getBoundingRect:a,getContentRect:i,getBoundingContentRect:o}}),define("coreUtils/core/imageAnalyzer",["lodash"],function(e){function t(){e.forEach(p,function(e){this[e]={}}.bind(this))}function r(e){for(var t=0,r=e.length/4,n=0;n<e.length;n+=4){var a=e[n]/255,i=e[n+1]/255,o=e[n+2]/255;t+=100*Math.max(a,i,o)/r}return t}function n(e){var t=r(e.data);postMessage(JSON.stringify(t))}function a(){return String(r)+("onmessage = "+String(n)+";")}function i(e,t,r){var n=new window.Image;n.crossOrigin="Anonymous",n.onload=function(){t(n)},n.onerror=r,n.src=e}function o(e,t){var r=window.document.createElement("canvas").getContext("2d");return r.drawImage(e,0,0),r.getImageData(0,0,t.width,t.height).data}function s(t,r,n){window.Worker||n("Browser does not support Web Workers");var i=new window.Blob([a()]),o=window.URL.createObjectURL(i),s=new window.Worker(o);s.onmessage=function(t){s.terminate();var a=JSON.parse(t.data);e.isFinite(a)?r(a):n()},s.onerror=n,s.postMessage(t)}function l(e,t,r,n){i(e,function(a){h.setReqStatus(p.BRIGHTNESS,e,f.PENDING),s(o(a,t),r,n)},n)}function u(){var e=window.document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}function c(t){var r=h.getResultErrorCallbacks(p.BRIGHTNESS,t);h.remove(p.BRIGHTNESS,t),e.forEach(r,function(e){e()})}function g(t,r){var n=h.getResultSuccessCallbacks(p.BRIGHTNESS,t);h.setReqStatus(p.BRIGHTNESS,t,f.COMPLETE),h.setReqResult(p.BRIGHTNESS,t,r),e.forEach(n,function(e){e(r)}),h.clearResultCallbacks(p.BRIGHTNESS,t)}function d(t,r,n,a){switch(a=a||e.noop,n=n||e.noop,u()||a("HTML5 <canvas> is not supported in this browser"),h.getReqStatus(p.BRIGHTNESS,t)){case f.COMPLETE:n(h.getReqResult(p.BRIGHTNESS,t));break;case null:h.setReqStatus(p.BRIGHTNESS,t,f.INIT),h.registerCallbacksForResult(p.BRIGHTNESS,t,n,a),l(t,r,e.partial(g,t),e.partial(c,t));break;default:h.registerCallbacksForResult(p.BRIGHTNESS,t,n,a)}}var p={BRIGHTNESS:"brightness"},f={INIT:"init",PENDING:"pending",COMPLETE:"complete"};t.prototype={getReqResult:function(e,t){var r=this[e][t];return r&&r.status===f.COMPLETE?r.result:null},setReqResult:function(e,t,r){this[e][t]=this[e][t]||{},this[e][t].result=r},getReqStatus:function(e,t){var r=this[e][t];return r&&r.status||null},setReqStatus:function(e,t,r){this[e][t]=this[e][t]||{},this[e][t].status=r},remove:function(e,t){delete this[e][t]},registerCallbacksForResult:function(e,t,r,n){this[e][t]=this[e][t]||{};var a=this[e][t];a.callbacks=a.callbacks||{onSuccess:[],onError:[]},a.callbacks.onSuccess.push(r),a.callbacks.onError.push(n)},clearResultCallbacks:function(e,t){delete this[e][t].callbacks},getResultSuccessCallbacks:function(e,t){var r=this[e][t];return r&&r.callbacks&&r.callbacks.onSuccess||[]},getResultErrorCallbacks:function(e,t){var r=this[e][t];return r&&r.callbacks&&r.callbacks.onError||[]}};var h=new t;return{getImageMeanBrightness:d}}),define("coreUtils/core/imageUtils",["lodash","imageClientApi","coreUtils/core/imageAnalyzer"],function(e,t,r){function n(t,r){var n=e.get(t,"query",{}),a=e(n).keys().find(function(t){return e.includes(["devicepixelratio"],t.toLowerCase())});return Number(n[a])||r||1}function a(r,a,i,o,s){if(!r.containerWidth||!r.containerHeight||!r.imageData.uri)return{uri:"",css:{}};var l=r.imageData,u=r.displayMode||t.fittingTypes.SCALE_TO_FILL,c=e.defaults(r.quality||{},l.quality);o=n(i,o);var g=e.assign(e.pick(l,["width","height","crop"]),{id:l.uri}),d={width:r.containerWidth,height:r.containerHeight,htmlTag:s||"img",pixelAspectRatio:o,alignment:r.alignType||t.alignTypes.CENTER},p=t.getData(u,g,d,c);return p.uri=a(p.uri),(l.itemProp||r.addItemProp)&&(p.itemProp=l.itemProp||"image"),e.has(r,"labelledById")&&(p["aria-labelledby"]=r.labelledById),e.has(r,"describedById")&&(p["aria-describedby"]=r.describedById),p}function i(r,n,a){var i,s,l=n.width/n.height,u=a===t.fittingTypes.LEGACY_FIT_WIDTH,c=a===t.fittingTypes.LEGACY_FIT_HEIGHT;return u?(s=r.width/l,i=o(r.width,s)):i=c?o(r.height*l,r.height):e.clone(r),i}function o(e,t){return{width:Math.ceil(e),exactWidth:e,height:Math.ceil(t),exactHeight:t}}return{getContainerSize:i,getImageComputedProperties:a,getImageMeanBrightness:r.getImageMeanBrightness,alignTypes:t.alignTypes,fittingTypes:t.fittingTypes}}),define("coreUtils/core/languages",[],function(){return["de","en","es","fr","it","ja","ko","pl","ru","nl","tr","sv","pt","no","da","hi","zh","cs","th"]}),define("coreUtils/core/SiteDataPrivates",["lodash"],function(e){function t(){this.name="_privates_"+r,r++}if("undefined"!=typeof WeakMap)return WeakMap;var r=0;return t.prototype.set=function(e,t){e[this.name]=t},t.prototype.get=function(e){return e[this.name]},t.prototype.delete=function(e){delete e[this.name]},t.prototype.has=function(t){return e.has(t,this.name)},t}),define("coreUtils/core/pathValidationUtil",["lodash","coreUtils/core/SiteDataPrivates"],function(e,t){function r(t,r,n){if(!e.isArray(t))throw new Error("path type is not an array - "+t);if(!a(r,t,n))throw new Error("path does not exist - "+t);return!0}function n(t,r,n){if(!r)return!1;var a=o(t,r,r.length);return!e.isUndefined(a)&&(!n||n(a))}function a(t,r,n){if(!r||!e.isArray(r))return!1;var a=r[r.length-1],i=o(t,r,n?r.length:r.length-1);return!e.isUndefined(i)&&(!!n||s(a,i))}function i(t,r,n){for(var a=t,i=0;i<r&&(a=a[n[i]],!e.isUndefined(a));i++);return a}function o(t,r,n){var a=e.take(r,n);if(r&&"pagesData"===r[0]&&!e.isEmpty(t.pagesDataRaw))return 0===a.length?t.pagesDataRaw:e.get(t.pagesDataRaw,a);var o=c.get(t);return e.get(o,"mobxDataHandlers.getObservableByPath")?o.mobxDataHandlers.getObservableByPath(t,a):i(t,n,r)}function s(t,r){return e.isNumber(t)?e.isArray(r):!!e.isString(t)&&l(r)}function l(e){return"[object Object]"===Object.prototype.toString.call(e)}function u(t,r){var n=c.get(t);c.set(t,e.assign(n,{mobxDataHandlers:r}))}var c=new t;return{setMobxDataHandlers:u,validatePath:r,validatePathExist:a,validatePathExistsAndCorrect:n}}),define("coreUtils/dal/DisplayedJsonDal",["lodash","coreUtilsLib","coreUtils/core/pathValidationUtil"],function(e,t,r){function n(e,t,n){return r.validatePathExist(e,t,n)}function a(t,r){var n=[].concat(r),a=n.pop(),i=e.get(t,n,t);e.isArray(i)?i.splice(a,1):delete i[a]}function i(t,r){var n=this.getByPath(t),a=e.assign({},n,r);this.setByPath(t,a)}function o(e,t,r,n){0===e?t.unshift(r):t.splice(e,0,r),this.setByPath(n,t)}function s(t,r){var n=e.get(t,r);if(!e.isPlainObject(n))throw new Error("Can not get keys of an element that isn't a plain object");return e.keys(n)}var l=t.objectUtils.cloneDeep,u=function(e,t,r){this.pointersCache=t,this.jsonData=e,this.jsonData.pagesDataRaw={},this.mobxDataHandlers=r||{}};return u.prototype={get:function(e,t){var r=this.pointersCache.getPath(e);return this.getByPath(r,t)},getByPath:function(t,r){if(t)return this.mobxDataHandlers.getByPath?this.mobxDataHandlers.getByPath(this.jsonData,t,r):l(e.get(this.jsonData,t))},set:function(e,t){var r=this.pointersCache.getPath(e,!0);this.setByPath(r,t)},setByPath:function(t,r){if(!e.isArray(t))throw new Error("path type is not an array - "+t);this.mobxDataHandlers.setByPath?this.mobxDataHandlers.setByPath(this.jsonData,t,r):e.set(this.jsonData,t,l(r)),this.pointersCache.resetValidations()},isExist:function(e){return!!this.pointersCache.getPath(e)},isPathExist:function(e){return this.mobxDataHandlers.getObservableByPath&&this.mobxDataHandlers.getObservableByPath(this.jsonData,e),n(this.jsonData,e,!0)},merge:function(e,t){if(this.isExist(e)){var r=this.pointersCache.getPath(e);this.mergeByPath(r,t)}},mergeByPath:function(t,r){if(n(this.jsonData,t,!0)&&e.isPlainObject(r))this.mobxDataHandlers.mergeByPath?this.mobxDataHandlers.mergeByPath(this.jsonData,t,r):i.call(this,t,r),this.pointersCache.resetValidations();else if(!e.isPlainObject(r))throw new Error(r+" is not an object")},push:function(t,r,n,a){if(!this.isExist(t))throw new Error(JSON.stringify(t)+" path does not exist");var i=this.pointersCache.getPath(t);if(!e.isUndefined(a)&&!e.isNumber(a))throw new Error("push index arguments should be a number");if(this.pushByPath(i,r,a),n){var o=i.concat(a);this.pointersCache.setPath(n,o)}},pushByPath:function(t,r,n){var a;if(a=this.mobxDataHandlers.getObservableByPath?this.mobxDataHandlers.getObservableByPath(this.jsonData,t):this.getByPath(t),(n=e.isNumber(n)?n:a.length)>a.length||n<0)throw new Error("Index out of bound");this.mobxDataHandlers.pushByPath?this.mobxDataHandlers.pushByPath(this.jsonData,n,a,r,t):o.call(this,n,a,r,t),this.pointersCache.resetValidations()},remove:function(e){var t=this.pointersCache.getPath(e);if(!t)throw new Error(e+" pointer does not exist");this.removeByPath(t)},removeByPath:function(e){if(!e)throw new Error("path is not valid");this.mobxDataHandlers.removeByPath?this.mobxDataHandlers.removeByPath(this.jsonData,e):a(this.jsonData,e),this.pointersCache.resetValidations()},getKeys:function(e,t){var r=this.pointersCache.getPath(e);if(r)return this.getKeysByPath(r,t)},getKeysByPath:function(e,t){return r.validatePath(e,this.jsonData),this.mobxDataHandlers.getKeysByPath?this.mobxDataHandlers.getKeysByPath(this.jsonData,e,t):s(this.jsonData,e)},getStructureProperty:function(t){var r=this.pointersCache.getPath(t,!0);return e.has(this.jsonData.pagesDataRaw,r)||e.get(this.jsonData,e.slice(r,0,3),{}).isStructureNode||this.setByPath(r,void 0),this.getByPath(r)}},u}),define("coreUtils/core/displayedOnlyStructureUtil",["lodash"],function(e){function t(e,t){return e+s+t}function r(e,r,n){var a=e.id;n(a,t(a,r))}function n(a,i,o){o=o||e.noop;var s=a.components,u=e.map(s,function(e){return n(e,i,o)}),c=t(a.id,i),g=e.reduce(l,function(e,r){return a[r]&&(e[r]=t(a[r],i)),e},{id:c});return r(a,i,o),e.defaults(g,s&&{components:u},a)}function a(e){return!!i(e)}function i(e){if(e)return e.split(s)[1]}function o(e){if(e)return e.split(s)[0]}var s="__",l=["dataQuery","designQuery"];return{getUniqueStructure:n,isDisplayedComponent:a,getItemId:i,generateUniqueItemId:t,getOriginalId:o}}),define("coreUtils/core/SessionFreezer",["lodash"],function(e){function t(e){n.push(e)}function r(){e.forEach(n,Object.freeze)}var n=[];return{freeze:t,start:r}}),define("coreUtils/pointers/pointerGeneratorsRegistry",["coreUtils/core/SessionFreezer"],function(e){var t={},r={},n={},a={};return e.freeze(t),e.freeze(r),e.freeze(n),e.freeze(a),{registerDataAccessPointersGenerator:function(e,a,i){i?r[e]=a:t[e]=a,n[e]=a},registerPointerType:function(e,t,r,n,i,o){a[e]={findItemFunction:t,identityCheckFunction:r,isUsingDifferentNameSpaceForFull:n,isExistInFullJson:i,supportDisplayedOnlySplit:o}},getRegularJsonGenerators:function(){return t},getBothRegularAndFullJsonGenerators:function(){return r},getAllTypes:function(){return a}}}),define("coreUtils/pointers/pointersCache",["lodash","coreUtils/core/pathValidationUtil","coreUtils/core/displayedOnlyStructureUtil","coreUtils/pointers/pointerGeneratorsRegistry","multilingual","experiment"],function(e,t,r,n,a,i){function o(t,r){var n=t;return e.forEach(r,function(t){if(e.isUndefined(n))return!1;n=n[t]}),n}function s(e,t){if(!e)return!t;if(!t||t.length!==e.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}function l(t,r,a,s){this.initMyState(),this.json=r,this.fullJson=a,this.siteData=t;var l=e.get(s,"getItemInPath",o);this.getItemInPath=l.bind(null,r),this.fullJsonGetItemInPath=l.bind(null,a),this.validated={},this.pointersMap={},this.hasMultilingualExperiment=i.isOpen("sv_multilingual",this.siteData);var u=n.getAllTypes();e.forOwn(u,function(e,t){this.cache[t]={},this.itemFinders[t]=e.findItemFunction,this.identityCheckers[t]=e.identityCheckFunction,this.identityCheckersCache[t]={},e.isUsingDifferentNameSpaceForFull&&(this.fullJsonCache[t]={}),e.isExistInFullJson&&(this.typesExistingInFullJson[t]=!0),this.supportDisplayedOnlySplit[t]=e.supportDisplayedOnlySplit}.bind(this))}function u(e,r,n,a,i){var o=this.validated[e]||p;if(a)return o||(t.validatePathExist(i,n,!1)?f:p);if(o!==h){var s=r.id,l=this.identityCheckersCache[r.type],u=l[s];u||(u=this.identityCheckers[r.type].bind(this,s),l[s]=u),o=t.validatePathExistsAndCorrect(i,n,u)?h:p}return o}function c(e,t,r,n){var a=null,i=this.itemFinders[e.type];return i&&(a=i(this.siteData.getAllPossiblyRenderedRoots(),n,e),t[e.id]=a||r),a}function g(e,t){var r=t?"|":",";return e.id+r+e.type}function d(r,n,i){var o=r&&this.fullJsonCache.hasOwnProperty(n.type),s=o?this.fullJsonCache:this.cache,l=r&&this.typesExistingInFullJson.hasOwnProperty(n.type),d=l?this.fullJson:this.json,f=l?this.fullJsonGetItemInPath:this.getItemInPath,m=s[n.type];if(!m)return null;var P=m[n.id],v=i&&e.isEmpty(n.innerPath),y=g(n,o),I=u.call(this,y,n,P,v,d,o);if(I===p&&(I=(P=v?null:c.call(this,n,m,P,f))?h:this.validated[y]||p),this.validated[y]=I,P&&n.innerPath&&(P=P.concat(n.innerPath),!t.validatePathExist(d,P,!i)))return null;if(this.hasMultilingualExperiment&&e.has(n,"multilingual")&&e.includes(P,"pagesData")){var U=a.getTranslationPath(P,e.indexOf(P,"data")),D=n.multilingual===a.PointerOperation.GET;if(t.validatePathExist(d,P,!0)&&t.validatePathExist(d,U,D))return U}return P}var p=0,f=1,h=2;return l.prototype={initMyState:function(){this.cache={general:{}},this.fullJsonCache={},this.itemFinders={general:function(){return null}},this.identityCheckers={general:function(){return!0}},this.identityCheckersCache={},this.typesExistingInFullJson={},this.supportDisplayedOnlySplit={}},getBoundCacheInstance:function(e){return{getAllPointers:this.getAllPointers.bind(this),registerDisplayedOnlyComponent:this.registerDisplayedOnlyComponent.bind(this),getPath:this.getPath.bind(this,e),getPointer:this.getPointer.bind(this,e),setPath:this.setPath.bind(this,e),resolveId:this.resolveId.bind(this,e),resetValidations:this.resetValidations.bind(this)}},setPath:function(e,t,r){r&&(e?this.fullJsonCache[t.type][this.resolveId(e,t.id,t.type)]=r:this.cache[t.type][this.resolveId(e,t.id,t.type)]=r)},getPath:function(t,r,n){var a={type:r.type,id:this.resolveId(t,r.id,r.type)};return r.hasOwnProperty("innerPath")&&(a.innerPath=r.innerPath),this.hasMultilingualExperiment&&e.has(r,"multilingual")&&(a.multilingual=r.multilingual),d.call(this,t,a,!!n)},getPointer:function(e,t,r,n,a){var i=e&&this.fullJsonCache[r],o=i?this.fullJsonCache[r]:this.cache[r],l={type:r,id:t};return n&&(s(o[t],n)||(this.validated[g(l,i)]=p,o[t]=n)),o[t]?(a&&(l.component=a),l):null},getAllPointers:function(t){var r=e.get(this.pointersMap,this.resolveId(!0,t.id,t.type));return r?e(r).map(function(e){return{id:e,path:this.getPath(!1,{id:e,type:t.type})}}.bind(this)).filter("path").map(function(e){var r=this.getPointer(!1,e.id,t.type,e.path);return t.innerPath&&t.innerPath.length&&(r.innerPath=t.innerPath),r}.bind(this)).value():[t]},registerDisplayedOnlyComponent:function(t,r){var n=e.get(this.pointersMap,t,{});n[r]=r,this.pointersMap[t]=n},resolveId:function(e,t,n){return e&&this.supportDisplayedOnlySplit[n]&&r.getOriginalId(t)||t},resetValidations:function(){this.validated={}}},l}),define("coreUtils/pointers/DataAccessPointers",["lodash","coreUtils/pointers/pointerGeneratorsRegistry"],function(e,t){function r(r,n,a){var i=t.getRegularJsonGenerators();e.forEach(i,function(t,i){r[i]=e.mapValues(t,function(e){return e.bind(t,n.getItemInPath,a)})})}function n(r,n){var a=t.getBothRegularAndFullJsonGenerators();e.forEach(a,function(t,a){r[a]=e.mapValues(t,function(e){return n(e,!1,t)}),r.full[a]=e.mapValues(t,function(e){return n(e,!0,t)})})}function a(t){this.full={};var a=t.getBoundCacheInstance(!1),i=t.getBoundCacheInstance(!0),o=function(r,n,o){return function(){var s=e.toArray(arguments),l=[t.getItemInPath,a].concat(s),u=[t.fullJsonGetItemInPath,i].concat(s),c=r.apply(o,l),g=r.apply(o,u);return n?g:c}};r(this,t,a),n(this,o)}function i(e){e&&a.call(this,e)}function o(t){if(t)return e(t).pick("type","id","fullId").omit(e.isUndefined).value()}return i.prototype={getGeneralTheme:function(){},getInnerPointer:function(t,r){var n=o(t);if(n){var a=e.isString(r)?r.split("."):r;n.innerPath=t.innerPath?t.innerPath.concat(a):a}return n},isSamePointer:function(e,t){return e&&t&&e.type===t.type&&e.id===t.id},getInnerPointerPathRoot:function(e){return e.innerPath?e.innerPath[0]:null},getOriginalPointerFromInner:o,getPointerType:function(t){switch(t.type){case"DESKTOP":case"MOBILE":return e.isEmpty(t.innerPath)?"component":"componentStructure";default:return t.type}}},i}),define("coreUtils/dal/DALFactory",["lodash","coreUtils/core/SiteDataPrivates","coreUtils/dal/DisplayedJsonDal","coreUtils/pointers/pointersCache","coreUtils/pointers/DataAccessPointers"],function(e,t,r,n,a){function i(t,r){var a=c.get(t);if(a&&a.pointersCache)return a.pointersCache;var i=l(t,r||e.pick(t,"pagesData")),o=new n(t,t,i,e.get(a,"mobxDataHandlers"));return c.set(t,e.assign(c.get(t),{pointersCache:o})),o}function o(e,t){var r=i(e,t);return new a(r)}function s(t,n){var a=c.get(t);if(a&&a.displayedJsonDal)return a.displayedJsonDal;var o=i(t,n),s=new r(t,o.getBoundCacheInstance(!1),e.get(a,"mobxDataHandlers"));return c.set(t,e.assign(c.get(t),{displayedJsonDal:s})),s}function l(t,r){var n=c.get(t);return n&&n.fullJson?n.fullJson:(c.set(t,e.assign(c.get(t),{fullJson:r})),r)}function u(t,r){var n=c.get(t);c.set(t,e.assign(n,{mobxDataHandlers:r}))}var c=new t;return{setMobxDataHandlers:u,getInstance:s,getCacheInstance:i,getPointersInstance:o,getFullPagesData:l}}),define("coreUtils/dal/siteDataUtils",["lodash","coreUtils/dal/DALFactory"],function(e,t){function r(e,r,n){var a=t.getInstance(e),i=["dynamicPages","routersRendererIndex"],o=r.pageId,s=e.isPopupPage(o),l={},u={};if(n&&(s||(l.primaryPage=null),l.popupPage=null),u[o]=r,e.isDynamicPage(o)){var c=a.getByPath(i);u[o].routersRendererIndex=r.pageAdditionalData+c,a.setByPath([i],c+1)}s?l.popupPage=r.pageId:(u[e.MASTER_PAGE_ID]=r,l.primaryPage=r.pageId),a.mergeByPath(["_currentRootInfos"],u),a.mergeByPath(["_currentPageIds"],l)}function n(e,r){return t.getInstance(e).getByPath(["_browserFlags",r])}function a(e,r){return t.getInstance(e).getByPath(["svgShapes",r])}function i(e){return"editor"===t.getInstance(e).getByPath(["renderFlags","componentViewMode"])}function o(e){return t.getInstance(e).getByPath(["renderFlags","isWixAdsAllowed"])}function s(e,r,n){return t.getInstance(e).setByPath(["svgShapes",r],n)}function l(e){var r=t.getInstance(e);return e.resolvedDataMaps&&r.isPathExist(["resolvedDataMaps","masterPage"]),r.isPathExist(["pagesData","masterPage","structure","mobileComponents"])}function u(t,r){if(!t.isPathExist(["wixappsRenderCounters"])){var n=e.set({},r,{});return void t.setByPath(["wixappsRenderCounters"],n)}t.isPathExist(["wixappsRenderCounters",r])||t.setByPath(["wixappsRenderCounters",r],{})}function c(e,r,n){n=n||"general";var a=t.getInstance(e),i=["wixappsRenderCounters",r,n];a.isPathExist(i)||(u(a,r),a.setByPath(i,0));var o=a.getByPath(i);a.setByPath(i,o+1)}function g(e){return t.getInstance(e).getByPath(["mapFromPageUriSeoToPageId"])}function d(e,r){var n=t.getInstance(e);return r?n.getByPath(["requestModel",r]):n.getByPath(["requestModel"])}function p(e,r,n){t.getInstance(e).setByPath(["customUrlMapping",r],n)}function f(r,n){var a=t.getInstance(r),i=r.getScreenSize();e.isEqual(i,n)||a.mergeByPath(["screenSize"],n)}function h(e,r){var n=t.getInstance(e);return r?n.getByPath(["rendererModel",r]):n.getByPath(["rendererModel"])}function m(r){var n=t.getInstance(r),a=["pagesData","masterPage","data","document_data"],i=n.getKeysByPath(a);return e.filter(i,function(e){var t=n.getByPath(a.concat([e,"type"]));return"Page"===t||"AppPage"===t})}return{incrementWixappsRenderCounter:c,setRootNavigationInfo:r,isMobileStructureExists:l,getBrowserFlag:n,setSvgShape:s,getSvgShape:a,isEditingMode:i,isWixAdsAllowed:o,getMapFromPageUriSeoToPageId:g,getRequestModel:d,getRendererModel:h,setCustomUrlMapping:p,getAllPageIds:m,updateScreenSize:f}}),define("coreUtils/core/wixUserApi",["lodash","coreUtils/core/languages","coreUtilsLib","coreUtils/dal/siteDataUtils","experiment"],function(e,t,r,n,a){function i(e){var t=l.parseCookieString(e)[c];if(t){var r=t.split("|");return{userName:r[0],email:r[1],mailStatus:r[2],permissions:r[3],isSessionNew:r[4],isSessionValid:r[5],userID:r[6]}}return null}function o(e){return l.parseCookieString(e)[u]}function s(){return"undefined"==typeof window||void 0===window.navigator?null:a.isOpen("sv_browserLangFix")?(window.navigator.languages?window.navigator.languages[0]:null)||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage:window.navigator.language||window.navigator.browserLanguage}var l=r.cookieUtils,u="wixLanguage",c="wixClient";return{getUsername:function(e){var t=i(n.getRequestModel(e,"cookie"));return t?t.userName:null},getLanguage:function(r,n,a){var i=o(r||""),l=n.query&&n.query.lang||function(){var e=n.host.split(".");return 2===e[0].length?e[0]:null}()||i||s()||a;return l&&(l=l.substring(0,2).toLowerCase()),e.includes(t,l)?l:"en"},isSessionValid:function(e){return!!i(e)},logout:function(e){var t=window.document?window.document.location.host:"";t=t.substring(t.indexOf(".")+1),l.deleteCookie(c,t),"undefined"!=typeof document&&(e.requestModel.cookie=window.document.cookie)},getLanguages:function(){return t}}}),define("coreUtils/wixUrlParser/utils/urlParserUtils",["lodash","coreUtilsLib","coreUtils/dal/siteDataUtils"],function(e,t,r){function n(n){if(n.isResolvedSiteData)return n;var a=n.getCurrentUrlPageId(),i=e.keyBy(n.getPagesDataItems(),"id");i.masterPage=n.getDataByQuery("masterPage");var o={primaryPageId:n.getPrimaryPageId(),urlFormat:n.getUrlFormat(),mainPageId:n.getMainPageId(),externalBaseUrl:n.getExternalBaseUrl(),unicodeExternalBaseUrl:n.getUnicodeExternalBaseUrl(),publicBaseUrl:n.getPublicBaseUrl(),currentUrl:n.currentUrl,currentUrlPageId:a,isFeedbackEndpoint:n.isFeedbackEndpoint(),isSiteHistoryEndpoint:n.isSiteHistoryEndpoint(),isViewerMode:n.isViewerMode(),isWixSite:n.isWixSite(),languageCode:n.getLanguageCode(),isTemplate:n.isTemplate(),isUsingSlashUrlFormat:n.isUsingUrlFormat(t.siteConstants.URL_FORMATS.SLASH),isPremiumDomain:n.isPremiumDomain(),allPageIds:n.getAllPageIds(),routersConfigMap:e.get(n,"routers.configMap"),cookie:r.getRequestModel(n,"cookie"),rendererModel:{runningExperiments:r.getRendererModel(n,"runningExperiments")},serviceTopology:{basePublicUrl:n.getServiceTopologyProperty("basePublicUrl"),baseDomain:n.getServiceTopologyProperty("baseDomain"),staticDocsUrl:n.getServiceTopologyProperty("staticDocsUrl")},pagesDataItemsMap:i,isPermalink:n.isPermalink,mapFromPageUriSeoToPageId:r.getMapFromPageUriSeoToPageId(n),pageResponseForUrl:n.pageResponseForUrl,rootNavigationInfo:n.getRootNavigationInfo()};return o.isResolvedSiteData=!0,o}return{getResolvedSiteData:n}}),define("coreUtils/core/routerUtils",["lodash"],function(e){function t(t,r){return e.some(t,function(t){return e.includes(e.values(t.pages),r)})}return{isDynamicPage:t}}),define("coreUtils/wixUrlParser/parsers/slashUrlParser",["lodash","coreUtilsLib","coreUtils/wixUrlParser/utils/urlParserUtils","coreUtils/dal/siteDataUtils","coreUtils/core/routerUtils"],function(e,t,r,n,a){function i(r){var n=t.urlUtils.parseUrl(r.externalBaseUrl).host;return e.endsWith(n,"."+t.siteConstants.FREE_DOMAIN.WIXSITE)||e.endsWith(n,"."+r.serviceTopology.baseDomain)}function o(e){return e.isPremiumDomain&&!i(e)}function s(r){var n=e.isObject(r.currentUrl)?r.currentUrl.full:t.urlUtils.parseUrl(r.currentUrl).full;return r.isTemplate&&e.startsWith(n,r.serviceTopology.basePublicUrl)}function l(e){return"object"===("undefined"==typeof window?"undefined":_typeof(window))&&window.karmaIntegration?B.BEAKER:e.isFeedbackEndpoint?B.REVIEW:e.isSiteHistoryEndpoint?B.SITE_HISTORY:e.isViewerMode?o(e)?B.PREMIUM:e.isWixSite||s(e)?B.WIX_INTERNAL:B.FREE_SITE:B.PREVIEW}function u(t){return e.map(t,encodeURIComponent)}function c(t){return e.map(t,decodeURIComponent)}function g(t,r){var n=e.find(t.pagesDataItemsMap,{pageUriSEO:r});return n&&n.id}function d(r,i){var o=n.getMapFromPageUriSeoToPageId(r),s=e.get(o,i)||g(r,i)||t.errorPages.IDS.NOT_FOUND;return a.isDynamicPage(r.routersConfigMap,s)&&(s=t.errorPages.IDS.NOT_FOUND),s}function p(r,n){var a=t.urlUtils.parseUrl(r.externalBaseUrl).path.replace(/\/$/,"").split("/").length;return n?e.drop(n.split("/"),a):[]}function f(e){return e===L}function h(e,t){var r=e.pagesDataItemsMap[t];return r&&"Page"===r.type&&r.tpaApplicationId>0}function m(e,t){var r=e.pagesDataItemsMap[t];return r&&"AppPage"===r.type&&"AppBuilderPage"===r.appPageType}function P(e,t){var r=e.pagesDataItemsMap[t];return r&&"AppPage"===r.type&&"AppPage"===r.appPageType&&r.appPageId===x}function v(e,t){var r=e.pagesDataItemsMap[t];return r&&"AppPage"===r.type&&"AppPage"===r.appPageType&&r.appPageId===N}function y(e,t){return v(e,t)||P(e,t)}function I(e){return e&&e.replace(/^https?:\/\//,"")}function U(e,r){var n=I(t.urlUtils.getBaseUrlWithPath(r,l(e)));return t.urlUtils.isSame(n,I(e.externalBaseUrl))||t.urlUtils.isSame(n,I(e.unicodeExternalBaseUrl))||t.urlUtils.isHostnameYandexWebvisor(n)||/^s3\.amazonaws\.com\/wix\-/.test(n)}function D(t,r){if(r)return e.find(t.routersConfigMap,{prefix:r})}function S(e){var r=e.query.q,n=/\:([^\:]+)\+$/.exec(r);return n&&n[1]&&t.urlUtils.parseUrl(n[1])||e}function E(r,n){var a=e.isObject(n)?n:t.urlUtils.parseUrl(n);if(a.hostname===k&&(a=S(a)),!U(r,a))return null;var i=p(r,a.path),o=e.head(i),s=e.drop(i,1),l={format:t.siteConstants.URL_FORMATS.SLASH},u=D(r,o);if(u&&(l.routerDefinition=u,l.pageAdditionalData=o+"/"+s.join("/")),l.routerDefinition){l.innerRoute=s.join("/");var g=r.pageResponseForUrl;g&&g.pageId&&(l.pageId=g.pageId,l.title=g.title)}else o?f(o)?(l.pageItemId=e.head(s),l.pageId=r.currentUrlPageId||r.mainPageId):(l.pageId=d(r,o),m(r,l.pageId)?l.title=i[2]:l.title=o):(l.pageId=r.mainPageId,l.title=C(r,l.pageId));a.query[w]&&(l.pageItemId=a.query[w],l.imageZoom=!0);var P=e.omit(a.query,_);return a.query&&!e.isEmpty(P)&&(l.queryParams=P),i.length>1&&!l.routerDefinition&&(m(r,l.pageId)?l.pageAdditionalData=e.head(s):f(o)?l.pageAdditionalData=e.drop(s,1).join("/"):h(r,l.pageId)?l.pageAdditionalData=c(s).join("/"):l.pageAdditionalData=s.join("/")),l}function C(r,n){var a=r.pagesDataItemsMap[n];return e.get(a,"pageUriSEO")||t.siteConstants.DEFAULT_PAGE_URI_SEO}function A(t){return e.omit(t.currentUrl.query,_)}function b(t){var r=e.get(t,"rootNavigationInfo.pageAdditionalData");if(r){var n=r.split("/");return e.drop(n,1).join("/")}}function T(r,n,a,i,o,s){var l=A(r),c=e.assign({},l,n.queryParams||{}),g=o||r.externalBaseUrl;g=g.replace(/\/$/,"");var d=r.isPermalink(n.pageItemId);if(n.routerId||n.routerDefinition?("CURRENT_INNER_ROUTE"===n.innerRoute&&(n.innerRoute=b(r)||n.innerRoute),g+="/"+(n.routerId?e.get(r.routersConfigMap,n.routerId+".prefix"):n.routerDefinition.prefix),n.innerRoute&&"/"!==n.innerRoute&&(g+="/"+n.innerRoute)):n.pageId&&!d&&(n.pageId!==r.mainPageId||a||n.pageAdditionalData)&&(g+="/"+C(r,n.pageId)),m(r,n.pageId)&&n.pageAdditionalData)g+="/"+n.pageAdditionalData+(n.title?"/"+n.title:"");else if(h(r,n.pageId)&&n.pageAdditionalData)g+="/"+u(n.pageAdditionalData.split("/")).join("/");else if(y(r,n.pageId)&&n.pageAdditionalData){var p=s&&s.getCustomUrlMapping?s.getCustomUrlMapping():void 0,f=e.findKey(p,{id:n.pageAdditionalData});g+=f?"/"+f:"/"+n.pageAdditionalData}return n.pageItemId&&(d?n.pageAdditionalData&&(g+="/"+L+"/"+n.pageItemId+"/"+n.pageAdditionalData):n.imageZoom&&(c[w]=n.pageItemId)),i||e.isEmpty(c)||r.currentUrl.hostname===k||(g+="?"+t.urlUtils.toQueryString(c)),g}function R(e,t){return E(r.getResolvedSiteData(e),t)}function O(e,t,n,a,i,o,s){return T(r.getResolvedSiteData(e),t,n,a,i,s)}function M(e,n){var a=t.urlUtils.parseUrl(n);return U(r.getResolvedSiteData(e),a)}var w="lightbox",_=[w],x="7326bfbb-4b10-4a8e-84c1-73f776051e10",N="79f391eb-7dfc-4adf-be6e-64434c4838d9",L="_p",B={PREVIEW:7,SITE_HISTORY:8,WIX_INTERNAL:2,FREE_SITE:1,PREMIUM:0,REVIEW:3,BEAKER:3},k="webcache.googleusercontent.com";return{parseUrl:R,getUrl:O,isUrlToCurrentSite:M}}),define("coreUtils/log/log",["lodash","coreUtilsLib"],function(e,t){var r=console.log.bind(console),n=console.warn.bind(console),a=console.error.bind(console),i="undefined"==typeof window||"all"===t.urlUtils.parseUrl(e.get(window,["location","href"],"")).query.debug,o=i?r:e.noop;return{warnVerbose:i?n:e.noop,verbose:o,info:r,warn:n,error:a,warnDeprecation:function(e){i&&console.error("DocumentServices|Deprecated|"+e)}}}),define("coreUtils/wixUrlParser/parsers/hashBangUrlParser",["coreUtilsLib","lodash","coreUtils/wixUrlParser/utils/urlParserUtils","coreUtils/log/log"],function(e,t,r,n){function a(t){var r;return"string"==typeof t?r=e.urlUtils.parseUrl(t):t.full?r=t:n.error("url to parse has to be either a string or an object"),r}function i(e,r){return t.includes(e.allPageIds,r)}function o(e,t){var r={},n=e.match(/#!(.*?)\/zoom[\/\|](.+?)\/([^\/]+)$/i);if(!n){var a=e.match(/#!(.*?)[\/\|]([^\/]+)\/?(.*$)/i);if(a){var o=a[1],s=a[2],l=a[3];return o&&(r.title=o),i(t,s)?r.pageId=s:(r.pageId=t.primaryPageId||t.mainPageId,r.pageItemId=s),l&&(r.pageAdditionalData=l),r}return{pageId:t.mainPageId}}return n[1]&&(r.title=n[1]),r.pageId=n[2],r.pageItemId=n[3],r.imageZoom=!0,r}function s(r,n,a,i){var o=r.currentUrl,s=i||r.externalBaseUrl;s=s.replace("."+e.siteConstants.FREE_DOMAIN.WIXSITE+"/","."+e.siteConstants.FREE_DOMAIN.WIX+"/");var l=o.query;return a||t.isEmpty(l)||(s+="?"+e.urlUtils.toQueryString(l)),o.url=s,n.id&&(s+="#!"+n.title+"/"+n.id),n.additionalData&&(s+="/"+n.additionalData),s}function l(e,r){if(!r)return null;var n=a("#"===r?e.currentUrl:r),i="localhost"===n.hostname;return u(e,n)&&!i?e.currentUrl.full!==n.full||t.includes(n.full,"#")?null:{pageId:e.mainPageId}:(t.isString(r)&&0===r.indexOf("#!")&&((n=t.clone(e.currentUrl)).hash=r),o(n.hash,e))}function u(t,r){return!(e.urlUtils.isHostnameYandexWebvisor(r.hostname)||d(t,r))}function c(e,t){var r=e.pagesDataItemsMap[t];return r&&"AppPage"===r.type&&"AppPage"===r.appPageType&&r.appPageId===P}function g(e){return e&&e.replace(/^https?:\/\//,"")}function d(t,r){var n=r.hostname+r.path;return e.urlUtils.isSame(n,g(t.externalBaseUrl))||e.urlUtils.isSame(n,g(t.unicodeExternalBaseUrl))}function p(t,r,n,a,i,o){var l={title:r.title||e.siteConstants.DEFAULT_PAGE_URI_SEO};if(r.pageItemId&&!r.pageAdditionalData&&r.imageZoom?(l.id="zoom",l.additionalData=r.pageId+"/"+r.pageItemId):(r.pageId!==t.mainPageId||r.pageAdditionalData||n)&&(l.id=r.pageItemId||r.pageId,l.additionalData=r.pageAdditionalData),c(t,r.pageId)&&o){var u=r.pageAdditionalData||"",g=o[u]||o[decodeURIComponent(u)]||{};l.id=r.pageId,l.title=g.title,l.additionalData=g.id}return s(t,l,a,i)}function f(e,t){return l(r.getResolvedSiteData(e),t)}function h(e,t,n,a,i,o){return p(r.getResolvedSiteData(e),t,n,a,i,o)}function m(t,n){if("#"===n)return!0;var a=e.urlUtils.parseUrl(n);return d(r.getResolvedSiteData(t),a)}var P="7326bfbb-4b10-4a8e-84c1-73f776051e10";return{parseUrl:f,getUrl:h,isUrlToCurrentSite:m}}),define("coreUtils/wixUrlParser/wixUrlParser",["lodash","coreUtilsLib","coreUtils/wixUrlParser/parsers/slashUrlParser","coreUtils/wixUrlParser/parsers/hashBangUrlParser","coreUtils/wixUrlParser/utils/urlParserUtils"],function(e,t,r,n,a){function i(r,n){var a=e.isObject(n)?n:t.urlUtils.parseUrl(n);return!t.stringUtils.startsWith(a.hash,"#!")&&r.isUsingSlashUrlFormat}function o(e,t){return d[t||e.urlFormat]||d[e.urlFormat]}function s(e,t){return t===e.replace(/\/$/,"")+"/app"}function l(e,t){var o=a.getResolvedSiteData(e);return!t||s(o.externalBaseUrl,t)?null:"#"===t?l(o,o.currentUrl.full):i(o,t)?r.parseUrl(o,t):n.parseUrl(o,t)}function u(e,t,r,n,i,s){var l=a.getResolvedSiteData(e);return o(l,t.format).getUrl(l,t,r,n,i,s,e)}function c(e,t){var o=a.getResolvedSiteData(e);return i(o,t)?r.isUrlToCurrentSite(o,t):n.isUrlToCurrentSite(o,t)}function g(e,t){if(c(e,t)){var r=e.currentUrl.protocol;return t.replace(/^https?:/,r)}return t}var d={slash:r,hashBang:n};return{getUrl:u,parseUrl:l,utils:a,normalizeProtocolForSameSite:g}}),define("coreUtils/core/linkUtils",["lodash","coreUtilsLib","coreUtils/wixUrlParser/wixUrlParser"],function(e,t,r){function n(e){var t="mailto:"+(e.recipient&&e.recipient.trim()||""),r=[];return e.subject&&r.push("subject="+e.subject),e.body&&r.push("body="+e.body),r.length>0&&(t+="?"+r.join("&")),t}function a(r,n){var a,i=r.docId,o=/\.pdf$/i.test(i),s=n.serviceTopology.staticDocsUrl;return e.includes(i,"ugd/")&&e.includes(s,"/ugd")&&(i=i.substr(i.indexOf("ugd")+4)),a=s+"/"+i,o?!0===r.indexable&&(a+="?index=true"):a+="?"+t.urlUtils.toQueryString({dn:r.name}),a}function i(e){return"tel:"+e.phoneNumber}function o(t){var r={};return t.link&&(r=e.pick(t.link,g[t.link.type]),e.isObject(r.pageId)&&(r.pageId="#"+r.pageId.id),e.isObject(r.anchorDataId)&&(r.anchorDataId="#"+r.anchorDataId.id)),r}function s(t,r,o){if(r)switch(r.type){case"PageLink":r.pageId?u(t,r.pageId.replace("#",""),t.getSiteData().getAllPageIds(),!1,void 0,e.noop,o):o&&o({error:{message:"missing pageId property for PageLink"}});break;case"AnchorLink":l(t,r,o);break;case"ExternalLink":break;case"EmailLink":window.location.href=n(r);break;case"PhoneLink":window.location.href=i(r);break;case"DocumentLink":var s=a(r,t.getSiteData());window.open(s,"_self");break;case"DynamicPageLink":c(t,r,r.anchorDataId)}}function l(t,r,n){if(r.pageId){var a=r.pageId.replace("#","");t.getSiteData().getPrimaryPageId()===a||t.getSiteData().MASTER_PAGE_ID===a?t.scrollToAnchor(r.anchorDataId):u(t,a,t.getSiteData().getAllPageIds(),!1,r.anchorDataId,e.noop,n)}else n&&n({error:{message:"missing pageId property for AnchorLink"}})}function u(t,r,n,a,i,o,s){if(e.includes(n,r)){t.getSiteAspect("actionsAspect").registerNavigationComplete(o);var l={pageId:r};a&&(l.transition="none"),i&&(l.anchorData=i),t.navigateToPage(l)}else s&&s({error:{message:'Page id "'+r+'" was not found.'}})}function c(e,t,n){var a=r.getUrl(e.getSiteData(),t),i=r.parseUrl(e.getSiteData(),a);n&&(i.anchorData=n),e.navigateToPage(i,!1,!1)}var g={PageLink:["type","pageId"],AnchorLink:["type","anchorName","anchorDataId","pageId"],ExternalLink:["type","target","url"],EmailLink:["type","recipient","subject"],PhoneLink:["type","phoneNumber"],DocumentLink:["type","docId","name"],DynamicPageLink:["type","routerId","innerRoute","anchorDataId"]};return{getEmailLink:n,getDocumentLink:a,getPhoneLink:i,navigateToLink:s,navigateToPage:u,getRelevantLinkDataFromMenuItem:o}}),define("coreUtils/core/linkRenderer",["lodash","coreUtilsLib","coreUtils/core/linkUtils","coreUtils/core/wixUserApi","coreUtils/wixUrlParser/wixUrlParser"],function(e,t,r,n,a){function i(e,r){var n="/"===r.url?e.publicBaseUrl:r.url;return t.validationUtils.isValidUrl(n)?(n=a.normalizeProtocolForSameSite(e,n),{href:n,target:r.target||D,"data-content":n,"data-type":"external"}):{}}function o(t,r,n){var i=r.pageId;if(!i)return{};var o=n||{pageId:i.id,title:i.pageUriSEO};r.queryParams&&e.assign(o,{queryParams:r.queryParams});var s=a.getUrl(t,o),l={href:s,target:U};return h(t,i.id)&&e.assign(l,{href:E,"data-no-physical-url":s}),l}function s(t,r){if(!r.routerId)return{};var n={routerId:r.routerId,innerRoute:r.innerRoute};r.queryParams&&e.assign(n,{queryParams:r.queryParams});var i={href:a.getUrl(t,n),target:U};return r.anchorDataId&&(i["data-anchor"]=r.anchorDataId),i}function l(e,t){return o(e,t)}function u(r,n,a){var i,s="masterPage"===n.pageId.id,u=e.clone(n),c=e.has(n.anchorDataId,"id")?n.anchorDataId.id:n.anchorDataId,g=e.includes(t.siteConstants.SAME_PAGE_SCROLL_ANCHORS,c)||s,d=a.imageZoom,p=h(r,a.pageId);return i=g?d||p?o(r,{pageId:r.pagesDataItemsMap[r.primaryPageId]}):o(r,u,a):l(r,u),p||(i["data-keep-roots"]=!0),i["data-anchor"]=c,i}function c(e){return{href:r.getPhoneLink(e),"data-content":e.phoneNumber,"data-type":"phone"}}function g(e){return{href:r.getEmailLink(e),target:U,"data-content":e.recipient,"data-type":"mail"}}function d(e,t){return{href:r.getDocumentLink(t,e),target:D,"data-type":"document"}}function p(r,a){var i,o,s,l=a.postLoginUrl||"",u=a.postSignupUrl||"",c=a.dialog||"showLogin",g="";return e.includes(u,"ifcontext")&&(s=t.urlUtils.parseUrl(u).query,e.forOwn(s,function(e,t){"ifcontext"===t.toLowerCase()&&(g=e.replace("#",""),u=/^[a-zA-Z0-9]+$/.test(g)?u.replace("{ifcontext}",g):u.replace("{ifcontext}","illegalContextValue"))})),n.isSessionValid(r.cookie)?o=l:("createUser"===c&&(c="sign-up"),i={originUrl:r.currentUrl.full,postLogin:l,postSignUp:u,view:c,overrideLocale:r.languageCode},e.forEach(C,function(t,r){var n=a[t];e.isUndefined(n)||""===n||(i[r]=n)}),o=S+t.urlUtils.toQueryString(i)),{href:o,target:U}}function f(e,t){return{href:e.currentUrl.full,target:"_self","data-mobile":t.dataMobile}}function h(e,t){var r=e.pagesDataItemsMap[t];return r&&r.isPopup}function m(e){return!!e&&0===e.indexOf("mailto")}function P(e,t){if(!t)return!1;var r=a.utils.getResolvedSiteData(e),n=!!a.parseUrl(r,t),i=0===t.indexOf(r.serviceTopology.staticDocsUrl),o=t===E;return!(n||m(t)||i||o)}function v(e){return"PageLink"===e.type&&!e.pageId||"AnchorLink"===e.type&&!e.pageId||"AnchorLink"===e.type&&!e.anchorDataId||"DocumentLink"===e.type&&!e.docId||"DynamicPageLink"===e.type&&!e.routerId}function y(e){return!!e&&"/"===e.charAt(0)}function I(e,t,r){var n=[];return e&&n.push("galleryId:"+e),t&&n.push("propertyQuery:"+t),r&&n.push("galleryCompId:"+r),n.join(" ")}var U="_self",D="_blank",S="https://users.wix.com/signin?",E="javascript:void()",C={sendEmail:"sendMail",welcomeEmailTemplate:"mailTemplate",userColor:"userColor",loginCompName:"loginCompName",referralInfo:"loginCompName"};return{renderLink:function(e,t,r){if(!e||v(e)||!r)return{};var n=a.utils.getResolvedSiteData(t);switch(e.type){case"PageLink":return l(n,e);case"ExternalLink":return i(n,e);case"AnchorLink":return u(n,e,r);case"LoginToWixLink":return p(n,e);case"EmailLink":return g(e);case"PhoneLink":return c(e);case"DocumentLink":return d(n,e);case"SwitchMobileViewMode":return f(n,e);case"DynamicPageLink":return s(n,e);default:return{}}},renderImageZoomLink:function(t,r,n,i,o,s){var l,u,c=e.defaults({pageItemId:n.id,title:n.title,imageZoom:!0},r),g=a.utils.getResolvedSiteData(t);u={href:l=a.getUrl(g,c),target:U},h(g,c.pageId)&&(u.href=E,u["data-no-physical-url"]=l);var d=I(i,o,s);return d&&(u["data-page-item-context"]=d),u},renderPageLink:function(e,t){return l(a.utils.getResolvedSiteData(t),{pageId:e})},isExternalLink:P,isRelativeUrl:y,isEmailLink:m,getLinkUrlFromLinkProps:function(e){return e.href===E?e["data-no-physical-url"]:e.href},CONSTS:{LOGIN_TO_WIX_URL:S}}}),define("coreUtils/core/scrollAnchorsUtils",["lodash","coreUtilsLib"],function(e,t){function r(e){var t=parseInt(e,10);return isNaN(t)?0:t}function n(e){return r(e.height.WIX_ADStop)+r(e.top.WIX_ADStop)}function a(t,r){var a=0,i=r.measureMap;if(i&&t){var o=t.compId,s=e.get(i,"custom.SITE_HEADER.isFixedPosition"),l=i.top[o],u=i.absoluteTop[o],c=s?l:u,g=r.isMobileView()?n(i):0;a=e.isFinite(c)?c+g:0}return a}function i(e){if(!e.measureMap)return 1/0;var t=e.measureMap,r=t.height.WIX_ADSbottom||0,a=n(t),i=t.height.masterPage+r+a+e.renderFlags.extraSiteHeight,o=t.height.screen;return Math.max(i-o,0)}function o(e,t){return Math.min(e,i(t))}function s(r,n,a){var i=a.getPageData(n,["structure"]),o=t.dataUtils.getAllCompsInStructure(i);return e.find(o,function(t){var i=t.connectionQuery,o=i&&a.getDataByQuery(i,n,a.dataTypes.CONNECTIONS);return o&&e.find(o.items,{role:r})})}function l(t,r){var n;if(!e.startsWith(t,"dataItem")&&r){var a=r.getSiteData(),i=s(t,a.getPrimaryPageId(),a);i&&(n=i.dataQuery)}return n||t}function u(e,t){var r=t.getSiteData(),n=c(l(e,t),r);return n.y=o(n.y,r),n}function c(t,n){var i=0;return t===I.PAGE_ANCHORS.TOP_ANCHOR_ID?i=D:t===I.PAGE_ANCHORS.BOTTOM_ANCHOR_ID?i=r(e.get(n.measureMap,["height","masterPage"])):t&&(i=a(n.getDataByQuery(t,n.getPrimaryPageId()),n)),{x:0,y:i,anchorQuery:t}}function g(t,r){var n=e.find(t,{id:r});return n&&n.layout}function d(t,r,n){var a=t.getPageDataMap(r,t.dataTypes.DATA);if(!a)return[];var i=e.filter(a,{type:"Anchor"});i.push(p(t.getPrimaryPageId(),n));var o=t.getPageData(r,["structure","components"]);return e.sortBy(i,function(e){var t=g(o,e.compId);return t?t.y:U})}function p(e,t){return{compId:I.PAGE_ANCHORS.TOP_ANCHOR_COMP_ID,id:I.PAGE_ANCHORS.TOP_ANCHOR_ID,name:t||"",type:"Anchor",pageId:e}}function f(t,r){r=r||[];var n=d(t,t.getPrimaryPageId()),a=e.reject(n,function(t){return e.includes(r,t.compId)});return e.size(a)?a:[n[0]]}function h(t,r){return e(r).map(function(r){var n=c(r.id,t),a=r.id;return e.assign(n,{id:a})}).sortBy("y").value()}function m(e,t,r){return{activeAnchorComp:e,index:t,total:r}}function P(t,r){if(e.every(t,{y:0}))return null;for(var n=null,a=0;a<t.length;a++){var i=t[a];if(!(r>=i.y))break;n=i}return n?m(n,a-1,t.length):null}function v(t,r,n){if(!t.measureMap)return null;var a=h(t,f(t,n)),o=P(a,r);return o&&i(t)<=r?m(e.last(a),a.length-1,a.length):o}function y(e){return e===I.PAGE_ANCHORS.BOTTOM_ANCHOR_ID||e===I.PAGE_ANCHORS.TOP_ANCHOR_ID}var I=t.siteConstants,U=-99999,D=0;return{getPageTopAnchor:p,calcAnchorScrollToPosition:u,getPageAnchors:d,getActiveAnchor:v,getAnchor:s,normalizeYOffset:o,isSpecialAnchor:y,getSortedAnchorsByY:h,SCROLL_PAGE_TOP_Y_POS:U}}),define("coreUtils/core/anchorTagsGenerator",["lodash","coreUtilsLib"],function(e,t){function r(t,r){if(!e.some(r))return t;var a=n(t);return e.forEach(a.textNodes,e.partial(s,e,r)),a.container.innerHTML}function n(e){var t=d.document.createDocumentFragment().appendChild(d.document.createElement("div"));return t.innerHTML=e,{container:t,textNodes:a(t)}}function a(e,t){if(t=t||[],i(e)&&t.push(e),o(e))return t;for(e=e.firstChild;e;)a(e,t),e=e.nextSibling;return t}function i(e){return e.nodeType===d.Node.TEXT_NODE}function o(e){return e.nodeType===d.Node.ELEMENT_NODE&&"a"===e.tagName.toLowerCase()}function s(t,r){var n=[],a=t.parentNode,i=t.data,o=p.findAll(i,r);0!==o.length&&(e(o).orderBy("index","desc").forEach(function(e){n.push(d.document.createTextNode(i.slice(e.index+e.key.length))),n.push(l(e)),i=i.slice(0,e.index)}),n.push(d.document.createTextNode(i)),e.forEach(n.reverse(),function(e){a.insertBefore(e,t)}),a.removeChild(t))}function l(t){var r=u(t),n=d.document.createElement("a");n.innerHTML=t.key,n.classList.add(r.className),e.forEach(e.omit(r,["className"]),function(e,t){n.setAttribute(t,e)});var a=d.document.createElement("object");return a.appendChild(n),a.setAttribute("height",0),a}function u(t){var r={"data-auto-recognition":"true","data-content":t.key,className:"auto-generated-link"};switch(t.pattern){case p.Pattern.PHONE:return e.assign(r,{href:"tel:"+t.value,"data-type":"phone"});case p.Pattern.MAIL:return e.assign(r,{href:"mailto:"+t.value,"data-type":"mail"});case p.Pattern.URL:return e.assign(r,{href:t.value,target:"_blank","data-type":"external"});default:throw"Unknown Pattern: "+t.pattern}}function c(t,r){if(!e.some(r))return[];var a=n(t);return e(a.textNodes).map("data").flatMap(e.partial(p.findAll,e,r)).map(u).value()}function g(e,t){var r={};return r[f.PHONE]=t,r[f.MAIL]=!0,r[f.URL]=!0,r}var d=t.fragment,p=t.textPatternRecognizer,f=t.textPatternRecognizer.Pattern;return{generateAnchorsInHtml:r,findDataForAnchors:c,getIncludedPatterns:g}}),define("coreUtils/pointers/aspectsPointers",["lodash","coreUtils/pointers/pointerGeneratorsRegistry"],function(e,t){var r=["siteAspectsData"];t.registerPointerType("siteAspects",e.constant(null),e.constant(!0));var n={getAspectGlobalData:function(e,t,n){return t.getPointer(n+"_globalData","siteAspects",r.concat([n,"globalData"]))},getAspectAllComponentsData:function(e,t,n){return t.getPointer(n+"_allCompsData","siteAspects",r.concat([n,"dataByCompId"]))},getAspectComponentData:function(e,t,n,a){return t.getPointer(n+"_compData_"+a,"siteAspects",r.concat([n,"dataByCompId",a]))}};t.registerDataAccessPointersGenerator("siteAspects",n)}),define("coreUtils/core/constants",[],function(){return{VIEW_MODES:{DESKTOP:"DESKTOP",MOBILE:"MOBILE"},DATA_TYPES:{data:"data",prop:"props",design:"design",theme:"style",behaviors:"behaviors",connections:"connections",mobileHints:"mobileHints"},COMP_DATA_QUERY_KEYS:{data:"dataQuery",props:"propertyQuery",design:"designQuery",behaviors:"behaviorQuery",connections:"connectionQuery",mobileHints:"mobileHintsQuery"},PAGE_DATA_DATA_TYPES:{props:"component_properties",data:"document_data",design:"design_data",behaviors:"behaviors_data",connections:"connections_data",style:"theme_data",mobileHints:"mobile_hints"},ACTION_TYPES:{CLICK:"click",DBL_CLICK:"dblClick",MOUSE_IN:"mouseenter",MOUSE_OUT:"mouseleave",CHANGE:"change",BLUR:"blur",FOCUS:"focus",IMAGE_CHANGED:"imageChanged",IMAGE_EXPANDED:"imageExpanded",ITEM_CLICKED:"itemClicked",CELL_SELECT:"cellSelect",CELL_EDIT:"cellEdit",ROW_SELECT:"rowSelect",FETCH_DATA:"fetchData",DATA_CHANGE:"dataChange",AUTOPLAY_OFF:"autoplayOff",AUTOPLAY_ON:"autoplayOn",KEY_PRESS:"keyPress",SCREEN_IN:"screenIn",VIEWPORT_ENTER:"viewportEnter",VIEWPORT_LEAVE:"viewportLeave",SCROLL:"scroll",VALIDATE:"validate",SET_CUSTOM_VALIDITY:"setCustomValidity",SYNC_VALIDATION_DATA:"syncValidationData",UPDATE_VALIDITY_INDICATION:"updateValidityIndication",MESSAGE:"message",UPLOAD_COMPLETE:"uploadComplete"},BASE_PROPS_SCHEMA_TYPE:"DefaultProperties",COMP_IDS:{PAGE_GROUP:"SITE_PAGES",PAGES_CONTAINER:"PAGES_CONTAINER",HEADER:"SITE_HEADER",FOOTER:"SITE_FOOTER",BACKGROUND:"SITE_BACKGROUND",QUICK_ACTION_BAR:"QUICK_ACTION_BAR",WIX_ADS:"WIX_ADS"},POPUP:{POPUP_OVERLAY_CONTAINER:{STYLE_ID:"strc1",SKINPART_ID:"popupOverlayContainer",COMPONENT_TYPE:"wysiwyg.viewer.components.StripContainer",SKIN:"wysiwyg.viewer.skins.stripContainer.DefaultStripContainer",TYPE:"StripContainer"},POPUP_CONTAINER:{COMPONENT_TYPE:"wysiwyg.viewer.components.PopupContainer"}},ACTIVE_ANCHOR:{DELAY_TO_END_SCROLL:50},CURRENT_CONTEXT:"CURRENT_CONTEXT",ANCHORS:{LOCK_THRESHOLD:70,LOCK_CONDITION:{ALWAYS:"always",NEVER:"never",THRESHOLD:"threshold"}},SUPPORTED_DYNAMIC_ACTIONS:{chat:{appId:"14517e1a-3ff0-af98-408e-2bd6953c36a2",icon:"55ef598f51c14f36ba4f0690cf28626f",color:"#2D41A9",text:"Chat",itemType:"chat"}},LANDING_PAGES_COMP_IDS:{PAGES_CONTAINER:"PAGES_CONTAINER",QUICK_ACTION_BAR:"QUICK_ACTION_BAR"}}}),define("coreUtils/pointers/jsonItemsFinders",["coreUtils/core/constants"],function(e){function t(t,r){return r===e.VIEW_MODES.MOBILE?t.mobileComponents?"mobileComponents":"components":t.children?"children":"components"}function r(e,t){return t.id===e||"masterPage"===e&&t.children}function n(e,a,i,o){if(r(a,e))return o;var s=t(e,i),l=e[s];if(!l)return null;for(var u=null,c=0;c<l.length&&!u;c++)u=n(l[c],a,i,o.concat([s,c]));return u}return{getChildrenPropertyName:t,getComponentPath:function(e,t,r){return n(e,t,r,[])},getDataPath:function(){},isComponentWithId:r}}),define("coreUtils/pointers/componentPointers",["lodash","coreUtils/core/constants","coreUtils/pointers/DataAccessPointers","coreUtils/pointers/pointerGeneratorsRegistry","coreUtils/pointers/jsonItemsFinders"],function(e,t,r,n,a){function i(e){return["pagesData",e,"structure"]}function o(t){return e.isArray(t)&&"pagesData"===t[t.length-3]}function s(e,t,r){var n=e(i(r));if(n){var o=a.getComponentPath(n,t.id,t.type);return o&&(o=i(r).concat(o)),o}}function l(t,r,n){var a;if(e.forEach(t,function(e){a=a||s(r,n,e)}),!a){var i=e.keyBy(t);e.forOwn(r(["pagesData"]),function(e,t){return!!i[t]||!(a=s(r,n,t))&&void 0})}return a}var u=new r;n.registerPointerType(t.VIEW_MODES.DESKTOP,l,a.isComponentWithId,!0,!0,!0),n.registerPointerType(t.VIEW_MODES.MOBILE,l,a.isComponentWithId,!0,!0,!0);var c={getMobilePointer:function(r,n,a){return e.assign(e.clone(a),{type:t.VIEW_MODES.MOBILE})},getDesktopPointer:function(r,n,a){return e.assign(e.clone(a),{type:t.VIEW_MODES.DESKTOP})},isMobile:function(e,r,n){return n.type===t.VIEW_MODES.MOBILE},isPage:function(e,t,r){return o(t.getPath(r))},isPagesContainer:function(e,r,n){return n.id===t.COMP_IDS.PAGES_CONTAINER},isMasterPage:function(e,t,r){var n=t.getPath(r);return!!n&&("masterPage"===n[1]&&this.isPage(e,t,r))},isInMasterPage:function(e,t,r){return"masterPage"===t.getPath(r)[1]},getViewMode:function(e,r,n){return this.isMobile(e,r,n)?t.VIEW_MODES.MOBILE:t.VIEW_MODES.DESKTOP},getChildrenContainer:function(e,t,r){var n=e(t.getPath(r)),i=a.getChildrenPropertyName(n,r.type),o=u.getOriginalPointerFromInner(r);return o.innerPath=[i],o},getChildren:function(t,r,n){var i=r.getPath(n),o=t(i),s=a.getChildrenPropertyName(o,n.type),l=o[s];return e.map(l,function(e,t){return r.getPointer(e.id,n.type,i.concat([s,t]))})},getChildrenRecursively:function(e,t,r){for(var n=this.getChildren(e,t,r),a=0;a<n.length;)n.push.apply(n,this.getChildren(e,t,n[a])),a++;return n},getChildrenRecursivelyRightLeftRootIncludingRoot:function(t,r,n,a){for(var i=[n],o=[];i.length;){var s=i.shift();e.isFunction(a)&&!a(s)||o.unshift(s),i=this.getChildren(t,r,s).concat(i)}return o},getParent:function(t,r,n){var a=r.getPath(n);if(!a||o(a))return null;var i=e.dropRight(a,2),s=t(i);return s&&r.getPointer(s.id,n.type,i)},getSiblings:function(t,r,n){var a=this.getParent(t,r,n);if(!a)return[];var i=this.getChildren(t,r,a);return e.remove(i,{id:n.id}),i},getComponent:function(e,t,r,n){var i=n.type;r=t.resolveId(r,i);var o=t.getPointer(r,i);if(!o){var s=t.getPath(n),l=e(s),u=a.getComponentPath(l,r,i);u&&(o=t.getPointer(r,i,s.concat(u)))}return o},getMasterPage:function(e,t,r){return this.getPage(e,t,"masterPage",r)},getPage:function(e,t,r,n){var a=n,o=t.getPointer(r,a);if(!o){var s=i(r);if(!e(s))return null;o=t.getPointer(r,a,s)}return o},getNewPage:function(e,r,n,a){var o=a||t.VIEW_MODES.DESKTOP,s=i(n);if(e(s))throw new Error("there is already a page with id "+n);return r.getPointer(n,o,s)},getLandingPageComponents:function(r,n,a){var i=this.getMasterPage(r,n,a);return e(t.LANDING_PAGES_COMP_IDS).map(function(e){return this.getComponent(r,n,e,i)}.bind(this)).compact().value()},getPagesContainer:function(e,r,n){var a=this.getMasterPage(e,r,n);return this.getComponent(e,r,t.COMP_IDS.PAGES_CONTAINER,a)},getFooter:function(e,r,n){var a=this.getMasterPage(e,r,n);return this.getComponent(e,r,t.COMP_IDS.FOOTER,a)},getHeader:function(e,r,n){var a=this.getMasterPage(e,r,n);return this.getComponent(e,r,t.COMP_IDS.HEADER,a)},getUnattached:function(e,t,r,n){return t.getPointer(r,n,[])},getPageOfComponent:function(e,t,r){var n=t.getPath(r);if(!n)return null;var a=n[1];return this.getPage(e,t,a,r.type)},isDescendant:function(t,r,n,a){var i=r.getPath(n),o=r.getPath(a);if(i&&o){var s=o.length;return i.length>s&&e.isEqual(i.slice(0,s),o)}return!1},getAllDisplayedOnlyComponents:function(e,t,r){return t.getAllPointers(r)},registerDisplayedOnlyComponent:function(e,t,r,n){t.registerDisplayedOnlyComponent(r,n)}};n.registerDataAccessPointersGenerator("components",c,!0)}),define("coreUtils/pointers/componentStructurePointers",["lodash","coreUtils/pointers/DataAccessPointers","coreUtils/pointers/pointerGeneratorsRegistry"],function(e,t,r){var n=new t,a={getModes:function(e,t,r){return n.getInnerPointer(r,["modes"])},getModesDefinitions:function(e,t,r){return n.getInnerPointer(r,["modes","definitions"])},getModesOverrides:function(e,t,r){return n.getInnerPointer(r,["modes","overrides"])}};r.registerDataAccessPointersGenerator("componentStructure",a)}),define("coreUtils/pointers/dataPointers",["lodash","coreUtils/core/constants","coreUtils/pointers/pointerGeneratorsRegistry"],function(e,t,r){function n(){return!0}function a(t,r,n,a){var s=i(t),l=n(["pagesData"]);return e.reduce(l,function(e,r,i){var l=o(t,i,s).concat(a.id);return!e&&n(l)?l:e},null)}function i(e){var r=t.PAGE_DATA_DATA_TYPES[e];if(r)return r;throw new Error("there is no such data type "+e)}function o(e,t,r){return["pagesData",t,"data",r||i(e)]}var s=t.DATA_TYPES;e.forEach(s,function(e){r.registerPointerType(e,a.bind(null,e),n,!1,!0)});var l={getDataItem:function(e,t,r,n){return this.getItem(e,t,s.data,r,n)},getDataItemWithPredicate:function(t,r,n,a){return e.head(this.getDataItemsWithPredicate(t,r,n,a))},getDataItemsWithPredicate:function(t,r,n,a){var i=a||"masterPage",l=o(s.data,i),u=t(l);return u=u.toJS?u.toJS():u,e.map(e.filter(u,n),function(e){return this.getDataItem(t,r,e.id,i)}.bind(this))},getDesignItem:function(e,t,r,n,a){return this.getItem(e,t,s.design,r,n,a)},getPropertyItem:function(e,t,r,n,a){return this.getItem(e,t,s.prop,r,n,a)},getBehaviorsItem:function(e,t,r,n){return this.getItem(e,t,s.behaviors,r,n)},getConnectionsItem:function(e,t,r,n){return this.getItem(e,t,s.connections,r,n)},getMobileHintsItem:function(e,t,r,n){return this.getItem(e,t,s.mobileHints,r,n)},getThemeItem:function(e,t,r){return this.getItem(e,t,s.theme,r,"masterPage")},getItem:function(e,t,r,n,a,i){var s=o(r,a);return s.push(n),t.getPointer(n,r,s,i)},getDataItemFromMaster:function(e,t,r){return this.getDataItem(e,t,r,"masterPage")},getPageIdOfData:function(e,t,r){return t.getPath(r)[1]},validatePath:function(e,t,r){return!!t.getPath(r)}};r.registerDataAccessPointersGenerator("data",l)}),define("coreUtils/pointers/generalPointers",["lodash","coreUtils/pointers/pointerGeneratorsRegistry"],function(e,t){var r="general";t.registerPointerType(r,e.constant(null),e.constant(!0)),t.registerPointerType("metadata",e.constant(null),e.constant(!0));var n={getAllTheme:{id:"theme",path:["pagesData","masterPage","data","theme_data"]},getOrphanPermanentDataNodes:{id:"orphanPermanentDataNodes",path:["orphanPermanentDataNodes"]},getTextRuntimeOverallBorders:{id:"overallBorders",path:["textRuntimeLayout","overallBorders"]},getDockedRuntimeLayout:{id:"dockedRuntimeLayout",path:["dockedRuntimeLayout"]},getNoEnforceAnchorsPointer:{id:"noEnforceAnchors",path:["noEnforceAnchors"]},getSaveInvalidationCount:{id:"saveInvalidationCount",path:["saveInvalidationCount"]},getPagesData:{id:"pagesData",path:["pagesData"]},getServiceTopology:{id:"serviceTopology",path:["serviceTopology"]},getCommittedMobilePages:{id:"committedMobilePages",path:["committedMobilePages"]},getDeletedPagesMapPointer:{id:"deletedPagesMap",path:["deletedPagesMap"]},getUserId:{id:"userId",path:["rendererModel","userId"]},getIsStudioUser:{id:"isStudioUser",path:["documentServicesModel","userInfo","isStudio"]},getEditorData:{id:"editorData",path:["editorData"]},getMobileStructuresPointer:{id:"mobileStructures",path:["mobileStructures"]},getCompsToUpdateAnchors:{id:"compsToUpdateAnchors",path:["compsToUpdateAnchors"]},getRuntimePointer:{id:"runtime",path:["runtime"]},getNeverSaved:{id:"neverSaved",path:["documentServicesModel","neverSaved"]},getPublicUrl:{id:"publicUrl",path:["documentServicesModel","publicUrl"]},getPermissions:{id:"permissions",path:["documentServicesModel","permissionsInfo"]},getForbiddenPageUriSEOs:{id:"forbiddenPageUriSEOs",path:["urlFormatModel","forbiddenPageUriSEOs"]},getUrlFormat:{id:"urlFormat",path:["urlFormatModel","format"]},getClientSpecMap:{id:"clientSpecMap",path:["rendererModel","clientSpecMap"]},getAutosaveInfo:{id:"autoSaveInfo",path:["documentServicesModel","autoSaveInfo"]},getSiteVersion:{id:"siteVersion",path:["documentServicesModel","version"]},getMetaSiteId:{id:"metaSiteId",path:["rendererModel","metaSiteId"]},getDocumentType:{id:"documentType",path:["rendererModel","siteInfo","documentType"]},getActiveModes:{id:"activeModes",path:["activeModes"]},getContactFormsMetaData:{id:"contactformsMetaData",path:["contactforms_metadata"]},getRootsRenderedInMobileEditor:{id:"rootsRenderedInMobileEditor",path:["rootsRenderedInMobileEditor"]},getRenderFlags:{id:"renderFlags",path:["renderFlags"]},getRoutersPointer:{id:"routers",path:["routers"]},getSantaBase:{id:"santaBase",path:["santaBase"]}};Object.freeze(n);var a={getRenderFlag:function(e,t,n){return t.getPointer("renderFlags"+n,r,["renderFlags",n])},getRenderRealtimeConfigItem:function(e,t,n){return t.getPointer("renderRealtimeConfig"+n,r,["renderRealtimeConfig",n])},getAutoSaveInnerPointer:function(e,t,n){return t.getPointer("autoSaveInfo"+n,r,["documentServicesModel","autoSaveInfo",n])},getMediaQualityItemPointer:function(e,t,n){return t.getPointer("mediaQualityStore"+n,r,["mediaQualityStore",n])},getMediaPlaybackItemPointer:function(e,t,n){return t.getPointer("mediaStore"+n,r,["mediaStore",n])}},i=e(n).mapValues(function(e){return function(t,n){return n.getPointer(e.id,r,e.path)}}).assign(a).value();Object.freeze(i),t.registerDataAccessPointersGenerator(r,i)}),define("coreUtils/pointers/platformPointers",["lodash","coreUtils/pointers/pointerGeneratorsRegistry","coreUtils/pointers/DataAccessPointers"],function(e,t,r){function n(e,t){return t.getPointer("platform",g,["platform"])}function a(e,t){var r=n(e,t);return d.getInnerPointer(r,"appState")}function i(e,t,r){return t.getPointer(r+" state",g,["platform","appState",r])}function o(e,t,r){return t.getPointer("appManifest "+r,g,["platform","appManifest",r])}function s(e,t,r,n,a){return t.getPointer("controllerStageData "+r+n+a,g,["platform","appManifest",r,"controllersStageData",n,a])}function l(e,t,r){return t.getPointer(r+"_widgetState",g,["platformWidgetsState",r])}function u(e,t){return t.getPointer("pagesPlatformApplications",g,["pagesPlatformApplications"])}function c(e,t,r){return t.getPointer(r+" pages",g,["pagesPlatformApplications",r])}var g="platform",d=new r;t.registerPointerType(g,e.constant(null),e.constant(!0));var p=Object.freeze({getPlatformPointer:n,getAppStatePointer:a,getControllerStatePointer:i,getControllerStageDataPointer:s,getAppManifestPointer:o,getPlatformWidgetStatePointer:l,getPagesPlatformApplicationsPointer:u,getPagesPlatformApplicationPointer:c});t.registerDataAccessPointersGenerator(g,p)}),define("coreUtils/pointers/activeModesPointers",["lodash","coreUtils/pointers/pointerGeneratorsRegistry"],function(e,t){t.registerPointerType("activeModes",e.constant(null),e.constant(!0));var r={getAllActiveModes:function(e,t){return t.getPointer("activeModes","activeModes",["activeModes"])},getPageActiveModes:function(e,t,r){return t.getPointer(r,"activeModes",["activeModes",r])}};t.registerDataAccessPointersGenerator("activeModes",r)}),define("coreUtils/pointers/pagePointers",["lodash","coreUtils/pointers/pointerGeneratorsRegistry","experiment"],function(e,t,r){t.registerPointerType("page",function(){return null},function(){return!0},!1,!0);var n={isPointerPageType:function(e,t,r){return r&&"page"===r.type},getNewPagePointer:function(e,t,r){var n=["pagesData",r];return t.getPointer(r,"page",n)},getPagePointer:function(t,r,n){var a=["pagesData",n],i=t(a);return e.isUndefined(i)?null:r.getPointer(n,"page",a)},isExists:function(t,r,n){var a=t(["pagesData",n]);return!e.isUndefined(a)},getAllPagesPointer:function(e,t){return t.getPointer("all","page",["pagesData"])},getNonDeletedPagesPointers:function(t,r,n){n=!e.isUndefined(n)&&n;var a=["pagesData"],i=t(a);return i=e.pickBy(i,function(e,t){return!!e&&!(!n&&"masterPage"===t)}),e.map(i,function(e,t){return r.getPointer(t,"page",a.concat(t))})},getPageData:function(e,t,r){var n=["pagesData",r,"data","document_data"];return e(n)?t.getPointer(r+"_data","page",n):null},getPageProperties:function(e,t,r){var n=["pagesData",r,"data","component_properties"];return e(n)?t.getPointer(r+"_prop","page",n):null},getPageDesignData:function(e,t,r){var n=["pagesData",r,"data","design_data"];return e(n)?t.getPointer(r+"_design","page",n):null},getResolvedDataMapsPointer:function(e,t){return t.getPointer("resolvedDataMaps","page",["resolvedDataMaps"])},getPageBehaviorsData:function(e,t,r){var n=["pagesData",r,"data","behaviors_data"];return e(n)?t.getPointer(r+"_design","page",n):null}};r.isOpen("sv_multilingual")&&(n.getPageTranslations=function(e,t,r){var n=["pagesData",r,"translations"];return t.getPointer(r+"_translations","page",n)}),t.registerDataAccessPointersGenerator("page",n)}),define("coreUtils/pointers/compBehavioursPointers",["lodash","coreUtils/pointers/pointerGeneratorsRegistry"],function(e,t){t.registerPointerType("compBehaviours",e.constant(null),e.constant(!0));var r={getCompBehavioursMapPointer:function(e,t){return t.getPointer("compBehavioursMap","compBehaviours",["compBehavioursMap"])},getCompBehaviourPointer:function(e,t,r,n){return t.getPointer("compBehavioursMap_"+r+"_"+n,"compBehaviours",["compBehavioursMap",r,n])}};t.registerDataAccessPointersGenerator("compBehaviours",r)}),define("coreUtils/pointers/pointers",["coreUtils/pointers/pointerGeneratorsRegistry","coreUtils/pointers/pointersCache","coreUtils/pointers/DataAccessPointers","coreUtils/pointers/aspectsPointers","coreUtils/pointers/componentPointers","coreUtils/pointers/componentStructurePointers","coreUtils/pointers/dataPointers","coreUtils/pointers/generalPointers","coreUtils/pointers/platformPointers","coreUtils/pointers/activeModesPointers","coreUtils/pointers/pagePointers","coreUtils/pointers/compBehavioursPointers"],function(e,t,r){return{pointerGeneratorsRegistry:e,PointersCache:t,DataAccessPointers:r}}),define("coreUtils/components/componentUtils",["lodash"],function(e){function t(t,r){return e.includes(t,r)||"masterPage"===r}return{shouldBeRendered:t}}),define("coreUtils/core/renderUtils",["lodash"],function(e){function t(t,r,n){var a=n?e.bind(r,n):r,i=e.keys(t).sort(),o=e.reduce(i,function(e,r){return e[r]=t[r],e},{});return e.map(o,a)}return{mapInAlphabeticalOrder:t}}),define("coreUtils",["lodash","coreUtils/core/ajaxLibrary","coreUtils/core/domMeasurements","coreUtils/core/imageUtils","coreUtils/core/wixUserApi","coreUtils/core/languages","coreUtils/core/linkRenderer","coreUtils/core/linkUtils","coreUtils/core/scrollAnchorsUtils","coreUtils/core/anchorTagsGenerator","coreUtils/dal/DisplayedJsonDal","coreUtils/core/displayedOnlyStructureUtil","coreUtils/pointers/pointers","coreUtils/core/constants","coreUtils/core/SiteDataPrivates","coreUtils/dal/siteDataUtils","coreUtils/dal/DALFactory","coreUtils/core/SessionFreezer","coreUtils/core/routerUtils","coreUtils/core/pathValidationUtil","coreUtils/log/log","coreUtils/wixUrlParser/wixUrlParser","coreUtils/components/componentUtils","coreUtilsLib","coreUtils/core/renderUtils"],function(e,t,r,n,a,i,o,s,l,u,c,g,d,p,f,h,m,P,v,y,I,U,D,S,E){return{displayedOnlyStructureUtil:g,renderDoneMixin:S.renderDoneMixin,htmlTransformer:S.htmlTransformer,textSecurityFixer:S.textSecurityFixer,htmlParser:S.htmlParser,throttleUtils:S.throttleUtils,keyboardUtils:S.keyboardUtils,classNames:S.classNames,cookieUtils:S.cookieUtils,tween:S.tween,urlUtils:S.urlUtils,Store:S.StoreNew,mobileViewportFixer:S.mobileViewportFixer,dataUtils:S.dataUtils,dateTimeUtils:S.dateTimeUtils,validationUtils:S.validationUtils,ajaxLibrary:t,cssUtils:S.cssUtils,hashUtils:S.hashUtils,guidUtils:S.guidUtils,arrayUtils:S.arrayUtils,stringUtils:S.stringUtils,mediaZoomCalculations:S.mediaZoomCalculations,objectUtils:S.objectUtils,animationFrame:S.animationFrame,scrollAnchors:l,domMeasurements:r,imageUtils:n,storage:S.storage,style:S.style,galleriesCommonLayout:S.galleriesCommonLayout,requestsUtil:S.requestsUtil,boundingLayout:S.boundingLayout,verticalMenuCalculations:S.verticalMenuCalculations,nonPageItemZoom:S.nonPageItemZoom,appPartMediaInnerViewNameUtils:S.appPartMediaInnerViewNameUtils,reactComponentUtils:S.reactComponentUtils,dockUtils:S.dockUtils,viewportUtils:S.viewportUtils,containerBackgroundUtils:S.containerBackgroundUtils,math:S.math,functionUtils:S.functionUtils,mediaConsts:S.mediaConsts,balataConsts:S.mediaConsts.balataConsts,blogAppPartNames:S.blogAppPartNames,wixUserApi:a,languages:i,siteConstants:S.siteConstants,textPatternRecognizer:S.textPatternRecognizer,anchorTagsGenerator:u,errorPages:S.errorPages,logWixCodeConsoleMessage:S.logWixCodeConsoleMessage,logWixCodeConsoleError:S.logWixCodeConsoleError,matrix:{calculations:S.matrix.calculations,scalingCalculations:S.matrix.scalingCalculations},fragment:S.fragment,dynamicPagesUtils:S.dynamicPagesUtils,Screenfull:S.Screenfull,SimpleDrag:S.SimpleDrag,DisplayedJsonDal:c,setMobxDataHandlers:function(t,r){m.setMobxDataHandlers(t,r),y.setMobxDataHandlers(t,e.pick(r,"getObservableByPath"))},pointers:d,constants:p,SiteDataPrivates:f,siteDataUtils:h,sessionFreezer:P,DALFactory:m,routerUtils:v,log:I,wixUrlParser:U,linkRenderer:o,linkUtils:s,componentUtils:D,renderUtils:E}});
//# sourceMappingURL=coreUtils.min.js.map