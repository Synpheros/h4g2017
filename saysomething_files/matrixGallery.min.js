"use strict";define("matrixGallery/skins/skins.json",[],function(){var t={};return t["skins.viewer.gallerymatrix.MatrixGalleryIronSkin"]={react:[["div","itemsContainer",[],{}],["div",null,["_pos"],{},["div","showMore",[],{}]]],exports:{heightDiff:40,imageItem:{skin:"skins.viewer.gallerymatrix.MatrixDisplayerIronSkin",styleGroup:"inherit"}},params:{txt:"COLOR",fntds:"FONT"},paramsDefaults:{txt:"color_15",fntds:"font_8"},css:{"%_pos":"height:30px !important;position:absolute;right:0;bottom:0;left:0;text-align:center;","%showMore":"cursor:pointer;display:inline-block;line-height:45px !important;padding:0 10px;text-decoration:underline !important;color:[txt];[fntds]",'%[data-state~="fullView"] %showMore':"display:none;","%itemsContainer":"position:absolute;top:0;right:0;bottom:45px !important;left:0;"}},t["skins.viewer.gallerymatrix.MatrixGalleryScotchTapeSkin"]={react:[["div","itemsContainer",[],{}],["div",null,["_pos"],{},["div","showMore",[],{}]]],exports:{heightDiff:50,imageItem:{skin:"skins.viewer.gallerymatrix.MatrixDisplayerScotchTapeSkin",styleGroup:"inherit"}},params:{txt:"COLOR",fntds:"FONT"},paramsDefaults:{txt:"color_15",fntds:"font_8"},css:{"%_pos":"height:30px !important;position:absolute;right:0;bottom:0;left:0;text-align:center;","%showMore":"cursor:pointer;display:inline-block;line-height:45px !important;padding:0 10px;text-decoration:underline !important;color:[txt];[fntds]",'%[data-state~="fullView"] %showMore':"display:none;","%itemsContainer":"position:absolute;left:0;right:0;top:10px;bottom:45px !important;"}},t["wysiwyg.common.components.matrixgallery.viewer.skins.MatrixGallerySeparateTextBoxSkin"]={react:[["div","itemsContainer",[],{}],["div","showMore",[],{}]],exports:{heightDiff:40,imageItem:{skin:"wysiwyg.common.components.matrixgallery.viewer.skins.MatrixDisplayerSeparateTextBoxSkin",styleGroup:"inherit"}},params:{showMoreClr:"COLOR",fntds:"FONT"},paramsDefaults:{showMoreClr:"color_13",fntds:"font_9"},css:{"%showMore":"color:[showMoreClr];[fntds]  cursor:pointer;text-decoration:underline !important;height:30px;line-height:30px;position:absolute;bottom:0;left:35%;right:35%;text-align:center;",'%[data-state~="fullView"] %showMore':"display:none;"}},t["wysiwyg.common.components.matrixgallery.viewer.skins.MatrixGalleryTextOnCenterSkin"]={react:[["div","itemsContainer",[],{}],["div",null,["_pos"],{},["div","showMore",[],{}]]],exports:{heightDiff:25,imageItem:{skin:"wysiwyg.common.components.matrixgallery.viewer.skins.MatrixDisplayerTextOnCenterSkin",styleGroup:"inherit"}},params:{showMoreColor:"COLOR",fntds:"FONT"},paramsDefaults:{showMoreColor:"color_11",fntds:"font_9"},css:{"%_pos":"height:2.3em;position:absolute;right:0;bottom:0;left:0;text-align:center;","%showMore":"cursor:pointer;display:inline-block;line-height:2.3em !important;padding:0 10px;text-decoration:underline !important;color:[showMoreColor];[fntds]",'%[data-state~="fullView"] %showMore':"display:none;","%itemsContainer":"position:absolute;top:0;right:0;bottom:2.3em;left:0;"}},t["wysiwyg.viewer.skins.gallery.MatrixGallerySkin"]={react:[["div","itemsContainer",[],{}],["div","showMore",[],{}],["div",null,["_xxx"],{}]],exports:{heightDiff:40,imageItem:{skin:"wysiwyg.viewer.skins.displayers.DetailedDisplayerSkin",styleGroup:"displayer"}},params:{bg:"BG_COLOR",tdr:"URL"},paramsDefaults:{bg:"color_1",tdr:"BASE_THEME_DIRECTORY"},css:{"%showMore":"position:absolute;cursor:pointer;height:20px;line-height:20px;padding:0 5px;bottom:0;background-color:[bg];",'%[data-state~="fullView"] %showMore':"display:none;","%_xxx":"position:absolute;top:0;right:0;bottom:0;left:0;background:url([tdr]net.png) center center repeat;"}},t["wysiwyg.viewer.skins.gallery.PolaroidMatrixGallery"]={react:[["div","itemsContainer",[],{}],["div","showMore",[],{}]],exports:{imageItem:{skin:"wysiwyg.viewer.skins.displayers.PolaroidDisplayer",styleGroup:"displayer"}},css:{"%showMore":"position:absolute;cursor:pointer;height:20px;bottom:0;",'%[data-state~="fullView"] %showMore':"display:none;","%itemsContainer":"position:absolute;top:0;right:0;bottom:20px;left:0;"}},t["wysiwyg.viewer.skins.gallerymatrix.BlogMatrixGallery"]={react:[["div","itemsContainer",[],{}],["div",null,["_pos"],{},["div","showMore",[],{}]]],exports:{heightDiff:25,imageItem:{skin:"wysiwyg.viewer.skins.gallerymatrix.BlogMatrixDisplayer",styleGroup:"inherit"}},params:{txt:"COLOR",fntds:"FONT"},paramsDefaults:{txt:"color_15",fntds:"font_8"},css:{"%_pos":"height:2.3em;position:absolute;right:0;bottom:0;left:0;text-align:center;","%showMore":"cursor:pointer;display:inline-block;line-height:2.3em !important;padding:0 10px;text-decoration:underline !important;color:[txt];[fntds]",'%[data-state~="fullView"] %showMore':"display:none;","%itemsContainer":"position:absolute;top:0;right:0;bottom:2.3em;left:0;"}},t["wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryCircleSkin"]={react:[["div","itemsContainer",[],{}],["div","showMore",[],{}]],exports:{heightDiff:40,imageItem:{skin:"wysiwyg.viewer.skins.gallerymatrix.MatrixDisplayerCircleSkin",styleGroup:"inherit"}},params:{txt:"COLOR",fntds:"FONT"},paramsDefaults:{txt:"color_15",fntds:"font_8"},css:{"%showMore":"color:[txt];[fntds]  cursor:pointer;text-decoration:underline !important;height:30px;line-height:30px;position:absolute;bottom:0;left:35%;right:35%;text-align:center;",'%[data-state~="fullView"] %showMore':"display:none;"}},t["wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryDefaultSkin"]={react:[["div","itemsContainer",[],{}],["div",null,["_pos"],{},["div","showMore",[],{}]]],exports:{heightDiff:25,imageItem:{skin:"wysiwyg.viewer.skins.gallerymatrix.MatrixDisplayerDefaultSkin",styleGroup:"inherit"}},params:{txt:"COLOR",fntds:"FONT"},paramsDefaults:{txt:"color_15",fntds:"font_8"},css:{"%_pos":"height:2.3em;position:absolute;right:0;bottom:0;left:0;text-align:center;","%showMore":"cursor:pointer;display:inline-block;line-height:2.3em !important;padding:0 10px;text-decoration:underline !important;color:[txt];[fntds]",'%[data-state~="fullView"] %showMore':"display:none;","%itemsContainer":"position:absolute;top:0;right:0;bottom:2.3em;left:0;"}},t["wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryLiftedShadow"]={react:[["div","itemsContainer",[],{}],["div",null,["_pos"],{},["div","showMore",[],{}]]],exports:{heightDiff:25,imageItem:{skin:"wysiwyg.viewer.skins.gallerymatrix.MatrixDisplayerLiftedShadow",styleGroup:"inherit"}},params:{txt:"COLOR",fntds:"FONT"},paramsDefaults:{txt:"color_15",fntds:"font_8"},css:{"%_pos":"height:2.3em;position:absolute;right:0;bottom:0;left:0;text-align:center;","%showMore":"cursor:pointer;display:inline-block;line-height:2.3em !important;padding:0 10px;text-decoration:underline !important;color:[txt];[fntds]",'%[data-state~="fullView"] %showMore':"display:none;","%itemsContainer":"position:absolute;top:0;right:0;bottom:2.3em;left:0;"}},t["wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryPolaroidSkin"]={react:[["div","itemsContainer",[],{}],["div",null,["_pos"],{},["div","showMore",[],{}]]],exports:{heightDiff:25,imageItem:{skin:"wysiwyg.viewer.skins.gallerymatrix.MatrixDisplayerPolaroidSkin",styleGroup:"inherit"}},params:{txt:"COLOR",fntds:"FONT"},paramsDefaults:{txt:"color_15",fntds:"font_8"},css:{"%_pos":"height:2.3em;position:absolute;right:0;bottom:0;left:0;text-align:center;","%showMore":"cursor:pointer;display:inline-block;line-height:2.3em !important;padding:0 10px;text-decoration:underline !important;color:[txt];[fntds]",'%[data-state~="fullView"] %showMore':"display:none;","%itemsContainer":"position:absolute;top:0;right:0;bottom:2.3em;left:0;"}},t["wysiwyg.viewer.skins.gallerymatrix.MatrixGallerySloopy"]={react:[["div","itemsContainer",[],{}],["div",null,["_pos"],{},["div","showMore",[],{}]]],exports:{heightDiff:25,imageItem:{skin:"wysiwyg.viewer.skins.gallerymatrix.MatrixDisplayerSloopy",styleGroup:"inherit"}},params:{txt:"COLOR",fntds:"FONT"},paramsDefaults:{txt:"color_15",fntds:"font_8"},css:{"%":"z-index:0;","%_pos":"height:2.3em;position:absolute;right:0;bottom:0;left:0;text-align:center;","%showMore":"cursor:pointer;display:inline-block;line-height:2.3em !important;padding:0 10px;text-decoration:underline !important;color:[txt];[fntds]",'%[data-state~="fullView"] %showMore':"display:none;","%itemsContainer":"position:absolute;top:0;right:0;bottom:2.3em;left:0;"}},t["wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryTextBelowSkin"]={react:[["div","itemsContainer",[],{}],["div",null,["_pos"],{},["div","showMore",[],{}]]],exports:{heightDiff:25,imageItem:{skin:"wysiwyg.viewer.skins.gallerymatrix.MatrixDisplayerTextBelowSkin",styleGroup:"inherit"}},params:{txt:"COLOR",fntds:"FONT"},paramsDefaults:{txt:"color_15",fntds:"font_8"},css:{"%_pos":"height:2.3em;position:absolute;right:0;bottom:0;left:0;text-align:center;","%showMore":"cursor:pointer;display:inline-block;line-height:2.3em !important;padding:0 10px;text-decoration:underline !important;color:[txt];[fntds]",'%[data-state~="fullView"] %showMore':"display:none;","%itemsContainer":"position:absolute;top:0;right:0;bottom:2.3em;left:0;"}},t["wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryTextSlideUpSkin"]={react:[["div","itemsContainer",[],{}],["div",null,["_pos"],{},["div","showMore",[],{}]]],exports:{heightDiff:25,imageItem:{skin:"wysiwyg.viewer.skins.gallerymatrix.MatrixDisplayerTextSlideUpSkin",styleGroup:"inherit"}},params:{showMoreColor:"COLOR",fntds:"FONT"},paramsDefaults:{showMoreColor:"color_13",fntds:"font_9"},css:{"%_pos":"height:2.3em;position:absolute;right:0;bottom:0;left:0;text-align:center;","%showMore":"cursor:pointer;display:inline-block;line-height:2.3em !important;padding:0 10px;text-decoration:underline !important;color:[showMoreColor];[fntds]",'%[data-state~="fullView"] %showMore':"display:none;","%itemsContainer":"position:absolute;top:0;right:0;bottom:2.3em;left:0;"}},t["wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryTransparentSkin"]={react:[["div","itemsContainer",[],{}],["div",null,["_pos"],{},["div","showMore",[],{}]]],exports:{heightDiff:25,imageItem:{skin:"wysiwyg.viewer.skins.gallerymatrix.MatrixDisplayerTransparentSkin",styleGroup:"inherit"}},params:{showMoreColor:"COLOR",fntdsTrans:"FONT"},paramsDefaults:{showMoreColor:"color_13",fntdsTrans:"font_9"},css:{"%_pos":"height:2.3em;position:absolute;right:0;bottom:0;left:0;text-align:center;","%showMore":"cursor:pointer;display:inline-block;line-height:2.3em !important;padding:0 10px;text-decoration:underline !important;color:[showMoreColor];[fntdsTrans]",'%[data-state~="fullView"] %showMore':"display:none;","%itemsContainer":"position:absolute;top:0;right:0;bottom:2.3em;left:0;"}},t["wysiwyg.viewer.skins.gallerymatrix.PolaroidCustomHeightSkin"]={react:[["div","itemsContainer",[],{}],["div","showMore",[],{}]],exports:{heightDiff:25,imageItem:{skin:"wysiwyg.viewer.skins.gallerymatrix.PolaroidDisplayerCustomHeightSkin",styleGroup:"inherit"}},params:{showMoreColor:"COLOR",fntds:"FONT"},paramsDefaults:{showMoreColor:"color_13",fntds:"font_8"},css:{"%itemsContainer":"position:absolute;top:0;right:0;bottom:25px;left:0;","%showMore":"color:[showMoreColor];[fntds]  position:absolute;left:0;right:0;bottom:0;text-align:center;text-decoration:underline !important;cursor:pointer;",'%[data-state~="fullView"] %showMore':"display:none;"}},t["wysiwyg.viewer.skins.gallerymatrix.TextBottomCustomHeightSkin"]={react:[["div","itemsContainer",[],{}],["div","showMore",[],{}]],exports:{heightDiff:25,imageItem:{skin:"wysiwyg.viewer.skins.gallerymatrix.TextBottomDisplayerCustomHeightSkin",styleGroup:"inherit"}},params:{showMoreColor:"COLOR",fntds:"FONT"},paramsDefaults:{showMoreColor:"color_13",fntds:"font_8"},css:{"%itemsContainer":"position:absolute;top:0;right:0;bottom:25px;left:0;","%showMore":"color:[showMoreColor];[fntds]  position:absolute;left:0;right:0;bottom:0;text-align:center;text-decoration:underline !important;cursor:pointer !important;",'%[data-state~="fullView"] %showMore':"display:none;"}},t}),define("matrixGallery",["lodash","skins","core","santaProps","utils","coreUtils","galleriesCommon","displayer","reactDOM","zepto","matrixGallery/skins/skins.json"],function(t,e,i,o,s,r,a,n,l,p,h){function m(t,e,i){return i<=t*e?"fullView":"hiddenChildren"}function g(t){return Math.max(f.MIN_GALLERY_HEIGHT,t)}function d(e,i){if(e&&i&&e.skin===i.skin){var o=t.pick(e.style.properties,x),s=t.pick(i.style.properties,x);return!t.isEqual(o,s)}return!1}var y=i.compMixins,c=r.matrix.calculations,w=r.matrix.scalingCalculations,f=a.utils.galleriesHelperFunctions,u=s.galleriesCommonLayout,x=["topPadding","imgHeightDiff"],k={displayName:"MatrixGallery",propTypes:t.assign({shouldResetGalleryToOriginalState:o.Types.RenderFlags.shouldResetGalleryToOriginalState.isRequired,compProp:o.Types.Component.compProp.isRequired,compData:o.Types.Component.compData.isRequired,style:o.Types.Component.style.isRequired,skin:o.Types.Component.skin.isRequired,compTheme:o.Types.Component.theme,currentUrlPageId:o.Types.Component.currentUrlPageId.isRequired,isMobileView:o.Types.isMobileView,isMobileDevice:o.Types.Device.isMobileDevice,isTabletDevice:o.Types.Device.isTabletDevice,compActions:o.Types.Component.compActions.isRequired},o.santaTypesUtils.getSantaTypesByDefinition(n)),statics:{useSantaTypes:!0},mixins:[y.skinBasedComp,y.skinInfo],getInitialState:function(){return this.getInitStateAndResetInstance(this.props)},getInitStateAndResetInstance:function(t){var e=t||this.props;this.shouldResetGalleryToOriginalState=e.shouldResetGalleryToOriginalState;var i=c.getAvailableRowsNumber(e.compProp.maxRows,e.compProp.numCols,e.compData.items.length),o=e.isMobileView?"mobileView":"desktopView";return this.showMoreClicked=!1,this.galleryHeight=g(e.style.height),this.itemHeight=c.getItemHeight(e.compProp.margin,this.galleryHeight,i,f.getSkinHeightDiff(e.skin)),{numberOfRows:i,$mobile:e.isMobileDevice||e.isTabletDevice?"mobile":"notMobile",$displayDevice:o,$state:m(i,e.compProp.numCols,e.compData.items.length)}},createDisplayer:function(t,i,o,s){var r=this.getDisplayerSkin(),a=e.skinsMap.get(this.props.skin),n=a.exports&&a.exports.bottomGap||0,l=this.getParams(x,r),p=f.getDisplayerHeightDiff(e.skinsMap.get(r),l,this.state.$displayDevice),h=f.getDisplayerWidthDiff(e.skinsMap.get(r),this.state.$displayDevice),m=w.getSizeAfterScaling({itemHeight:s,itemWidth:o,displayerData:t,imageMode:this.props.compProp.imageMode,widthDiff:h,heightDiff:p,bottomGap:n}),g=c.getItemPosition(i,o,s,this.props.compProp.margin,this.props.compProp.numCols);return this.createChildComponent(t,"wysiwyg.viewer.components.Displayer","imageItem",{key:t.id,ref:t.id,id:this.props.id+t.id,currentUrlPageId:this.props.currentUrlPageId,galleryId:this.props.id,galleryDataId:this.props.compData.id,imageWrapperSize:m.imageWrapperSize,imageIndex:i,heightDiff:p,widthDiff:h,bottomGap:n,style:{width:m.displayerSize.width,height:m.displayerSize.height,position:"absolute",left:g.left,top:g.top}})},createDisplayers:function(){var e=t.take(this.props.compData.items,this.props.compProp.numCols*this.state.numberOfRows),i=c.getItemWidth(this.props.compProp.margin,this.props.compProp.numCols,this.props.style.width,f.getSkinWidthDiff(this.props.skin)),o=this.itemHeight||c.getItemHeight(this.props.compProp.margin,this.galleryHeight,this.state.numberOfRows,f.getSkinHeightDiff(this.props.skin));return t.map(e,function(t,e){return this.createDisplayer(t,e,i,o)}.bind(this))},componentWillReceiveProps:function(e){var i=c.getAvailableRowsNumber(e.compProp.maxRows,e.compProp.numCols,e.compData.items.length),o={},s=!1;if(this.props.compProp.maxRows===e.compProp.maxRows&&this.props.compProp.numCols===e.compProp.numCols&&this.props.compData.items.length===e.compData.items.length||(s=!0,o.numberOfRows=i,this.galleryHeight=g(f.getGalleryHeight(this.state.numberOfRows,i,this.props.compProp.margin,this.props.skin,this.galleryHeight)),o.$state=m(i,e.compProp.numCols,e.compData.items.length)),this.props.style.height!==e.style.height&&(s=!0,this.galleryHeight=g(e.style.height)),this.shouldResetGalleryToOriginalState!==e.shouldResetGalleryToOriginalState&&(this.shouldResetGalleryToOriginalState&&this.resetGalleryState&&this.resetGalleryState(e),this.shouldResetGalleryToOriginalState=e.shouldResetGalleryToOriginalState),s||d(this.props.compTheme,e.compTheme)){this.itemHeight=c.getItemHeight(e.compProp.margin,this.galleryHeight,i,f.getSkinHeightDiff(this.props.skin));var r=f.getSkinHeightDiff(this.props.skin),a=o.numberOfRows||this.state.numberOfRows;this.galleryHeight=a*this.itemHeight+(a-1)*this.props.compProp.margin+r}t.isEmpty(o)||this.setState(o)},getSkinProperties:function(){var t={showMore:{children:this.props.compProp.showMoreLabel,onClick:this.showMoreRows,tabIndex:"0",onKeyDown:s.accessibility.keyboardInteractions.activateBySpaceOrEnterButton},itemsContainer:{children:this.createDisplayers(),style:{height:this.galleryHeight},onKeyDown:this.onKeyDown},"":{"data-height-diff":f.getSkinHeightDiff(this.props.skin),"data-width-diff":f.getSkinWidthDiff(this.props.skin),"data-presented-row":this.state.numberOfRows,style:{height:this.galleryHeight}}};return(this.showMoreClicked||"fullView"===this.state.$state)&&u.updateSkinPropsForFlexibleHeightGallery(t,this.galleryHeight),t},showMoreRows:function(){var t=c.getAvailableRowsNumber(this.state.numberOfRows+this.props.compProp.incRows,this.props.compProp.numCols,this.props.compData.items.length);this.showMoreClicked=!0,this.galleryHeight=g(f.getGalleryHeight(this.state.numberOfRows,t,this.props.compProp.margin,this.props.skin,this.galleryHeight)),this.registerReLayout(),this.setState({numberOfRows:t,$state:m(t,this.props.compProp.numCols,this.props.compData.items.length)})},getDisplayerSkin:function(){return this.getSkinExports().imageItem.skin},navigateGalleryFocus:function(t,e){var i,o=s.accessibility.getTabbaleElements(l.findDOMNode(this)),r=o.indexOf(t),a=Math.ceil(o.length/this.state.numberOfRows);"ArrowDown"===e&&(i=r+a)>=o.length&&(i%=o.length),"ArrowUp"===e&&(i=r-a)<0&&(i=o.length-Math.abs(i)),"ArrowRight"===e&&(i=r+1)>=o.length&&(i=0),"ArrowLeft"===e&&(i=r-1)<0&&(i=o.length-1);var n=o[i];n&&p(n).focus()},onKeyDown:function(e){var i=["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"];t.includes(i,e.key)&&(e.stopPropagation(),e.preventDefault(),this.navigateGalleryFocus(e.target,e.key))}};return i.compRegistrar.register("wysiwyg.viewer.components.MatrixGallery",k,!0),e.skinsMap.addBatch(h),k});
//# sourceMappingURL=matrixGallery.min.js.map