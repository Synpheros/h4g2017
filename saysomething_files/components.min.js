"use strict";define("components/components/masterPage/masterPage",["lodash","santaProps","react"],function(e,t,i){return{displayName:"WixMasterPage",propTypes:{componentViewMode:t.Types.RenderFlags.componentViewMode.isRequired,compBehaviors:t.Types.Component.compBehaviors,style:t.Types.Component.style.isRequired},render:function(){return i.createElement("div",this.props,this.props.children)}}}),define("components/components/imageButtonWithText/imageButtonWithText",["core","experiment"],function(e,t){function i(){var e={};return e["direction-"+this.props.compProp.direction]=!0,e["label-empty"]=!this.props.compData.label,e["extraInfo-empty"]=!t.isOpen("sv_blogSocialCounters",this.props.siteData)||!this.props.compData.extraInfo,e["size-"+this.props.compProp.size]=!0,e["type-"+this.props.compData.type]=!0,e["border-radius-editable"]=!0,this.classSet(e)}return{displayName:"ImageButtonWithText",mixins:[e.compMixins.skinBasedComp],getSkinProperties:function(){return{button:{className:i.call(this)},buttonIcon:{src:this.props.compData.iconSource},buttonLabel:{children:this.props.compData.label},buttonExtraInfo:{children:this.props.compData.extraInfo}}}}}),define("components/components/mobileMediaZoom/mobileMediaZoom",["lodash","core","react","santaProps"],function(e,t,i,o){return{displayName:"MobileMediaZoom",mixins:[t.compMixins.skinBasedComp],propTypes:{compData:o.Types.Component.compData.isRequired,forceBackground:o.Types.forceBackground.isRequired,disableForcedBackground:o.Types.disableForcedBackground.isRequired,isMobileDevice:o.Types.Device.isMobileDevice.isRequired,isZoomAllowed:o.Types.RenderFlags.isZoomAllowed.isRequired,siteWidth:o.Types.siteWidth.isRequired,siteScrollingBlocker:o.Types.SiteAspects.siteScrollingBlocker.isRequired,navigateToPage:o.Types.navigateToPage.isRequired,enterFullScreenMode:o.Types.enterFullScreenMode.isRequired,exitFullScreenMode:o.Types.exitFullScreenMode.isRequired,isDataChangedFunc:i.PropTypes.func.isRequired,getPrevAndNextStateFunc:i.PropTypes.func.isRequired,getChildCompFunc:i.PropTypes.func.isRequired,enableInnerScrolling:i.PropTypes.bool.isRequired,actualNavigateToItemFunc:i.PropTypes.func.isRequired,closeFunction:i.PropTypes.func,rootNavigationInfo:i.PropTypes.object},statics:{useSantaTypes:!0},getInitialState:function(){var t=this.props.getPrevAndNextStateFunc();return e.assign(t,{$viewerType:this.props.isMobileDevice?"mobile":"tablet",$buttonState:""}),this.props.enableInnerScrolling&&(t.$scrollState="scrollEnabled"),t},componentWillReceiveProps:function(e){this.props.isZoomAllowed?this.props.isDataChangedFunc(this.props,e)&&this.setState(this.props.getPrevAndNextStateFunc()):setTimeout(this.closeMediaZoom,0)},createOverlay:function(e){return t.componentUtils.fullScreenOverlay.createOverlay(e,{siteWidth:this.props.siteWidth,isMobileDevice:this.props.isMobileDevice,siteScrollingBlocker:this.props.siteScrollingBlocker,forceBackground:this.props.forceBackground,disableForcedBackground:this.props.disableForcedBackground})},getSkinProperties:function(){var e=this.props.getChildCompFunc({key:this.props.compData.id,hideMediaZoomButtons:this.hideButtons,showMediaZoomButtons:this.showButtons},{width:0,height:0}),t=!this.state.next,i={"":{onSwipeLeft:this.clickOnNextButton,onSwipeRight:this.clickOnPreviousButton},itemsContainer:{children:e},xButton:{onClick:this.closeMediaZoom,style:{}},buttonPrev:{onClick:this.clickOnPreviousButton,style:{}},buttonNext:{onClick:this.clickOnNextButton,style:{}}};return i=this.props.enableInnerScrolling?i:this.createOverlay(i),(t||this.props.enableInnerScrolling)&&(i.buttonNext.style.display="none",i.buttonPrev.style.display="none"),i},clickOnNextButton:function(e){this.showButtons(),this.props.actualNavigateToItemFunc(this.state.next),e&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation())},closeMediaZoom:function(){this.props.closeFunction?this.props.closeFunction():this.props.navigateToPage({pageId:this.props.rootNavigationInfo.pageId})},clickOnPreviousButton:function(e){this.showButtons(),this.props.actualNavigateToItemFunc(this.state.prev),e&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation())},hideButtons:function(){this.setState({$buttonState:"hideButtons"})},showButtons:function(){this.setState({$buttonState:""})},componentDidMount:function(){this.props.enterFullScreenMode({scrollable:this.props.enableInnerScrolling})},componentWillUnmount:function(){this.props.exitFullScreenMode()}}}),define("components/bi/events.json",[],function(){return{FORM_SUBMIT:{eventId:100,adapter:"ugc-viewer",params:{c1:"componentId",c2:"componentType"}},FORM_SUBMIT_SUCCESS:{eventId:367,adapter:"ugc-viewer",params:{component_id:"componentId",component_type:"componentType"}},MOBILE_APP_BANNER_SHOWN:{eventId:404,adapter:"app-builder",src:62,params:{metaSiteId:"metaSiteId",type:"type"}},MOBILE_APP_BANNER_GET_CLICKED:{eventId:405,adapter:"app-builder",src:62,params:{metaSiteId:"metaSiteId",link:"link"}},MOBILE_APP_BANNER_CLOSE_CLICKED:{eventId:406,adapter:"app-builder",src:62,params:{metaSiteId:"metaSiteId"}},ZOOM_IN_EXPAND_MODE:{eventId:375,adapter:"ugc-viewer",params:{site_id:"site_id",zoomType:"zoomType"}},ENTER_EXPAND_MODE:{eventId:376,adapter:"ugc-viewer",params:{site_id:"site_id"}}}}),define("components/components/touchMediaZoom/touchMediaZoomSlideshow",["zepto","lodash","siteUtils","core","react","santaProps","components/bi/events.json"],function(e,t,i,o,n,s,r){var a=o.compMixins,p=i.linkRenderer,l=i.touchMediaZoomUtils;return{displayName:"TouchMediaZoomSlideshow",mixins:[a.skinBasedComp],propTypes:{browser:s.Types.Browser.browser.isRequired,id:s.Types.Component.id.isRequired,compData:s.Types.Component.compData.isRequired,compProp:s.Types.Component.compProp.isRequired,rootNavigationInfo:s.Types.Component.rootNavigationInfo.isRequired,styleId:s.Types.Component.styleId.isRequired,devicePixelRatio:s.Types.Device.devicePixelRatio.isRequired,isMobileDevice:s.Types.Device.isMobileDevice.isRequired,screenSize:s.Types.screenSize.isRequired,linkRenderInfo:s.Types.Link.linkRenderInfo.isRequired,isLandscape:s.Types.mobile.isLandscape.isRequired,isZoomed:s.Types.mobile.isZoomed.isRequired,isZoomedIn:s.Types.mobile.isZoomedIn.isRequired,navigateToPage:s.Types.navigateToPage.isRequired,isZoomAllowed:s.Types.RenderFlags.isZoomAllowed.isRequired,siteId:s.Types.RendererModel.siteId.isRequired,reportBI:s.Types.reportBI.isRequired,staticMediaUrl:s.Types.ServiceTopology.staticMediaUrl.isRequired,windowKeyboardEvent:s.Types.SiteAspects.windowKeyboardEvent.isRequired,updateUrlIfNeeded:s.Types.Navigation.updateUrlIfNeeded.isRequired,currentZoomItem:s.Types.NonPageItemZoom.currentItem,unzoom:s.Types.NonPageItemZoom.unzoom,isExperimentOpen:s.Types.isExperimentOpen,pageItemAdditionalData:n.PropTypes.object},getSwipeOffset:function(){return this.nonReactState.swipeOffset},setSwipeOffset:function(e){this.nonReactState.swipeOffset=e;var t=this.generateTransformString(e);this.refs.swipeStage.style.transform=t,this.refs.swipeStage.style.webkitTransform=t},generateTransformString:function(e){return"translate3d("+-1*e*this.stagePercentFactor+"%, 0, 0)"},getCurrentSlideIndex:function(){return this.nonReactState.currentSlideIndex},setCurrentSlideIndex:function(e){this.nonReactState.currentSlideIndex=e},getIsZoomed:function(){return this.nonReactState.isZoomed},setIsZoomed:function(e){this.nonReactState.isZoomed=e},getStagePercentFactor:function(){return 100/this.stageData.fullWidth},getItems:function(){return t.get(this.props.pageItemAdditionalData,"items",[this.props.compData])},enterZoomMode:function(){this.isZoomed=!0,this.refs.xButton.classList.add(this.classSet({"force-hide":!0})),this.fireZoomInExpandModeEvent("pinch")},exitZoomMode:function(){this.isZoomed=!1,this.refs.xButton.classList.remove(this.classSet({"force-hide":!0}))},onTouchMove:function(e){1!==e.touches.length||this.isZoomed?1===e.touches.length||this.isZoomed||this.enterZoomMode():e.preventDefault()},onTouchEnd:function(){this.isZoomed&&(this._touchEndTimeoutHandle=window.setTimeout(function(){this.props.isZoomedIn()||this.exitZoomMode()}.bind(this),300))},fireEnterExpandModeEvent:function(){this.props.reportBI(r.ENTER_EXPAND_MODE,{site_id:this.props.siteId})},fireZoomInExpandModeEvent:function(e){this.props.reportBI(r.ZOOM_IN_EXPAND_MODE,{site_id:this.props.siteId,zoomType:e})},componentWillMount:function(){this.fireEnterExpandModeEvent(),this.props.windowKeyboardEvent.registerToArrowLeftKey(this),this.props.windowKeyboardEvent.registerToArrowRightKey(this),Object.defineProperty(this,"swipeOffset",{get:this.getSwipeOffset,set:this.setSwipeOffset}),Object.defineProperty(this,"currentSlideIndex",{get:this.getCurrentSlideIndex,set:this.setCurrentSlideIndex}),Object.defineProperty(this,"isZoomed",{get:this.getIsZoomed,set:this.setIsZoomed}),Object.defineProperty(this,"stagePercentFactor",{get:this.getStagePercentFactor}),this.stageData=l.createStageData(.2),this.resetNonReactState(),this.setState({showInfo:!0,isZoomed:!1})},componentDidMount:function(){if(this.nonReactState.firstRender=!1,this.setSwipeOffset(this.swipeOffset),this.refs.swipeStage.addEventListener("transitionend",this.onSwipeEnd),this.pageScroll=window.scrollY,this.pageMarginTop=e("html").css("marginTop"),e("html").addClass("media-zoom-mode"),e("html").css({marginTop:0}),this.props.isMobileDevice){var t=this;requirejs(["hammer"],function(e){t.setupTouchHandlers(e)}),this.refs[""].addEventListener("touchend",this.onTouchEnd),this.refs[""].addEventListener("touchcancel",this.onTouchEnd),this.refs[""].addEventListener("touchmove",this.onTouchMove)}},componentWillUnmount:function(){window.clearTimeout(this._touchEndTimeoutHandle),e("html").removeClass("media-zoom-mode"),e("html").css({marginTop:this.pageMarginTop}),window.scrollTo(0,this.pageScroll)},setupTouchHandlers:function(e){this.hammertime=new e.Manager(this.refs[""],{cssProps:{touchCallout:"default"},touchAction:"auto"}),this.hammertime.add(new e.Pan({event:"pan",direction:e.DIRECTION_HORIZONTAL})),this.hammertime.add(new e.Pan({event:"panstart",direction:e.DIRECTION_HORIZONTAL})),this.hammertime.add(new e.Pan({event:"panend",direction:e.DIRECTION_HORIZONTAL})),this.hammertime.on("panstart pan panend",this.onSwipe),this.hammertime.add(new e.Tap({event:"doubletap",taps:2,threshold:30,posThreshold:30})),this.hammertime.on("doubletap",t.partial(this.fireZoomInExpandModeEvent,"doubleTap"))},componentWillUpdate:function(){this.props.isMobileDevice&&this.setSwipeOffset(this.stageData.centerPart_begin)},componentWillReceiveProps:function(){this.props.isZoomAllowed||setTimeout(this.closeMediaZoom,0)},resetNonReactState:function(e){var i=e||this.props.compData,o=t.findIndex(this.getItems(),{id:i.id}),n=this.props.isZoomed();this.nonReactState={currentSlideIndex:o,swipeOffset:this.stageData.centerPart_begin,isZoomed:n,firstRender:!0}},onSwipe:function(e){if(!(this.isZoomed||e.center.x-e.deltaX<29))switch(e.type){case"panstart":break;case"pan":this.swipeOffset=t.clamp(this.stageData.centerPart_begin-e.deltaX/window.innerWidth,this.currentSlideIndex>0?this.stageData.leftPart_leftMargin:this.stageData.centerPart_leftMargin,this.currentSlideIndex<this.getItems().length-1?this.stageData.rightPart_rightMargin:this.stageData.centerPart_rightMargin);break;case"panend":this.startTransition();break;default:throw"unsupported event type: "+e.type}},calcTransitionTarget:function(){return this.swipeOffset<this.stageData.centerPart_leftMargin?{offset:this.stageData.leftPart_begin,index:this.currentSlideIndex-1}:this.swipeOffset>this.stageData.centerPart_rightMargin?{offset:this.stageData.rightPart_begin,index:this.currentSlideIndex+1}:{offset:this.stageData.centerPart_begin,index:this.currentSlideIndex}},startTransition:function(e){var t=e||this.calcTransitionTarget();this.refs.swipeStage.classList.add(this.props.styleId+"_animate"),this.swipeOffset=t.offset,this.currentSlideIndex=t.index},onSwipeEnd:function(){this.refs.swipeStage.classList.remove(this.props.styleId+"_animate"),this.swipeOffset=this.stageData.centerPart_begin,this.navigateToSlide(this.currentSlideIndex),this.setState({})},navigateToSlide:function(e){var i=this.getItems()[e].id,o=t.clone(this.props.rootNavigationInfo);o.pageItemId=i,this.props.updateUrlIfNeeded(o)},closeMediaZoom:function(){this.props.currentZoomItem?this.props.unzoom():this.props.navigateToPage({pageId:this.props.rootNavigationInfo.pageId})},onXButton:function(e){this.closeMediaZoom(),e.preventDefault()},onArrowLeftKey:function(){this.currentSlideIndex>0&&this.startTransition({offset:this.stageData.leftPart_begin,index:this.currentSlideIndex-1})},onArrowRightKey:function(){this.currentSlideIndex<this.getItems().length-1&&this.startTransition({offset:this.stageData.rightPart_begin,index:this.currentSlideIndex+1})},toggleInfoPanel:function(e){e.target!==this.refs.stage_CENTER.refs.link&&this.setState({showInfo:!this.isManipulated()&&!this.state.showInfo})},getGotoLink:function(e){var i=e.link;if(i){var o=p.renderLink(i,this.props.linkRenderInfo,this.props.rootNavigationInfo);return o.children=t.get(this.props.compProp,"goToLinkText","Go to link"),o}},getStageParts:function(){return t.filter([{id:"LEFT",imageIndex:this.currentSlideIndex-1,offset:this.stageData.leftPart_leftMargin},{id:"CENTER",imageIndex:this.currentSlideIndex,offset:this.stageData.centerPart_leftMargin},{id:"RIGHT",imageIndex:this.currentSlideIndex+1,offset:this.stageData.rightPart_leftMargin}],function(e){return e.imageIndex>=0&&e.imageIndex<this.getItems().length}.bind(this))},isManipulated:function(){return this.props.isMobileDevice&&this.props.isLandscape()||this.state.isZoomed},buildStageChildren:function(){var e=[];return t.forEach(this.getStageParts(),function(t){var i=t.offset*this.stagePercentFactor,o="stage_"+t.id,n=this.getItems()[t.imageIndex],s=this.nonReactState.firstRender?null:this.props.screenSize,r={pixelAspectRatio:this.props.devicePixelRatio,browser:this.props.browser,staticMediaUrl:this.props.staticMediaUrl,screenSize:s},a=this.createChildComponent(n,"wysiwyg.viewer.components.TouchMediaZoomItem","image",{key:this.props.id+"_item"+t.imageIndex,id:o,ref:o,imageData:n,clientData:r,link:this.getGotoLink(n),screenSize:s,itemToScreenRatio:1.4,showInfo:this.state.showInfo&&!this.isManipulated(),itemLeft:i,firstRender:this.nonReactState.firstRender});e.push(a)}.bind(this)),e},getSkinProperties:function(){return{"":{onClick:this.toggleInfoPanel},swipeStage:{style:{width:100*this.stageData.fullWidth+"%"},children:this.buildStageChildren()},xButton:{onClick:this.onXButton,className:this.classSet({hidden:this.isManipulated()})}}}}}),define("components/components/touchMediaZoom/touchMediaZoomItem",["lodash","react","core","siteUtils"],function(e,t,i,o){var n=o.touchMediaZoomUtils;return{displayName:"TouchMediaZoomItem",mixins:[i.compMixins.skinBasedComp],propTypes:{itemToScreenRatio:t.PropTypes.number.isRequired,itemLeft:t.PropTypes.number.isRequired,imageData:t.PropTypes.object.isRequired,clientData:t.PropTypes.object.isRequired,showInfo:t.PropTypes.bool.isRequired,firstRender:t.PropTypes.bool.isRequired,link:t.PropTypes.object,screenSize:t.PropTypes.object},getTitle:function(){var t=e.get(this.props.imageData,"title");return{className:this.classSet({hidden:!t}),children:t}},getDescription:function(){var t=e.get(this.props.imageData,"description");return{className:this.classSet({hidden:!t}),children:t}},getLink:function(){return e.assign({},this.props.link,{className:this.classSet({hidden:!this.props.link})})},hasInfo:function(){return this.props.imageData.title||this.props.imageData.description||this.props.link},isImageFullWidth:function(){return!e.has(this.props.screenSize,"width")||this.props.screenSize<=e.get(this.props.imageApiFastData,"css.img.width")},getImageProps:function(t,i){if(this.props.firstRender)return{"data-imgdata":JSON.stringify(e.pick(t,["width","height","uri","quality"])),"data-imgscale":i||1};var o=n.getImageApiData(t,this.props.clientData,i||1);return{src:o.uri,style:o.css.img}},getSkinProperties:function(){var t=e.assign(this.getImageProps(this.props.imageData,.25),{className:this.classSet({fast:!0})}),i=e.assign(this.getImageProps(this.props.imageData),{className:this.classSet({heavy:!0})}),o=e.has(this.props.screenSize,"width")?{width:this.props.screenSize.width+"px"}:{},n=e.has(this.props.screenSize,"width")?{width:this.props.screenSize.width*this.props.itemToScreenRatio+"px"}:{};return{"":{className:this.classSet({parallax:this.isImageFullWidth()}),style:e.assign({},n,{left:this.props.itemLeft+"%"}),"data-firstrender":this.props.firstRender},imageContainer:{style:o},hirRes:i,lowRes:t,info:{className:this.classSet({hidden:!this.props.showInfo||!this.hasInfo()}),style:o},description:this.getDescription(),title:this.getTitle(),link:this.getLink()}}}}),define("components/components/colorOption/colorOption",["core","lodash"],function(e,t){return{displayName:"ColorOption",mixins:[e.compMixins.optionInput],getSkinProperties:function(){var e={"":{style:{backgroundColor:this.props.compData.text}},tooltip:this.createInfoTipChildComponent()};return this.props.compData.disabled||(e[""]=t.merge(e[""],{onClick:this.props.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave})),e}}}),define("components/components/mobileColorOption/mobileColorOption",["core"],function(e){return{displayName:"MobileColorOption",mixins:[e.compMixins.optionInput],getSkinProperties:function(){var e={"":{style:{backgroundColor:this.props.compData.text}}};return this.props.compData.disabled||(e[""].onClick=this.props.onClick,e[""].style.cursor="pointer"),e}}}),define("components/components/ebayItemsBySeller/ebayItemsBySeller",["react","reactDOM","core","utils"],function(e,t,i,o){var n=i.compMixins,s=o.urlUtils,r={Australia:"15",Austria:"16",Belgium_Dutch:"123",Belgium_French:"23",Canada:"2",CanadaFrench:"210",China:"223",eBayMotors:"100",France:"71",Germany:"77",HongKong:"201",India:"203",Ireland:"205",Italy:"101",Malaysia:"207",Netherlands:"146",Philippines:"211",Poland:"212",Singapore:"216",Spain:"186",Sweden:"218",Switzerland:"193",Taiwan:"196",UK:"3",US:"0"},a={EKServer:"",ai:"aj|kvpqvqlvxwkl",cid:"0",eksize:"1",encode:"UTF-8",endcolor:"FF0000",endtime:"y",fbgcolor:"FFFFFF",fs:"0",hdrsrch:"n",img:"y",logo:"6",numbid:"n",paypal:"n",popup:"y",prvd:"9",r0:"3",shipcost:"y",sort:"MetaEndSort",sortby:"endtime",sortdir:"asc",srchdesc:"n",title:"",tlecolor:"FFFFFF",tlefs:"0",tlfcolor:"000000",toolid:"10004",track:"5335838312"};return{displayName:"EbayItemsBySeller",mixins:[n.skinBasedComp,n.skinInfo],getScriptUrl:function(){var e=this._prepareOptions();return"http://lapi.ebay.com/ws/eBayISAPI.dll?"+s.toQueryString(a)+"&"+s.toQueryString(e)},getSkinProperties:function(){var t,i,o=this.props.structure.layout,n=this.props.siteData.getBrowser().ie;return n||(i='data:text/html,<html><body style="margin:0px;"><div><script src="'+this.getScriptUrl()+'"><\/script></div></body></html>'),this.props.compData.sellerId&&(t=e.DOM.iframe({src:n?"":encodeURI(i),style:{width:o.width,height:o.height}})),{iFrameHolder:{children:this.props.compData.sellerId?[t]:[]}}},getInitialState:function(){return{$contentState:this.props.compData.sellerId?"hasContent":"noContent"}},componentDidMount:function(){if(this.props.compData.sellerId){var e=this.props.siteData.getBrowser();if(e.ie){var i=t.findDOMNode(this).querySelector("iframe");10===parseInt(e.version,10)&&(i.src="javascript:(function () {document.open();document.domain='"+encodeURIComponent(window.document.domain)+"';document.close()})();"),i.contentWindow.document.write('<html><body style="margin:0px;"><div><script type="text/javascript" src="'+this.getScriptUrl()+'"><\/script></div></body></html>')}}},_prepareOptions:function(){var e=this.props.structure.layout,t=Math.floor((e.height-100)/70),i=this.props.compData.sellerId;return{width:e.width,hdrimage:this.props.compProp.headerImage,fntcolor:this.getParamFromDefaultSkin("fontColor").value.hexString().replace("#",""),bdrcolor:this.getParamFromDefaultSkin("borderColor").value.hexString().replace("#",""),hdrcolor:this.getParamFromDefaultSkin("headerColor").value.hexString().replace("#",""),tbgcolor:this.getParamFromDefaultSkin("backgroundColor").value.hexString().replace("#",""),lnkcolor:this.getParamFromDefaultSkin("linkColor").value.hexString().replace("#",""),num:t,si:i,sid:i,siteid:r[this.props.compData.registrationSite]||0}}}}),define("components/components/numericStepper/numericStepper",["lodash","core","reactDOM"],function(e,t,i){function o(e,t,o){if(this.props.compData.value){var n=parseInt(this.props.compData.value,10)+e,r=i.findDOMNode(this.refs.inputNumberInput);t.target=r,s.call(this,t,o,this.props.compData.value,String(n))}}function n(e,t,i){(i=i||e.target.value)&&s.call(this,e,t,this.props.compData.value,i)}function s(t,i,o,n){t=e.clone(t);var s=Number(n),r=Number(o),a=s<this.minValue,p=s>this.maxValue;""===n||isNaN(s)?s=r:(a?s=this.minValue:p&&this.props.onInputChangedFailed&&(t.type="inputChangedFailed",t.payload={oldValue:r,invalidValue:s,maxValue:this.maxValue,minValue:this.minValue},this.props.onInputChangedFailed(t,i),s=this.maxValue),n=String(s),this.props.onInputChange&&s!==r&&((t=e.clone(t)).type="inputChanged",t.payload=n,this.props.onInputChange(t,i)))}function r(e){return"space"!==e.key&&(!e.shiftKey||e.keyCode>=35&&e.keyCode<=40)&&(1!==e.key.length||e.ctrlKey||e.metaKey||e.shiftKey||e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105)}return{displayName:"NumericStepper",mixins:[t.compMixins.skinBasedComp],getInitialState:function(){return this.getState(this.props)},getState:function(e){return{$validation:e.compProp.message?"invalid":"valid"}},componentWillMount:function(){this.minValue=e.isUndefined(this.props.compProp.minValue)?0:Number(this.props.compProp.minValue),this.maxValue=e.isUndefined(this.props.compProp.maxValue)?999:Number(this.props.compProp.maxValue)},componentWillReceiveProps:function(e){this.setState(this.getState(e))},getSkinProperties:function(){return{inputNumberInput:{value:this.props.compData.value,onChange:n.bind(this),onKeyDown:r.bind(this)},plus:{onClick:o.bind(this,1)},minus:{onClick:o.bind(this,-1)}}}}}),define("components/components/optionsListInput/optionsListInput",["lodash","core","react","utils"],function(e,t,i,o){function n(e,t,i){this.props.onSelectionChange&&(t.type="selectionChanged",t.payload=e,this.props.onSelectionChange(t,i))}return{displayName:"OptionsListInput",mixins:[t.compMixins.skinBasedComp],propType:{itemClassName:i.PropTypes.string.isRequired,itemSkin:i.PropTypes.string.isRequired,selectedItem:i.PropTypes.object,valid:i.PropTypes.boolean,onSelectionChange:i.PropTypes.function},getInitialState:function(){return this.getCssState(this.props)},getCssState:function(e){return{$validity:!1===e.valid?"invalid":"valid"}},componentWillReceiveProps:function(e){e.valid!==this.props.valid&&this.setState(this.getCssState(e))},getSkinProperties:function(){return{"":{children:e.map(this.props.compData.options,function(e,t){var i={selected:this.props.selectedItem===e,onClick:n.bind(this,e),id:this.props.id+t,ref:t};return this.createChildComponent(e,this.props.itemClassName,{skin:this.props.itemSkin,styleId:o.santaTypes.shortenStyleId(this.props.itemSkin)},i)}.bind(this))}}}}}),define("components/components/selectOptionsList/selectOptionsList",["lodash","core","react","utils"],function(e,t,i,o){function n(e,t,i){this.props.onSelectionChange&&(t.type="selectionChanged",t.payload=e,this.props.onSelectionChange(t,i))}var s=t.compMixins;return{displayName:"SelectOptionsList",mixins:[s.skinBasedComp,s.timeoutsMixin],propType:{itemClassName:i.PropTypes.string.isRequired,itemSkin:i.PropTypes.string.isRequired,selectedItem:i.PropTypes.object,valid:i.PropTypes.boolean,onSelectionChange:i.PropTypes.function},getInitialState:function(){return{$validity:!1===this.props.valid?"invalid":"valid",$tooltip:this.props.selectedItem&&this.props.selectedItem.description?"displayed":"hidden"}},componentWillMount:function(){if("displayed"===this.state.$tooltip){var e=this;this.setTimeout(function(){e.setState({$tooltip:"hidden"})},1500)}},componentWillReceiveProps:function(e){var t=this.props,i={$validity:!1===e.valid?"invalid":"valid"};if((!t.selectedItem||t.selectedItem&&e.selectedItem&&t.selectedItem.description!==e.selectedItem.description)&&(i.$tooltip=e.selectedItem&&e.selectedItem.description?"displayed":"hidden"),this.setState(i),this.props.selectedItem!==e.selectedItem&&"displayed"===i.$tooltip){var o=this;this.setTimeout(function(){o.setState({$tooltip:"hidden"})},1500)}},getSkinProperties:function(){var t={itemsContainer:{children:e.map(this.props.compData.options,function(e,t){var i={selected:this.props.selectedItem===e,onClick:n.bind(this,e),ref:t};return this.createChildComponent(e,this.props.itemClassName,{skin:this.props.itemSkin,styleId:o.santaTypes.shortenStyleId(this.props.itemSkin)},i)}.bind(this))}};return this.props.selectedItem&&(t.tooltip={children:[this.props.selectedItem.description]}),t}}}),define("components/components/textOption/textOption",["core"],function(e){return{displayName:"TextOption",mixins:[e.compMixins.optionInput],getSkinProperties:function(){var e={size:{children:this.props.compData.text},tooltip:this.createInfoTipChildComponent()};return this.props.compData.disabled||(e[""]={onClick:this.props.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}),e}}}),define("components/components/mobileTextOption/mobileTextOption",["core"],function(e){return{displayName:"MobileTextOption",mixins:[e.compMixins.optionInput],getSkinProperties:function(){var e={size:{children:this.props.compData.text},tooltip:{children:[this.props.compData.description]}};return this.props.compData.disabled||(e[""]={onClick:this.props.onClick,style:{cursor:"pointer"}}),e}}}),define("components/bi/errors.json",[],function(){return{FORM_SUBMIT_FAILURE:{errorCode:101027,severity:"error",params:{p1:"componentId",p2:"componentType",p3:"errorDesc",p4:"response"}},FORM_SUBMIT_FINAL_FALLBACK:{errorCode:101028,severity:"fatal",params:{p1:"componentId",p2:"componentType",p3:"errorDesc",p4:"response"}},FORM_SUBMIT_INVALID_EMAIL:{errorCode:101029,severity:"error",params:{p1:"email"}},MEDIA_RICH_TEXT_WRONG_COMP_DATA:{errorCode:32e3,severity:"fatal",params:{p1:"wixCompJson",p2:"errorDesc",p3:"errorStack"}},MEDIA_RICH_TEXT_UNSUPPORTED_COMPONENT:{errorCode:32001,severity:"fatal",params:{p1:"wixCompJson"}},MEDIA_RICH_MISSING_COMPONENT_PLACEHOLDER:{errorCode:32002,severity:"fatal",params:{p1:"dataQuery"}},IMAGE_FILTER_NOT_VALID:{errorName:"image_filter_not_valid",errorCode:556,severity:"error",params:{p1:"filterName"}}}}),define("components/bi/errors",["components/bi/errors.json","lodash","utils"],function(e,t,i){return t.forEach(e,function(e,t){e.errorName=t}),i.logger.register("components","error",e),e}),define("components/components/mediaRichText/galleryHelpers/galleryHelpers",["lodash","utils"],function(e,t){function i(t){return e.includes(m,t)}function o(e){return e===l}function n(e){return e===d}function s(e,t){var i=0;if(o(t.componentType)){var s=t.cols,r=t.rows,a=2*t.margin,p=Math.round((e-(s-1)*a)/s),l=u*p;i=Math.round(l*r)+(r-1)*a+26}else n(t.componentType)&&(i=Math.round(u*e));return i}function r(e,t){var i=e.width;return{width:i,height:s(i,t),position:"relative"}}function a(e){var i={};return o(e.componentType)?i={skin:c,compProp:{type:"MatrixGalleryProperties",metaData:{schemaVersion:"1.0"},expandEnabled:!0,imageMode:e.fixedSize?"clipImage":"flexibleWidthFixed",numCols:e.cols,maxRows:e.rows,incRows:2,margin:2*e.margin,alignText:"left"}}:n(e.componentType)?i={skin:h,compProp:{autoplay:e.autoplay,autoplayInterval:e.autoplayInterval,bidirectional:!1,expandEnabled:!0,imageMode:"flexibleWidthFixed",metaData:{schemaVersion:"1.0"},reverse:!1,showAutoplay:!0,showCounter:!0,showExpand:!1,showNavigation:!0,showSocial:!1,transDuration:1,transition:"swipeHorizontal",type:"SlideShowGalleryProperties"}}:t.log.error("Unknown gallery type: "+e.componentType),i}function p(i,s,p){var l=i.componentType,d=e.assign({dataQuery:i.dataQuery,propertyQuery:i.dataQuery,componentType:i.componentType,type:"Component",style:r(p,i),compData:{type:"ImageList",items:e.map(i.imageList,function(t){var i=e.get(s,t.dataQuery);return e.assign({},t,i,{type:"Image",id:t.id+t.uri,isRef:!1,metaData:{isHidden:!1,isPreset:!0,schemaVersion:"1.0"}})}),metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1}}},a(i));return n(l)&&(d.styleId=t.santaTypes.shortenStyleId(h)),o(l)&&(d.styleId=t.santaTypes.shortenStyleId(c)),d}var l="wysiwyg.viewer.components.MatrixGallery",c="wysiwyg.viewer.skins.gallerymatrix.BlogMatrixGallery",d="wysiwyg.viewer.components.SlideShowGallery",h="skins.viewer.gallery.BlogSlideShow",m=[l,d],u=.75;return{buildGalleryJsonFromCkData:p,isGalleryComponent:i}}),define("components/components/mediaRichText/wixMusicEmbedMixin/wixMusicEmbedMixin",["lodash"],function(e){return{getInitialState:function(){return{height:this.props.height}},onPlayerMessage:function(e){"resizeOfWixMusicIframe"===e.data.event&&e.data.playerId===this.props.playerId&&this.setState({height:e.data.size.maxHeight})},componentDidMount:function(){window.addEventListener("message",this.onPlayerMessage)},componentWillUnmount:function(){window.removeEventListener("message",this.onPlayerMessage)},getIframeProps:function(){return e.assign({},this.props,{height:this.state.height})}}}),define("components/components/mediaRichText/mediaRichText",["lodash","utils","coreUtils","compUtils","react","santaProps","textCommon","components/bi/errors","components/components/mediaRichText/galleryHelpers/galleryHelpers","components/components/mediaRichText/wixMusicEmbedMixin/wixMusicEmbedMixin"],function(e,t,i,o,n,s,r,a,p,l){function c(e){return R[e]||e}function d(){var e=this.props.siteData.measureMap;return e&&(this._lastMeasuredWidth=e.width[this.props.id]),this._lastMeasuredWidth}function h(e,t){var i=JSON.parse(e.replace(/&quot;/g,'"'));return i.url=t,i}function m(e,t){try{return h(e,t)}catch(t){return void this.props.siteAPI.reportBI(a.MEDIA_RICH_TEXT_WRONG_COMP_DATA,{wixCompJson:e,errorDesc:t.message,errorStack:t.stack})}}function u(e){return"innerComp_"+e.replace("#","")}function g(e,t){var i=e.style;i.marginTop="10px",i.marginBottom="10px",i.marginLeft=t.marginLeft,i.marginRight=t.marginRight,i.position="static"}function f(e,t){var i=t.style;e.floatValue?(i.float=e.floatValue,i.display="",i.clear=""):(i.display=e.display,i.clear="both",i.float="")}function y(t,i){return e.has(t,"post-cover-photo")&&(i.addItemProp=!0),i}function v(t){var i=e.cloneDeep(t.compData);t.compData.items=e.map(t.compData.items,function(t){return e.assign({galleryData:i},t)})}function w(e){return e.childNodes&&1===e.childNodes.length&&e.childNodes[0].nodeType===D.Node.TEXT_NODE}function I(t){return e.assign(t,{wixComp:!0})}function T(t){return e.isFunction(t.type)&&t.props.wixComp}function S(e){return e.replace(/^#/,"")}function b(t,i){return t&&!e.has(R,i.tagName.toLowerCase())}function C(t,i){var o=e.get(t,"structure.layout",{});return o.width&&(o.width=Math.min(i,o.width)),e.assign({},t.structure,{dataItem:t.compData,propertiesItem:t.compProp,layout:o,id:t.structure.id,type:t.structure.componentType,structure:t.structure})}function P(e){var t=this.props.siteData,i=this.props.id,o=C(e,this._getMediaRichTextComponentWidth()),n=o.id;t.registerMediaRichTextInnerComponent(i,n,o)}function M(t){var i=t.id||u(t.dataQuery);return e.assign(t,{id:i})}var x=n.createClass({displayName:"wixMusicEmbed",mixins:[l],render:function(){return n.createElement("iframe",I(this.getIframeProps()))}}),D=i.fragment,k=r.textComponentsUtils,R={wline:"div"};return{displayName:"MediaRichText",mixins:[r.textCompMixin],allowIframes:!0,convertCompDataTextToHTML:function(i){this.componentDataQueryList=e.map(i.compData.componentDataList||[],S),this._compData=i.compData,this._componentHtml=this._componentHtml.replace(/\n|\r|\t/g,""),this._componentHtml=k.convertDataQueryLinksIntoHtmlAnchors(this._componentHtml,i.compData.linkList,e.partialRight(t.linkRenderer.renderLink,i.siteData,i.rootNavigationInfo)),this._componentHtml=k.mobileTextTransformIfNeeded(this._componentHtml,{brightness:e.get(i,"compProp.brightness"),isMobileView:i.siteData.isMobileView(),scale:e.get(i,"structure.layout.scale"),fontGetter:i.siteData.getFont.bind(i.siteData),colorGetter:i.siteData.getColor.bind(i.siteData)}),this.renderedDataQueries={},this._componentHtml=this._convertComponentsPlaceHoldersToRenderedComponents(this._componentHtml),e.size(this.renderedDataQueries)!==e.size(this.componentDataQueryList)&&e(this.componentDataQueryList).without(e.keys(this.renderedDataQueries)).forEach(function(e){this.props.siteAPI.reportBI(a.MEDIA_RICH_MISSING_COMPONENT_PLACEHOLDER,{dataQuery:"#"+e})}.bind(this)),this._registerReLayoutFunc=i.registerReLayout},_addToCompDataListIfMissing:function(t){var i=S(t);e.includes(this.componentDataQueryList,i)||this.componentDataQueryList.push(i)},_convertNodeFragmentToReactElements:function(t){if(t.nodeType===D.Node.ELEMENT_NODE){var i=e.reduce(t.attributes,function(t,i){return"style"===i.name?t.style=e.reduce(i.value.split(";"),function(t,i){var o=i.split(":");return 2===o.length&&(t[e.camelCase(o[0])]=o[1]),t},{}):"class"===i.name?t.className=i.value:"frameborder"===i.name?t.frameBorder=i.value:e.startsWith(i.name,"data-")?t[i.name]=i.value:t[e.camelCase(i.name)]=i.value,t},{});if(b(i.wixComp,t)){var o=m.call(this,i.wixComp,i.src);return o?this._handleInnerComps(o,i):""}var s=w(t)?t.textContent:e.flatMap(t.childNodes,this._convertNodeFragmentToReactElements);return e.isArray(s)&&s.length&&e.every(s,T)?s:n.createElement(c(t.tagName.toLowerCase()),e.assign(i,{children:s}))}return t.nodeType===D.Node.TEXT_NODE?t.textContent:""},_convertComponentsPlaceHoldersToRenderedComponents:function(t){var i=D.document.createElement("div");return i.innerHTML=t,e.map(i.childNodes,this._convertNodeFragmentToReactElements)},_validateAndFixGalleryCompData:function(t,i){var o=e.clone(t),n=p.buildGalleryJsonFromCkData(i,this._compData.innerCompsData,t.style);return e.assign(o,n),v(o),o},_createInnerComponentProperties:function(e){var t=this._createInnerComponentBasicProperties(e);return"wysiwyg.viewer.components.WPhoto"===e.componentType||"wysiwyg.viewer.components.Video"===e.componentType?y(e,t):p.isGalleryComponent(e.componentType)?this._validateAndFixGalleryCompData(t,e):(this.props.siteAPI.reportBI(a.MEDIA_RICH_TEXT_UNSUPPORTED_COMPONENT,{wixCompJson:e}),t)},_getMediaRichTextComponentWidth:function(){return d.call(this)||e.get(this.props,"style.width")||630},_createInnerComponentBasicProperties:function(t){var i,o=M(t),n=e.get(this._compData.innerCompsData,o.dataQuery);if("wysiwyg.viewer.components.WPhoto"===o.componentType){if(o.linkDataQuery){var r=o.linkDataQuery.slice(1);n.link=e.find(this._compData.linkList,{id:r})}i={displayMode:"fitWidthStrict"}}else"wysiwyg.viewer.components.Video"===o.componentType&&(i={showControls:"temp_show",enablejsapi:1});var a=s.componentPropsBuilder.getCompProps(o,this.props.siteAPI,this.props.rootId,null,{compData:n,compProp:i});return delete a.ref,a.registerReLayout=this._registerReLayoutFunc||this.registerReLayout,g(a,o),f(o,a),this._calcInnerCompWidthAndHeight(o,a),a},_calcInnerCompWidthAndHeight:function(t,i){var o=this._getMediaRichTextComponentWidth(),n=o,s=i.compData&&i.compData.width,r=t.width;e.isNumber(r)?n=this._getWidthMultiplier(t)*o:e.isNumber(s)&&(n=Math.min(s,o)),i.style.width=n,t.dimsRatio?i.style.height=i.style.width*t.dimsRatio:"wysiwyg.viewer.components.Video"===t.componentType&&(i.style.height=.5625*i.style.width)},_getWidthMultiplier:function(e){return this.props.siteData.isMobileView()?.99:e.width},_handleInnerComps:function(e,t){return"htmlComp"===e.componentType?this._handleHtmlComp(e,t):"music"===e.componentType?this._handleMusicComp(e,t):this._handleInnerSantaComponent(e)},_handleInnerSantaComponent:function(e){var t=this._createInnerComponentProperties(e),i=o.compFactory.getCompClass(e.componentType,!0);return this.renderedDataQueries[S(e.dataQuery)]=1,this._addToCompDataListIfMissing(e.dataQuery),P.call(this,t),i(I(t))},_handleHtmlComp:function(e,t){var i,o=this.props.siteData.serviceTopology.staticHTMLComponentUrl;if(i="website"===e.type?"//"+function(e){return e.replace(/^(https?:)?\/\//,"")}(e.websiteUrl):("temp"===e.urlStatus?"//0.htmlcomponentservice.com/":o)+e.relativeUrl,"center"===e.align?t.style={display:"block",clear:"both",margin:"0 auto"}:t.style={float:e.align},t.src=i,t.sandbox="allow-scripts allow-same-origin allow-popups",this.props.siteData.isMobileView()&&e.dimsRatio){if(t.width="99%",e.dimsRatio>1){var s=.99*(this._getMediaRichTextComponentWidth()?parseInt(this._getMediaRichTextComponentWidth(),10):1)*e.dimsRatio;t.height=s}}else t.width=e.width;return n.createElement("iframe",I(t))},_handleMusicComp:function(t,i){var o=e.get(this.props.siteData,["serviceTopology","scriptsLocationMap","wix-music-embed"]),s=/^[\w\-]+$/i,r=s.test(t.paymentId)||""===t.paymentId;if(s.test(t.albumId)&&s.test(t.presetId)&&r)return i.src=o+"/index.html?albumId="+t.albumId+"&paymentsId="+t.paymentId+"&presetId="+t.presetId+"&playerId="+t.playerId+"&hideDetailedTrackInfo=true",this.props.siteData.isMobileView()&&(i.src+="&isMobile=true"),i.sandbox="allow-scripts allow-same-origin allow-popups",i.playerId=t.playerId,delete i.wixComp,i.width="100%",n.createElement(x,i)},componentWillUnmount:function(){this.props.siteData.clearMediaRichTextInnerComponents(this.props.id)}}}),define("components/components/controller/controller",["core"],function(e){return{displayName:"Controller",mixins:[e.compMixins.skinBasedComp],statics:{useSantaTypes:!0},getSkinProperties:function(){return{}}}}),define("components/components/semiNativeComponent/semiNativeComponent",["core","santaProps","react","remoteDOM"],function(e,t,i,o){var n=e.compMixins;return{displayName:"SemiNativeComponent",propTypes:{queueIndex:t.Types.SemiNative.queueIndex,isPreviewMode:t.Types.isPreviewMode},mixins:[n.skinBasedComp],statics:{useSantaTypes:!0},getSkinProperties:function(){return{localContainer:{addChildren:[i.createElement("div")]}}},componentDidMount:function(){this.props.isPreviewMode||o.local.createContainer(this.props.queueIndex,this.refs.localContainer,this.props.id)}}}),define("components/components/bootstrap/siteButton/santaTypes/buttonSantaTypes",["lodash","react","santaProps","siteUtils"],function(e,t,i,o){return{Link:i.createSantaType(t.PropTypes.object,function(t,n){var s=i.Types.Component.compData.fetch(t,n);if(!e.get(s,"link"))return null;var r=i.Types.Link.linkRenderInfo.fetch(t,n),a=i.Types.Component.rootNavigationInfo.fetch(t,n);return o.linkRenderer.renderLink(s.link,r,a)},!0)}}),define("components/components/bootstrap/siteButton/siteButton",["lodash","react","utils","core","santaProps","buttonCommon","coreUtils","components/components/bootstrap/siteButton/santaTypes/buttonSantaTypes","experiment"],function(e,t,i,o,n,s,r,a,p){var l=r.anchorTagsGenerator,c={displayName:"SiteButton",mixins:[o.compMixins.skinBasedComp,s.buttonMixin],propTypes:{compData:n.Types.Component.compData,isMobileDevice:n.Types.Device.isMobileDevice,isMobileView:n.Types.isMobileView,link:a.Link},statics:{useSantaTypes:!0},getDefaultProps:function(){return{shouldUseFlex:!0}},getInitialState:function(){return{$mobile:this.props.isMobileDevice?"mobile":"desktop",$shouldUseFlex:this.props.shouldUseFlex?"shouldUseFlex":"",$align:this.props.compProp.align}},componentWillReceiveProps:function(e){this.setState({$align:e.compProp.align})},getImpliedLink:function(){if(!this.props.noAutoLinkGeneration){var t=l.getIncludedPatterns(p,this.props.isMobileView);return e.head(l.findDataForAnchors(this.props.compData.label,t))}},getLinkSkinPart:function(){var o=this.props.compProp,n={parentConst:t.DOM.div};if(o.isDisabled)return n;if(this.props.link){var s=this.props.link,r={role:"button",onKeyDown:i.accessibility.keyboardInteractions.activateBySpaceButton};return e.assign(s,r)}return this.getImpliedLink()||n},getSkinProperties:function(){this.lastScale=this.props.scale||1;var e=this.props.compData,t=this.props.compProp,i=!!t.isDisabled,o=this.getLinkSkinPart();o.style={},this.props.shouldUseFlex||(o.style.textAlign=t.align);var n={"":{id:this.props.id,key:"f"+this.getDesktopFontSize()*this.currentScale,ref:this.props.id,"data-align":t.align,"data-disabled":i,"data-margin":t.margin,"data-should-use-flex":this.props.shouldUseFlex},label:{children:[e.label],style:this.getLabelStyle()},link:o};return this.props.onClick&&!i&&(n[""].onClick=this.props.onClick),this.resetMinHeightIfNeeded(n),n}};return o.compRegistrar.register("wysiwyg.viewer.components.SiteButton",c,!0),c}),define("components/core/svgShapeStylesCollector",["lodash","core","utils"],function(e,t,i){function o(t,o,n,s){var r=e.get(t,"styleItem.id")||e.get(t,"structure.styleId");r&&(s[r]=i.santaTypes.shortenStyleId(t.structure.skin));var a=e.get(t.structure,["modes","overrides"]);e.forEach(a,function(e){var n=e.styleId;n&&o[n]&&(s[n]=i.santaTypes.shortenStyleId(t.structure.skin))})}t.styleCollector.registerClassBasedStyleCollector("wysiwyg.viewer.components.svgshape.SvgShape",o),t.styleCollector.registerClassBasedStyleCollector("wysiwyg.viewer.components.PopupCloseIconButton",o)}),define("components/core/mediaRichTextStylesCollector",["lodash","skins","core","utils"],function(e,t,i,o){var n=t.skinsMap;i.styleCollector.registerClassBasedStyleCollector("wysiwyg.viewer.components.MediaRichText",function(e,t,i,s){for(var r,a=/(<img[^>]*wix-comp="([^"]+)"[^>]*>)/g;r=a.exec(e.dataItem.text);){var p=JSON.parse(r[2].replace(/&quot;/g,'"')),l="";p.skin&&n.get(p.skin)&&(l=p.skin),l&&!s[l]&&(s[o.santaTypes.shortenStyleId(l)]=e.structure.skin)}})}),define("components/core/dialogsStylesCollector",["lodash","core","utils"],function(e,t,i){function o(e,t,o,n){n.b1=i.santaTypes.shortenStyleId(e.structure.skin)}t.styleCollector.registerClassBasedStyleCollector("wysiwyg.viewer.components.dialogs.EnterPasswordDialog",o),t.styleCollector.registerClassBasedStyleCollector("wysiwyg.viewer.components.dialogs.NotificationDialog",o),t.styleCollector.registerClassBasedStyleCollector("wysiwyg.viewer.components.dialogs.siteMemberDialogs.MemberLoginDialog",o),t.styleCollector.registerClassBasedStyleCollector("wysiwyg.viewer.components.dialogs.siteMemberDialogs.RequestPasswordResetDialog",o),t.styleCollector.registerClassBasedStyleCollector("wysiwyg.viewer.components.dialogs.siteMemberDialogs.ResetPasswordDialog",o),t.styleCollector.registerClassBasedStyleCollector("wysiwyg.viewer.components.dialogs.siteMemberDialogs.SignUpDialog",o)}),define("components/core/appControllerStyleCollector",["lodash","core","utils"],function(e,t,i){function o(e,t,o,s){s[i.santaTypes.shortenStyleId(n)]=n}var n="platform.components.skins.controllerIconAndNameSkin";t.styleCollector.registerClassBasedStyleCollector("platform.components.AppController",o)}),define("components/behaviors/compBehaviorHandler",["lodash","coreUtils"],function(e,t){function i(t,i,n){var s=i.getSiteAspect("behaviorsAspect");e.forEach(t,function(e){s.registerBehavior(e,n.callback)}),e.some(t,function(t){return!e.has(o,t.name)})&&i.forceUpdate()}var o=e.keyBy([t.constants.ACTION_TYPES.SYNC_VALIDATION_DATA,t.constants.ACTION_TYPES.SET_CUSTOM_VALIDITY,t.constants.ACTION_TYPES.UPDATE_VALIDITY_INDICATION]);return{handle:i}}),define("components/behaviors/compBehaviorsRegistrar",["core","components/behaviors/compBehaviorHandler"],function(e,t){e.behaviorHandlersFactory.registerHandler("comp",t)}),define("components/behaviors/animationBehaviorHandler",["lodash","core"],function(e,t){function i(e,i){t.animationsService.hideElementsByAnimationType(i,[e])}function o(e,i){t.animationsService.revertHideElementsByAnimations(i,[e])}function n(i,o,n){var s=o.getSiteData(),r=n.group||n.action,a=o.getRuntimeDal();i=e(i).filter(function(e){return!(a.getCompProps(e.targetId)||{}).isCollapsed}).map(function(t){return e.omit(e.defaultsDeep({},t,e.find(s.animations.viewerDefaults,{name:t.name})),"action")}).value(),o.getSiteData().isMobileView()?e.defer(function(){e.get(n,"callback",e.noop)()}):t.animationsService.playAnimations(o,r,i,!0,n.callback||e.noop)}function s(e,t){return!(t.getSiteData().isMobileDevice()||t.getSiteData().isMobileView())}return{handle:n,handlePreCondition:i,cancelPreCondition:o,isEnabled:s}}),define("components/behaviors/animationBehaviorsRegistrar",["core","components/behaviors/animationBehaviorHandler"],function(e,t){e.behaviorHandlersFactory.registerHandler("animation",t)}),define("components/components/bootstrap/wPhoto/santaTypes/wPhotoSantaTypes",["react","santaProps","siteUtils"],function(e,t,i){function o(e,o,n){var s=t.Types.Link.linkRenderInfo.fetch(e,o),r=t.Types.Component.rootNavigationInfo.fetch(e,o);return i.linkRenderer.renderImageZoomLink(s,r,n,null,o.structure.propertyQuery,null)}function n(e,o,n){var s=t.Types.Link.linkRenderInfo.fetch(e,o),r=t.Types.Component.rootNavigationInfo.fetch(e,o);return i.linkRenderer.renderLink(n,s,r)}return{Link:t.createSantaType(e.PropTypes.object,function(e,i){var s=t.Types.Component.compData.fetch(e,i),r=t.Types.Component.compProp.fetch(e,i).onClickBehavior;return"zoomMode"===r?o(e,i,s):!s.link||"goToLink"!==r&&r?null:n(e,i,s.link)},!0)}}),define("components/components/bootstrap/wPhoto/wPhoto",["lodash","react","core","santaProps","components/components/bootstrap/wPhoto/santaTypes/wPhotoSantaTypes","coreUtils","image","zoomedImage"],function(e,t,i,o,n,s,r,a){function p(i,o){var n={style:{}};return n.style.width=o.width,n.style.height=o.height,i?(n.style.cursor="pointer",e.assign(n,i)):n.parentConst=t.DOM.div,n}function l(e,t){return this.createChildComponent(this.props.compData,e,"img",t)}function c(e,t){return{id:e.id+"img",ref:"img",containerWidth:t.width,containerHeight:t.height,displayMode:b[e.compProp.displayMode]||e.compProp.displayMode,filterEffect:e.compProp.filterEffect,imageData:e.compData,addItemProp:e.addItemProp}}function d(t,i,o){var n;return this.state.isInZoom?(t.className=this.classSet({zoomedin:!0}),t.initialClickPosition=this.state.initialClickPosition,n=l.call(this,"core.components.ZoomedImage",t),i.onMouseLeave=g.bind(this),i.onMouseEnter=f.bind(this)):(t.className=this.classSet({zoomedout:!0}),n=l.call(this,"core.components.Image",t),i.onMouseLeave=e.noop,i.onMouseEnter=e.noop),e.assign(o,i),n}function h(e,t,i,o){var n=c(this.props,e),s={onClick:u.bind(this)};return!i||y(t,e)?l.call(this,"core.components.Image",n):d.call(this,n,s,o)}function m(t,i,o,n){var s={style:e.cloneDeep(t)};return s.style.width=i.width,s.style.height=i.height,s["data-exact-height"]=i.exactHeight,s["data-content-padding-horizontal"]=o.contentPaddingHorizontal,s["data-content-padding-vertical"]=o.contentPaddingVertical,s.title=n,s}function u(e){var t=this,i=this.state.isInZoom;this.registerReLayout(),i?this.refs.img.zoomOut(function(){t.setState({isInZoom:!i})}):this.setState({isInZoom:!i,initialClickPosition:{clientX:e.clientX,clientY:e.clientY}})}function g(e){var t=this;f.call(this),this.zoomTimer=setTimeout(function(){u.apply(t,[e])},S)}function f(){clearTimeout(this.zoomTimer)}function y(e,t){return e.width<t.width||e.height<t.height}function v(e,t){var i={},o=parseInt(e.contentPaddingLeft.value||0,10)+parseInt(t.contentPaddingLeft||0,10),n=parseInt(e.contentPaddingRight.value||0,10)+parseInt(t.contentPaddingRight||0,10),s=parseInt(e.contentPaddingTop.value||0,10)+parseInt(t.contentPaddingTop||0,10),r=parseInt(e.contentPaddingBottom.value||0,10)+parseInt(t.contentPaddingBottom||0,10);return i.contentPaddingHorizontal=o+n,i.contentPaddingVertical=s+r,i}function w(e,t){var i=e.width-t.contentPaddingHorizontal,o=e.height-t.contentPaddingVertical;return{width:i>0?i:16,height:o>0?o:16}}function I(e,t){return{width:e.width+t.contentPaddingHorizontal,height:e.height+t.contentPaddingVertical,exactHeight:(e.exactHeight||e.height)+t.contentPaddingVertical}}var T=i.compMixins,S=1200,b={fitWidthStrict:s.imageUtils.fittingTypes.LEGACY_FIT_WIDTH,fitHeightStrict:s.imageUtils.fittingTypes.LEGACY_FIT_HEIGHT},C={displayName:"WPhoto",propTypes:e.assign({id:o.Types.Component.id,compData:o.Types.Component.compData.isRequired,compProp:o.Types.Component.compProp.isRequired,structure:o.Types.Component.structure,link:n.Link},o.santaTypesUtils.getSantaTypesByDefinition(r),o.santaTypesUtils.getSantaTypesByDefinition(a)),statics:{useSantaTypes:!0},mixins:[T.skinBasedComp,T.skinInfo,T.animationsMixin],getInitialState:function(){return this.zoomTimer=null,{isInZoom:!1}},getSkinProperties:function(){var t=this.props.compProp.onClickBehavior,i=this.props.compProp.displayMode,o=e.pick(this.props.style,["width","height"]),n={width:this.props.compData.width,height:this.props.compData.height},r=v(this.getParams(["contentPaddingLeft","contentPaddingRight","contentPaddingBottom","contentPaddingTop"]),this.getSkinExports()),a=s.imageUtils.getContainerSize(w(o,r),n,b[i]||i),l=I(a,r),c=m(this.props.style,l,r,this.props.compData.title);return{"":c,img:h.call(this,a,n,"zoomAndPanMode"===t,c),link:p(this.props.link,a)}},getDefaultSkinName:function(){return"wysiwyg.viewer.skins.photo.DefaultPhoto"}},P=e.clone(C);return P.displayName="ClipArt",i.compRegistrar.register("wysiwyg.viewer.components.WPhoto",C,!0).register("wysiwyg.viewer.components.ClipArt",P,!0),C}),define("components/components/bootstrap/wRichText/santaTypes/wRichTextSantaTypes",["lodash","react","santaProps","siteUtils"],function(e,t,i,o){return{Links:i.createSantaType(t.PropTypes.object,function(t,n){var s=i.Types.Component.compData.fetch(t,n);if(0===e.get(s,["linkList"],[]).length)return null;var r=i.Types.Link.linkRenderInfo.fetch(t,n),a=i.Types.Component.rootNavigationInfo.fetch(t,n);return e.transform(s.linkList,function(e,t){e["#"+t.id]=o.linkRenderer.renderLink(t,r,a)},{})},!0)}}),define("components/components/bootstrap/wRichText/wRichText",["lodash","santaProps","textCommon","core","components/components/bootstrap/wRichText/santaTypes/wRichTextSantaTypes"],function(e,t,i,o,n){var s={displayName:"WRichText",propTypes:{compData:t.Types.Component.compData.isRequired,scale:t.Types.Component.scale,compProp:t.Types.Component.compProp,links:n.Links,colorsMap:t.Types.Theme.colorsMap.isRequired,fontsMap:t.Types.Fonts.fontsMap.isRequired,isMobileView:t.Types.isMobileView,shouldHideTextComponent:t.Types.RenderRealtimeConfig.shouldHideTextComponent,isPreviewMode:t.Types.isPreviewMode},statics:{useSantaTypes:!0},mixins:[i.textCompMixin],allowIframes:!1,fontGetter:function(e){var t=e.split("_")[1];return this.props.fontsMap[t]},colorGetter:function(e){var t=e.split("_")[1];return this.props.colorsMap[t]||e},convertCompDataTextToHTML:function(t){if(this._componentHtml){this._componentHtml=i.textComponentsUtils.convertDataQueryLinksIntoHtmlAnchors(this._componentHtml,t.links);var o=e.get(t,["compProp","overrideColor"]);o=o&&this.colorGetter(o),this._componentHtml=i.textComponentsUtils.mobileTextTransformIfNeeded(this._componentHtml,{brightness:e.get(t,"compProp.brightness"),overrideColor:o,isMobileView:t.isMobileView,scale:t.scale,fontGetter:this.fontGetter,colorGetter:this.colorGetter}),t.noAutoLinkGeneration||this.props.isPreviewMode||(this._componentHtml=i.textComponentsUtils.createImpliedLinks({htmlContent:this._componentHtml,isMobileView:this.props.isMobileView}))}}};return o.compRegistrar.register("wysiwyg.viewer.components.WRichText",s,!0),s}),define("components/components/bootstrap/screenWidthContainer/screenWidthContainer",["lodash","core","santaProps"],function(e,t,i){var o={displayName:"WixScreenWidthContainer",mixins:[t.compMixins.skinBasedComp],propTypes:{isMobileView:i.Types.isMobileView},statics:{useSantaTypes:!0},getInitialState:function(){return{$displayDevice:this.props.isMobileView?"mobileView":""}},getSkinProperties:function(){return{inlineContent:{children:this.props.children}}}};return t.compRegistrar.register("wysiwyg.viewer.components.PagesContainer",o,!0).register("wysiwyg.viewer.components.ScreenWidthContainer",o,!0),o}),define("components/components/bootstrap/infoTip/utils/infoTipUtils",["zepto"],function(e){function t(e){return e.offset()}function i(e,t){return{top:e.top-t.height,left:e.left-t.width/2,right:"auto"}}function o(t,i,o,n){var s,r=e(window.document.body).scrollTop();return t-r<0?((s=i.top+n.height)>o+r+n.height&&(s=i.top<0?i.top:r),s>0?s:0):t}function n(e,t,i,o){return t>o?"auto":e<0?i.left:e}function s(e,t,i){return e>i?t.left+t.width:e}function r(e,t,i){var r=window.innerWidth,a=window.innerHeight;return{top:o(e.top,t,a,i),left:n(e.left,e.right,t),right:s(e.right,t,r)}}function a(e,t){var i,o=0,n=0,s=t.offsetParent();return s&&(o=(i=s.offset()).top,n=i.left),{top:e.top-o,left:e.left-n,right:"auto"===e.right?e.right:e.right+n}}function p(o,n){var s,p,l;return o=e(o),n=e(n),l={width:n.width(),height:n.height()},s=t(o),p=i(s,l),p=r(p,s,l),p=a(p,n)}return{getPosition:p}}),define("components/components/bootstrap/infoTip/infoTip",["lodash","utils","core","santaProps","components/components/bootstrap/infoTip/utils/infoTipUtils","reactDOM"],function(e,t,i,o,n,s){function r(){l.call(this)}function a(){this.setTimeoutNamed("closeTipByTimeout",r.bind(this),g)}function p(e,t){c.call(this,s.findDOMNode(t.source))}function l(){this.clearTimeoutNamed("openTip"),this.setState({$hidden:"hidden",runTimer:!0})}function c(e){this.setState({$hidden:"",isShown:!0,caller:e}),a.call(this)}function d(){var t,i;this.state.isShown&&(t=s.findDOMNode(this),i=n.getPosition(this.state.caller,t),u(t,e.pick(i,["top","left","right"])))}function h(t){return t&&e.isEmpty(t.description)}var m=i.compMixins,u=t.style.assignStyle,g=3e3,f={displayName:"InfoTip",mixins:[m.skinBasedComp,m.timeoutsMixin],propTypes:{compData:o.Types.Component.compData.isRequired},statics:{useSantaTypes:!0},onMouseEnter:function(){this._isMouseInside=!0},onMouseLeave:function(){this._isMouseInside=!1,l.call(this)},showToolTip:function(e,t){h(t.source.props.compData)||(this.clearTimeoutNamed("hideTipByClose"),this.setTimeoutNamed("openTip",function(){p.call(this,e,t)}.bind(this),500))},closeToolTip:function(){this.setTimeoutNamed("hideTipByClose",function(){this._isMouseInside||l.call(this)}.bind(this),150)},getSkinProperties:function(){return{content:{children:[this.props.compData.content]}}},componentDidUpdate:function(){d.call(this)},getInitialState:function(){return{$hidden:"hidden",isMouseInside:!1}}};return i.compRegistrar.register("wysiwyg.common.components.InfoTip",f),f}),define("components/components/bootstrap/pageGroup/pageGroup",["lodash","core","reactDOM","santaProps"],function(e,t,i,o){function n(e,t,i,o){return function(){var n=t();switch(e){case"SlideHorizontal":return{siteWidth:i,width:n.width,ease:"Cubic.easeOut"};case"SlideVertical":var s=Math.max(n.height,o());return{screenHeight:n.height,height:s,reverse:!0,ease:"Cubic.easeInOut"};case"OutIn":return{sourceEase:"Strong.easeOut",destEase:"Strong.easeIn"};case"CrossFade":return{sourceEase:"Sine.easeInOut",destEase:"Quad.easeInOut"};default:return{}}}}function s(e,t,o){e.refs[t]?e.props.currentUrlPageId!==t&&e.refs[t].forceUpdate(function(){e.refs[o].updateVisibility(),i.findDOMNode(e.refs[t]).style.visibility="hidden"}):e.refs[o].updateVisibility()}var r=t.compMixins,a={outIn:"OutIn",crossfade:"CrossFade",shrinkfade:"CrossFade",swipeHorizontal:"SlideHorizontal",swipeHorizontalFullScreen:"SlideHorizontal",swipeVertical:"SlideVertical",swipeVerticalFullScreen:"SlideVertical",none:"NoTransition"},p={displayName:"PageGroup",mixins:[r.skinBasedComp,r.animationsMixin],propTypes:{getRenderedMasterPageHeight:o.Types.__DangerousSantaTypes.getRenderedMasterPageHeight.isRequired,getWindowSize:o.Types.__DangerousSantaTypes.getWindowSize.isRequired,actionsAspect:o.Types.SiteAspects.actionsAspect.isRequired,siteWidth:o.Types.siteWidth.isRequired,currentUrlPageId:o.Types.currentUrlPageId.isRequired,rootNavigationInfo:o.Types.Component.rootNavigationInfo.isRequired,compProp:o.Types.Component.compProp.isRequired,pagesToRender:o.Types.PageGroup.pagesToRender.isRequired,isExperimentOpen:o.Types.isExperimentOpen},statics:{useSantaTypes:!0},componentWillReceiveProps:function(e){var t,i,o,r=this.props.currentUrlPageId,p=e.currentUrlPageId,l=a[e.rootNavigationInfo.transition||this.props.compProp.transition]||a.none;r!==p&&(this.refs[r].clearAnimationsQueue(!0),t=this.getAnimationProperties(l).defaultDuration||0,o=n(l,this.props.getWindowSize,this.props.siteWidth,this.props.getRenderedMasterPageHeight),i={onComplete:function(){s(this,r,p),this.props.actionsAspect.handlePageTransitionComplete(r,p)}.bind(this)},this.props.actionsAspect.registerNextPageTransition(this,r,p,l,t,0,o,i))},createPage:function(e){var t=1===this.props.pagesToRender.length;return this.props.createPage(e,t)},getSkinProperties:function(){return{"":{children:e.map(this.props.pagesToRender,this.createPage)}}}};return t.compRegistrar.register("wysiwyg.viewer.components.PageGroup",p,!0),p}),define("components/components/bootstrap/dropDownMenu/dropDownMenu",["lodash","utils","core","santaProps","menuButton","reactDOM","zepto"],function(e,t,i,o,n,s,r){function a(e,i,o){return"userLang"===e?t.wixUserApi.getLanguage(i,o):e}function p(e){return!isNaN(parseFloat(e))&&isFinite(e)}function l(t){return e.filter(t,"isVisible")}function c(e,t,i,o,n,s){return s===e.length-1?1===e.length?"dropLonely":t?"bottom":i||"right"===o?n?"left":"right":"center":0===s?t?"top":i||"left"===o?n?"right":"left":"center":t?"dropCenter":"center"}function d(i,o,n,s,r){var a,p=e.some(n,["link.pageId.id",o]),l={AnchorLink:function(t){return(e.has(t.anchorDataId,"id")?t.anchorDataId.id:t.anchorDataId)===a},PageLink:function(e){if(!a){if(e.pageId.isPopup)return e.pageId.id===o;if(!p)return e.pageId.id===i}return!1}};return s&&(a=t.menuUtils.getActiveAnchorInPage(r,n,i)),function(e){var t=e&&l[e.type];return!!t&&t(e)}}function h(t,i,o,n,s,r,a,p,l){return e.map(i,function(e,h){var m=e.link,u=d(r,a,i,l,t);return{isContainer:Boolean(o),isSelected:u(m),positionInList:c(i,o,n,s,p,h)}})}var m=i.compMixins,u=["da","de","en","es","fr","hi","it","ja","ko","nl","no","pl","pt","ru","sv","tr"],g={displayName:"DropDownMenu",propTypes:e.assign({isMobileView:o.Types.isMobileView,isMobileDevice:o.Types.Device.isMobileDevice,isTabletDevice:o.Types.Device.isTabletDevice,anchorChangeEvent:o.Types.SiteAspects.anchorChangeEvent,currentUrlPageId:o.Types.Component.currentUrlPageId,currentPopupId:o.Types.currentPopupId,highlightAnchorsInMenu:o.Types.BrowserFlags.highlightAnchorsInMenu.isRequired,siteMenuWithRender:o.Types.Menu.siteMenuWithRender,nonHiddenPageIdsFromMainMenu:o.Types.Menu.nonHiddenPageIdsFromMainMenu,id:o.Types.Component.id,refInParent:o.Types.Component.refInParent,skin:o.Types.Component.skin,compProp:o.Types.Component.compProp,compData:o.Types.Component.compData},o.santaTypesUtils.getSantaTypesByDefinition(n)),statics:{useSantaTypes:!0},mixins:[m.skinBasedComp,m.timeoutsMixin,m.skinInfo],getInitialState:function(){return this.shouldChildrenUpdate=!1,{hover:null,hoverListPosition:null,activeAnchor:null,$dropAlign:this.props.compProp.alignButtons,$mobile:this.props.isMobileDevice||this.props.isMobileView||this.props.isTabletDevice?"mobile":"notMobile"}},componentDidMount:function(){this.props.highlightAnchorsInMenu&&this.props.anchorChangeEvent.registerToAnchorChange(this)},componentWillUnmount:function(){this.props.highlightAnchorsInMenu&&this.props.anchorChangeEvent.unregisterToAnchorChange(this)},convertItemsToChildren:function(t,i,o,n){var s=l(t);(i=i||{}).style=i.style||{};var r=h(this.state.activeAnchor,s,n,this.props.compProp.stretchButtonsToMenuWidth,this.props.compProp.alignButtons,this.props.currentUrlPageId,this.props.currentPopupId,this.props.compProp.rtl,this.props.highlightAnchorsInMenu);return e.map(s,function(t,o){var s=(n?"moreContainer":"")+o;return this.createChildComponent(t,"core.components.MenuButton","repeaterButton",e.merge({isContainer:r[o].isContainer,isSelected:r[o].isSelected,positionInList:r[o].positionInList,id:this.props.id+s,ref:s,key:t.id,refInParent:s,mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,isDropDownButton:n,onMouseClick:this.onMouseClick,"aria-haspopup":t.items.length>0,tagName:"li",direction:this.props.compProp.rtl?"rtl":"ltr"},i))}.bind(this))},onMouseClick:function(e,t,i){var o=l(this.props.siteMenuWithRender);if(i)this.mouseLeaveHandler();else{var n=[];"__more__"!==t&&(n=l(o[t].items));var s=n.length>0||"__more__"===t,r=this.state.hover;!this.dropDownOpen&&s?(this.mouseEnterHandler(t),e.preventDefault(),e.stopPropagation()):this.dropDownOpen&&!this.isDropdownOwner(t,r)&&s?(this.mouseLeaveHandler(),e.preventDefault(),e.stopPropagation(),this.mouseEnterHandler(t)):this.dropDownOpen&&this.mouseLeaveHandler()}},onAnchorChange:function(e){e!==this.state.activeAnchor&&this.setState({activeAnchor:e})},isDropdownOwner:function(e,t){return e===t},createMoreButton:function(e){var t=e?"left":"right",i=this.props.compProp.alignButtons;return this.props.compProp.stretchButtonsToMenuWidth||"right"===i||(t="center"),this.createChildComponent({id:"__more__",label:this.props.compProp.moreButtonLabel},"core.components.MenuButton","repeaterButton",{isSelected:!1,positionInList:t,id:this.props.id+"__more__",ref:"__more__",key:"__more__",mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,onFocus:this.mouseEnterHandler,onBlur:this.mouseLeaveHandler,"aria-haspopup":!0,tagName:"li",onKeyDown:this.subMenuKeyDownHandler,onMouseClick:this.onMouseClick,isDropDownButton:!1,display:"inline-block"})},mouseEnterHandler:function(e,i){this.hovering=!0,this.lastHovered=this.getCurrentTime();var o=e.replace(this.props.id,"");-1!==this.props.nonHiddenPageIdsFromMainMenu.concat("__more__").indexOf(o)&&(p(o)||t.stringUtils.startsWith(e,"__"))&&e!==this.state.hover&&(this.state.hover&&this.refs[this.state.hover].setIdleState(),this.registerReLayout(),this.setState({hover:e,hoverListPosition:i}))},getCurrentTime:function(){return Date.now()},mouseLeaveHandler:function(){this.hovering=!1,this.lastHovered=this.getCurrentTime(),!this.dropDownOpen&&this.state.hover&&this.refs[this.state.hover].setIdleState(),this.setTimeout(function(){var e=this.getCurrentTime()-this.lastHovered;!this.hovering&&this.state.hover&&e>=1e3&&(this.refs[this.state.hover].setIdleState(),this.dropDownOpen=!1,this.setState({hover:null,hoverListPosition:null}))}.bind(this),1e3)},getParamsFromSkins:function(){return{menuBorderY:this.getSumParamValue("menuTotalBordersY",this.props.skin),menuBtnBorder:this.getSumParamValue("menuButtonBorders",this.getSkinExports().repeaterButton.skin),ribbonEls:this.getParamFromDefaultSkin("ribbonEls").value?parseInt(this.getParamFromDefaultSkin("ribbonEls").value,10):0,labelPad:this.getFromExports("labelPad"),ribbonExtra:this.getFromExports("ribbonExtra")?Math.abs(parseInt(this.getFromExports("ribbonExtra"),10)):0}},shiftFocusToSubMenu:function(i){var o=this.refs["moreContainer"+i],n=s.findDOMNode(o),a=t.accessibility.getTabbaleElements(n);r(e.head(a)).focus(),this.currentFocusedSubMenuIndex=i},getFirstIndexOfSubMenu:function(){for(var e,t=0;t<this.subMenuItems.length;t++)if(e=s.findDOMNode(this.refs["moreContainer"+t]),"none"!==window.getComputedStyle(e).display)return t;return 0},mainMenuKeyDownHandler:function(e){if(this.dropDownOpen){var t;"ArrowDown"===e.key&&(e.stopPropagation(),e.preventDefault(),t=this.getFirstIndexOfSubMenu(),this.shiftFocusToSubMenu(t)),"ArrowUp"===e.key&&(e.stopPropagation(),e.preventDefault(),t=this.subMenuItems.length,this.shiftFocusToSubMenu(t))}},subMenuKeyDownHandler:function(i){var o,n;("ArrowDown"===i.key||!i.shiftKey&&"Tab"===i.key)&&(i.stopPropagation(),i.preventDefault(),(o=this.currentFocusedSubMenuIndex+1)===this.subMenuItems.length&&(o=this.getFirstIndexOfSubMenu()),this.shiftFocusToSubMenu(o)),("ArrowUp"===i.key||i.shiftKey&&"Tab"===i.key)&&(i.stopPropagation(),i.preventDefault(),((o=this.currentFocusedSubMenuIndex-1)<0||o<this.getFirstIndexOfSubMenu())&&(o=this.subMenuItems.length-1),this.shiftFocusToSubMenu(o)),"Escape"===i.key&&(i.stopPropagation(),i.preventDefault(),n="__more__"===this.state.hover?t.accessibility.getTabbaleElements(s.findDOMNode(this.refs[this.state.hover])):t.accessibility.getTabbaleElements(this.refs.itemsContainer.children[this.state.hover]),e.head(n).focus(),this.setState({hover:null}))},getLanguage:function(){var t=a(this.props.compProp.dataLang,this.props.cookie,this.props.currentUrl);return e.includes(u,t)?t:"en"},getAriaLabel:function(){var i=this.getLanguage();return e.get(t.translations.blogTranslations,[i,"mainMenuAriaLabel"],"Site navigation")},getSkinProperties:function(){var e=l(this.props.siteMenuWithRender),t=this.getParamsFromSkins(),i=this.convertItemsToChildren(e,{display:"inherit"},null,null),o=[],n="hidden";return i.push(this.createMoreButton(this.props.compProp.rtl)),(p(this.state.hover)||"__more__"===this.state.hover)&&(o=this.convertItemsToChildren(p(this.state.hover)?e[this.state.hover].items:e,{style:{width:"100%"},display:"block",prefix:"_",subMenu:!0},!0,!0)).length>0&&(n="inherit",this.dropDownOpen=!0,this.subMenuItems=o),{"":{id:this.props.id,key:this.props.refInParent,ref:this.props.refInParent,"data-menuborder-y":t.menuBorderY,"data-menubtn-border":t.menuBtnBorder,"data-ribbon-els":t.ribbonEls,"data-label-pad":t.labelPad,"data-ribbon-extra":t.ribbonExtra,"data-drophposition":this.state.hover?this.state.hoverListPosition:"","data-dropalign":this.props.compProp.alignButtons,dir:this.props.compProp.rtl?"rtl":"ltr",tagName:"nav"},itemsContainer:{children:i,style:{textAlign:this.props.compProp.alignButtons},onKeyDown:this.mainMenuKeyDownHandler,"aria-label":this.getAriaLabel(),role:"navigation"},moreContainer:{onKeyDown:this.subMenuKeyDownHandler,children:o,"data-hover":this.state.hover,style:{visibility:n},id:this.props.id+"moreContainer"},dropWrapper:{style:{visibility:n},"data-drophposition":this.state.hover?this.state.hoverListPosition:"","data-dropalign":this.props.compProp.alignButtons}}}};return i.compRegistrar.register("wysiwyg.viewer.components.menus.DropDownMenu",g,!0),g}),define("components/components/bootstrap/headerContainer/headerContainer",["lodash","core","containerCommon"],function(e,t,i){var o=t.compMixins,n=i.mixins.fixedPositionContainerMixin,s={displayName:"HeaderContainer",mixins:[o.skinBasedComp,n],statics:{useSantaTypes:!0},getSkinProperties:function(){return{"":{tagName:"header",style:this.getRootStyle(this.props.style)},inlineContent:{children:this.props.children}}}};return t.compRegistrar.register("wysiwyg.viewer.components.HeaderContainer",s,!0),s}),define("components/components/bootstrap/footerContainer/footerContainer",["lodash","core","containerCommon"],function(e,t,i){var o=t.compMixins,n=i.mixins.fixedPositionContainerMixin,s={displayName:"FooterContainer",mixins:[o.skinBasedComp,n],statics:{useSantaTypes:!0},getSkinProperties:function(){return{"":{tagName:"footer",style:this.getRootStyle(this.props.style),className:this.classSet({footer:!0})},inlineContent:{children:this.props.children}}}};return t.compRegistrar.register("wysiwyg.viewer.components.FooterContainer",s,!0),s}),define("components/components/bootstrap/video/video",["zepto","lodash","core","react","utils","reactDOM","santaProps"],function(e,t,i,o,n,s,r){function a(e,t,i){if("100%"===i)return"100%";var o=l(),n=e?o[e].hMinSize:0;return"YOUTUBE"===e&&"always_show"===t&&(n+=20),Math.max(i,n)}function p(e,t){if("100%"===t)return"100%";var i=l(),o=e?i[e].wMinSize:0;return Math.max(t,o)}function l(){return{YOUTUBE:{url:t.template("//www.youtube.com/embed/${videoId}?"),getParams:c,hMinSize:200,wMinSize:200,title:"External YouTube"},VIMEO:{url:t.template("//player.vimeo.com/video/${videoId}?"),getParams:h,hMinSize:100,wMinSize:100,title:"External Vimeo"},DAILYMOTION:{url:t.template("//www.dailymotion.com/embed/video/${videoId}?"),getParams:m,hMinSize:100,wMinSize:100,title:"External Daily Motion"},FACEBOOK:{url:t.template("//www.facebook.com/plugins/video.php?href=https://www.facebook.com/${videoId}&"),getParams:d,hMinSize:100,wMinSize:100,title:"External Facebook"}}}function c(e,t,i){var o=e.showControls,n=e.autoplay&&!0,s=e.enablejsapi||0,r=e.lightTheme,a=e.loop,p=e.showinfo,l=t.videoId||"";return{wmode:"transparent",autoplay:n&&i?"1":"0",theme:r?"light":"dark",controls:"always_hide"!==o?"1":"0",autohide:"temp_show"===o?"1":"0",loop:a?"1":"0",showinfo:p?"1":"0",rel:"0",playlist:!!a&&l,enablejsapi:s}}function d(e,t,i,o){return{autoplay:e.autoplay&&i,width:o.width,height:o.height}}function h(e,t,i){return{autoplay:e.autoplay&&i,loop:e.loop,byline:e.showinfo,portrait:e.showinfo,title:e.showinfo}}function m(e,t,i){return{autoplay:e.autoplay&&i,"ui-start-screen-info":e.showinfo?"1":"0",controls:"temp_show"===e.showControls?"1":"0","sharing-enable":"0","ui-logo":"0"}}function u(e,i,o,n){var s=e.videoId,r=e.videoType;if(!r||!s)return"";var a=l()[r],p=a.getParams(i,e,o,n);return a.url({videoId:s})+t.map(p,function(e,t){return t+"="+e}).join("&")}function g(e,t,i){return{width:p(e,i.width),height:a(e,t,i.height)}}function f(e){return e?l()[e].title:""}var y={displayName:"Video",mixins:[i.compMixins.skinBasedComp],statics:{useSantaTypes:!0},propTypes:{isPlayingAllowed:r.Types.RenderFlags.isPlayingAllowed.isRequired,compData:r.Types.Component.compData.isRequired,compProp:r.Types.Component.compProp.isRequired,style:r.Types.Component.style.isRequired},componentWillMount:function(){this.canPlayVideo=this.props.isPlayingAllowed},componentDidUpdate:function(){if(this.canPlayVideo!==this.props.isPlayingAllowed){this.canPlayVideo=this.props.isPlayingAllowed;var t=e(s.findDOMNode(this.refs.videoFrame)).find("iframe")[0],i=g(this.props.compData.videoType,this.props.compProp.showControls,this.props.style);t.src="",t.src=u(this.props.compData,this.props.compProp,this.props.isPlayingAllowed,i)}},getSkinProperties:function(){var e=g(this.props.compData.videoType,this.props.compProp.showControls,this.props.style),t=u(this.props.compData,this.props.compProp,this.props.isPlayingAllowed,e),i=f(this.props.compData.videoType),s={height:"100%",width:"100%",allowFullScreen:!0,frameBorder:"0",title:i,"aria-label":i};return n.validationUtils.isValidUrl(t)&&(s["data-src"]=t),this.props.addItemProp&&(s.itemProp="image"),{"":{style:{height:e.height,width:e.width}},videoFrame:{children:o.DOM.iframe(s)},preview:{style:{display:"none"}}}}};return i.compRegistrar.register("wysiwyg.viewer.components.Video",y,!0),y}),define("components/components/bootstrap/wixSkinOnly/wixSkinOnly",["core"],function(e){var t={displayName:"WixSkinOnly",mixins:[e.compMixins.skinBasedComp],statics:{useSantaTypes:!0},getSkinProperties:function(){return{}}};return e.compRegistrar.register("wysiwyg.viewer.components.FiveGridLine",t,!0).register("wysiwyg.viewer.components.VerticalLine",t,!0).register("wysiwyg.common.components.anchor.viewer.Anchor",t,!0),t}),define("components/components/bootstrap/textInput/textInput",["lodash","core","santaProps","textCommon"],function(e,t,i,o){function n(){var t=this.getFontSize();if(this.props.isMobileView){var i=e.max([13,Number(t.fontSize.replace("px",""))]);t.fontSize=i+"px"}return t}var s={displayName:"TextInput",mixins:[o.baseTextInput,o.textScaleMixin,t.compMixins.inputFocusMixin],propTypes:{compProp:i.Types.Component.compProp.isRequired,isMobileView:i.Types.isMobileView},statics:{useSantaTypes:!0,behaviors:e.assign({},o.baseTextInput.BASE_TEXT_BEHAVIORS,t.compMixins.inputFocusMixin.INPUT_FOCUS_BEHAVIORS)},focus:function(){this.refs.input.focus()},blur:function(){this.refs.input.blur()},getSkinProperties:function(){var t={"with-validation-indication":this.shouldShowValidityIndication()};t[this.props.compProp.textAlignment+"-direction"]=!0;var i=this.getBaseTextInputSkinProperties();i[""]={className:this.classSet(t),"data-disabled":!!this.props.compProp.isDisabled,"data-preview":e.isFunction(this.getComponentPreviewState)&&this.getComponentPreviewState()};var o="padding"+e.capitalize(this.props.compProp.textAlignment);return i.input=e.merge({style:n.call(this)},i.input,{"data-preview":e.isFunction(this.getComponentPreviewState)&&this.getComponentPreviewState(),className:"has-custom-focus"}),i.input.style[o]=this.props.compProp.textPadding,i}};return t.compRegistrar.register("wysiwyg.viewer.components.inputs.TextInput",s,!0),s}),define("components/components/bootstrap/sliderGallery/sliderGallery",["lodash","react","reactDOM","coreUtils","siteUtils","core","skins","santaProps","galleriesCommon","displayer"],function(e,t,i,o,n,s,r,a,p,l){function c(e,t,i){this.state.currentIndex!==e&&(this.props.onImageSelected&&(t.type="imageSelected",t.payload={itemIndex:e,imageData:this.props.compData.items[e]},this.props.onImageSelected(t,i)),this.setState({currentIndex:e}))}function d(e,t){return e.dimensions?e.dimensions[t]:parseFloat(e.style[t])}function h(t,i){var o=i.props.selectedItemIndex||0;return{currentIndex:e.get(t,["currentIndex"],o)}}var m=s.compMixins,u=p.utils.galleriesHelperFunctions,g=o.matrix.scalingCalculations,f={displayName:"SliderGallery",statics:{useSantaTypes:!0,behaviors:{nextSlide:{methodName:"next"},prevSlide:{methodName:"prev"}}},mixins:[m.skinBasedComp,m.skinInfo,m.animationsMixin,m.timeoutsMixin,m.compStateMixin(h)],propTypes:e.assign({id:a.Types.Component.id.isRequired,rootId:a.Types.Component.rootId.isRequired,compData:a.Types.Component.compData.isRequired,compProp:a.Types.Component.compData.isRequired,skin:a.Types.Component.skin.isRequired,style:a.Types.Component.style.isRequired,dimensions:a.Types.Component.dimensions,isMobileView:a.Types.isMobileView,isMobileDevice:a.Types.Device.isMobileDevice,isTabletDevice:a.Types.Device.isTabletDevice,windowTouchEventsAspect:a.Types.SiteAspects.windowTouchEvents.isRequired,getSliderGalleryMeasures:a.Types.__DangerousSantaTypes.getSliderGalleryMeasures,onImageSelected:t.PropTypes.func},a.santaTypesUtils.getSantaTypesByDefinition(l)),_currentOffset:null,_motion:!1,_firstChild:null,getInitialState:function(){return this.props.windowTouchEventsAspect.registerToWindowTouchEvent("touchStart",this),e.assign(h(null,{props:this.props.compProp}),{$mobile:this.props.isMobileDevice||this.props.isTabletDevice?"mobile":"notMobile",$displayDevice:this.props.isMobileView?"mobileView":"desktopView"})},componentWillUnmount:function(){this.props.windowTouchEventsAspect.unregisterFromWindowTouchEvent("touchStart",this)},getSkinProperties:function(){this.gap=e.isNumber(this.props.compProp.margin)?this.props.compProp.margin:20,this.contentOverflow=!1;var t=r.skinsMap.get(this.props.skin),i=t.exports&&t.exports.bottomGap||0,o=Math.abs(this.getFromExports("itemContainerAdditionalHeight")),n=this.populate(i,o),s=Math.abs(this.getFromExports("itemContainerTotalOffset")),a=d(this.props,"width")-s;return this.itemsHolderWidth>a&&(this.contentOverflow=!0,n=this.populate(i,o)),{imageItem:{},images:{children:n,"data-gallery-id":this.props.id},swipeLeftHitArea:{onMouseEnter:this.prev,onMouseLeave:this._stopMovement,onTouchStart:this.prev,"data-gallery-id":this.props.id},swipeRightHitArea:{onMouseEnter:this.next,onMouseLeave:this._stopMovement,onTouchStart:this.next,"data-gallery-id":this.props.id},"":{onSwipeLeft:this.next,onSwipeRight:this.prev,"data-height-diff":u.getSkinHeightDiff(this.props.skin),"data-width-diff":u.getSkinWidthDiff(this.props.skin),"data-bottom-gap":i,"data-additional-height":o}}},getChildrenData:function(){var e=this.props.compData.items;return this.props.compProp.loop&&this.contentOverflow?e.concat(e):e},populate:function(t,i){var o=this.props.compProp,n=this.props.compData;return this.itemsHolderWidth=0,this.getChildrenData().map(function(s,a){var p=s,l=this.getSkinExports().imageItem.skin,h=this.getParams(["topPadding","imgHeightDiff"],l),m=u.getDisplayerHeightDiff(r.skinsMap.get(l),h,this.state.$displayDevice),f=u.getDisplayerWidthDiff(r.skinsMap.get(l),this.state.$displayDevice),y=Math.floor(d(this.props,"height")+i),v=this.props.compData.items.length,w=g.getSizeAfterScaling({itemHeight:y,itemWidth:Math.floor(y*(this.props.compProp.aspectRatio||1)),displayerData:p,imageMode:this.props.compProp.imageMode,heightDiff:m,widthDiff:f,bottomGap:t});return this.itemsHolderWidth=this.itemsHolderWidth+w.imageWrapperSize.imageWrapperWidth+this.gap,this.createChildComponent(p,"wysiwyg.viewer.components.Displayer","imageItem",{rootId:this.props.rootId,currentUrlPageId:this.props.currentUrlPageId,rootNavigationInfo:this.props.rootNavigationInfo,galleryDataId:n.id,imageWrapperSize:w.imageWrapperSize,style:{display:"inline-block",margin:"0 "+(e.isNumber(o.margin)?o.margin:20)+"px 0 0",height:w.displayerSize.height,width:w.displayerSize.width},isSelected:this.state.currentIndex===a,onClick:c.bind(this,a),displayerDataQuery:s,galleryId:this.props.id,heightDiff:m,widthDiff:f,bottomGap:t,imageIndex:a%v,key:this.props.id+p.id+"_"+a,ref:"displayer"+a,id:this.props.id+"displayer"+a})},this)},prev:function(){this._move(!0)},next:function(){this._move(!1)},_move:function(e){var t=this.props.compProp.maxSpeed||.05;this.slide(e,t,this.props.compProp.loop)},_stopMovement:function(){this._sequenceId&&(this.easeStopSequence(this._sequenceId,1),this._sequenceId=null)},slide:function(e,t,o){if(this.contentOverflow){var s=this.props.getSliderGalleryMeasures(this.props.id),r=s.imagesWidth-(this.props.compProp.margin||0),a=s.itemsContainerWidth,p=i.findDOMNode(this.refs.images).offsetLeft,l=o?-r/2:a-r;this._stopMovement();var c=this.sequence(),d=Math.abs(l)/(60*t),h=d*(e?Math.abs(p/l):1-Math.abs(p/l));c.add("images","BasePosition",h,0,{from:{left:p},to:{left:e?0:l},ease:"Linear.easeNone"}),o&&c.add("images","BasePosition",d,0,{from:{left:e?l:0},to:{left:e?0:l},repeat:o?-1:0,immediateRender:!1,ease:"Linear.easeNone"}),c.onCompleteAll(function(){var e=this.props.compData.items[this.state.currentIndex];this.handleAction(n.constants.ACTION_TYPES.IMAGE_CHANGED,{item:e,imageIndex:this.state.currentIndex})}.bind(this)),this._sequenceId=c.execute({paused:!0}),this.easeStartSequence(this._sequenceId,1),"mobile"===this.state.$mobile&&(this.clearTimeoutNamed(this.props.id),this._nextStopTimeout=this.setTimeoutNamed(this.props.id,function(){this._stopMovement()}.bind(this),2e3))}},onWindowTouchStart:function(e){(e.target.getAttribute("data-gallery-id")||e.target.parentNode.getAttribute("data-gallery-id"))!==this.props.id&&this._stopMovement()}};return s.compRegistrar.register("wysiwyg.viewer.components.SliderGallery",f,!0),f}),define("components/components/bootstrap/paginatedGridGallery/paginatedGridGallery",["lodash","react","santaProps","core","utils","siteUtils","coreUtils","galleriesCommon","image"],function(e,t,i,o,n,s,r,a,p){function l(e,t,i,o,n,s){var r=S.getItemWidth(e.margin,e.numCols,t,b.getSkinWidthDiff(n)),a=S.getItemHeight(e.margin,i,o,b.getSkinHeightDiff(n)),p=t-b.getSkinWidthDiff(n)+e.margin,l=i-b.getSkinHeightDiff(n)+e.margin;return{width:"Shrink"===s?r:p,height:"Shrink"===s?a:l}}function c(e,t){return{visibility:"visible",position:"absolute",cursor:"pointer",padding:0,left:parseInt(e.props.style.left,10)+b.getSkinWidthDiff(t)/2,top:parseInt(e.props.style.top,10),width:parseInt(e.props.containerWidth,10),height:parseInt(e.props.containerHeight,10)}}function d(t,i){var o=Math.max(t.length,i.length);e.times(o,function(e){t[e]||(t[e]="emptyDivToFillMatrix"),i[e]||(i[e]="emptyDivToFillMatrix")})}function h(e,t){var i=t;return i||(i=!0===e?"zoomMode":"disabled"),i}function m(i,o){var r=e.defaults({href:o.href||"#",style:e.assign({height:"100%",display:"block",width:"100%",position:"absolute",top:"0px",left:"0px",backgroundColor:"#ffffff",filter:"alpha(opacity=0)",opacity:"0",cursor:o.cursor},n.style.prefix({userSelect:"none",userDrag:"none",userModify:"read-only"}))},o);return o.href||(r.onClick=function(t){this.props.handleAction({type:"comp",name:s.constants.ACTION_TYPES.ITEM_CLICKED,sourceId:this.props.id,pageId:this.props.rootId},function(e,t){return{item:e,timeStamp:n.performance.now(),imageIndex:t,name:s.constants.ACTION_TYPES.ITEM_CLICKED}}(i,e.get(this.state,"currentIndex"))),t.preventDefault(),t.stopPropagation()}.bind(this)),t.DOM.a(r)}function u(t,i,o,n,s,r,a,p,l){var c,d={},m="Go to link",u="pointer",g=h(i.expandEnabled,i.galleryImageOnClickAction);return t.link&&(c=n(r,p,o)),i.goToLinkText&&(m=i.goToLinkText),"zoomMode"===g?d=s(p,o,t,a,void 0,l):c&&"goToLink"===g?d=c:u="default",e.assign(d,{linkData:c,goToLinkText:m,cursor:u,clickAction:g}),d}function g(e){return e?e.title:""}function f(e){return e?e.description:""}function y(t){return{currentIndex:e.get(t,"currentIndex",0),isPlaying:"autoplayOn"===e.get(t,"$slideshow","autoplayOff")}}var v={numCols:3,maxRows:3,margin:0,transition:"seq_crossFade_All",transDuration:1,autoplayInterval:3,autoplay:!1,showAutoplay:!0,showNavigation:!0,showCounter:!0},w=o.compMixins,I=o.componentUtils,T=n.linkRenderer,S=r.matrix.calculations,b=a.utils.galleriesHelperFunctions,C=I.galleryPagingCalculations,P=I.matrixAnimationManipulation,M={displayName:"PaginatedGridGallery",mixins:[w.skinBasedComp,a.mixins.galleryAutoPlayMixin,w.animationsMixin,w.timeoutsMixin,w.compStateMixin(y)],propTypes:e.assign({compProp:i.Types.Component.compProp.isRequired,compData:i.Types.Component.compData.isRequired,id:i.Types.Component.id.isRequired,skin:i.Types.Component.skin.isRequired,style:i.Types.Component.style.isRequired,linkRenderInfo:i.Types.Link.linkRenderInfo.isRequired,rootNavigationInfo:i.Types.Component.rootNavigationInfo.isRequired,dimensions:i.Types.Component.dimensions.isRequired,isZoomOpened:i.Types.isZoomOpened.isRequired,windowTouchEventsAspect:i.Types.SiteAspects.windowTouchEvents.isRequired,isMobileView:i.Types.isMobileView,isMobileDevice:i.Types.Device.isMobileDevice,isTabletDevice:i.Types.Device.isTabletDevice,isPlayingAllowed:i.Types.RenderFlags.isPlayingAllowed,getPaginatedGridGalleryMeasures:i.Types.__DangerousSantaTypes.getPaginatedGridGalleryMeasures,onAnimationCompleteCallback:t.PropTypes.func,createGalleryItem:t.PropTypes.func,getItemRef:t.PropTypes.func,registerReLayout:t.PropTypes.func,compActions:i.Types.Component.compActions.isRequired},i.santaTypesUtils.getSantaTypesByDefinition(p)),statics:{useSantaTypes:!0,behaviors:{nextSlide:{methodName:"next"},prevSlide:{methodName:"prev"}}},getInitialState:function(){return this.props.windowTouchEventsAspect.registerToWindowTouchEvent("touchStart",this),this.isAnimating=!1,e.assign(y(),{hoveredImage:null,$itemSelection:"idle",$mobile:this.props.isMobileDevice||this.props.isTabletDevice?"mobile":"notMobile",$displayDevice:this.props.isMobileView?"mobileView":"desktopView",$animationInProcess:null,$touchRollOverSupport:"touchRollOut"})},componentWillReceiveProps:function(e){var t=!1,i={$mobile:e.isMobileDevice||e.isTabletDevice?"mobile":"notMobile",$displayDevice:e.isMobileView?"mobileView":"desktopView"};if(this.props.compProp.autoplay!==e.compProp.autoplay){var o=e.compProp.autoplay&&!this.props.isZoomOpened&&this.props.isPlayingAllowed?"autoplayOn":"autoplayOff";t=!0,i.shouldAutoPlay=e.compProp.autoplay,i.$slideshow=o}this.setState(i,function(){t&&(this.updateAutoplayState(),this.handleAction(i.$slideshow))}.bind(this))},componentDidMount:function(){this.updateAutoplayState()},componentWillUnmount:function(){this.props.windowTouchEventsAspect.unregisterFromWindowTouchEvent("touchStart",this)},getButtonVisibility:function(e,t){return!1===this.props.compProp.showNavigation||this.state.currentIndex===e&&this.state.currentIndex===t||this.props.compProp.isHidden?"hidden":"visible"},getSkinProperties:function(){var t=e.defaults(this.props.compProp,v),i=this.props.compData,o=C.getPageItems(i.items,this.state.currentIndex,t.numCols,t.maxRows),n=this.state.hoveredImage?this.state.hoveredImage.props.compData:null,s=this.state.hoveredImage?u(n,t,this.props.rootNavigationInfo,T.renderLink,T.renderImageZoomLink,n.link,i.id,this.props.linkRenderInfo,this.props.id):{},r=C.getNextPageItemIndex(this.state.currentIndex,t.numCols,t.maxRows,i.items.length),a=C.getPrevPageItemIndex(this.state.currentIndex,t.numCols,t.maxRows,i.items.length),p=C.getPageItems(i.items,r,t.numCols,t.maxRows),l=C.getPageItems(i.items,a,t.numCols,t.maxRows),d=this.getButtonVisibility(r,a),h=!this.props.compProp.isHidden&&this.props.compProp.showCounter&&o.length>0?"visible":"hidden",y=this.classSet({"show-counter":"hidden"!==d||"hidden"!==h});return{"":{"data-height-diff":b.getSkinHeightDiff(this.props.skin),"data-width-diff":b.getSkinWidthDiff(this.props.skin),onMouseLeave:function(e,t){this.onRollOut(e,t,!0)}.bind(this),style:{overflow:"hidden"}},itemsContainer:{children:this.createDisplayedItems(o,p,l,r,a),"data-gallery-id":this.props.id,className:y,style:{position:"relative",overflow:"hidden",width:this.props.style.width-b.getSkinWidthDiff(this.props.skin),height:this.props.style.height-b.getSkinHeightDiff(this.props.skin)}},buttonPrev:{onClick:function(e){e&&e.stopPropagation(),this.prev()}.bind(this),"data-gallery-id":this.props.id,style:{visibility:d}},buttonNext:{onClick:function(e){e&&e.stopPropagation(),this.next()}.bind(this),"data-gallery-id":this.props.id,style:{visibility:d}},counter:{children:C.getCounterText(this.state.currentIndex,t.numCols,t.maxRows,i.items.length),style:{visibility:h},"data-gallery-id":this.props.id},autoplay:{onClick:this.toggleAutoPlay,"data-gallery-id":this.props.id,style:{cursor:"pointer",visibility:this.shouldShowAutoPlay()?"visible":"hidden"}},rolloverHolder:{style:this.state.hoveredImage?c(this.state.hoveredImage,this.props.skin):{visibility:"hidden",cursor:"pointer"},"data-gallery-id":this.props.id,addChildBefore:[m.call(this,n,s),"link"]},title:{children:this.state.hoveredImage?g(n):"","data-gallery-id":this.props.id},description:{children:this.state.hoveredImage?f(n):"","data-gallery-id":this.props.id},link:s.linkData&&e.merge(s.linkData,{children:s.goToLinkText,"data-gallery-id":this.props.id,refInParent:"link",style:{display:"goToLink"!==s.clickAction&&s.linkData?"block":"none"}}),textWrapper:{"data-gallery-id":this.props.id}}},onMouseEnter:function(e){var t=this.refs[e];this.state.hoveredImage!==t&&this.setState({hoveredImage:t,$itemSelection:"rollover"})},onRollOut:function(e,t,i){("IMG"!==e.target.tagName||i)&&this.setState({hoveredImage:null,$itemSelection:"idle"})},onComponentTouchStart:function(e){this.onMouseEnter(e),"touchRollOut"===this.state.$touchRollOverSupport&&this.setState({$touchRollOverSupport:"touchRollOver"})},onWindowTouchStart:function(e){var t=e.target.getAttribute("data-gallery-id")||e.target.parentNode.getAttribute("data-gallery-id");"touchRollOver"===this.state.$touchRollOverSupport&&t!==this.props.id&&(this.onRollOut({target:""},null,!0),this.setState({$touchRollOverSupport:"touchRollOut"}))},next:function(e){this.movePage(!1,e)},prev:function(e){this.movePage(!0,e)},movePage:function(t,i){var o=this.props.compProp,n=this.props.compData,s=t?C.getPrevPageItemIndex(this.state.currentIndex,o.numCols,o.maxRows,n.items.length):C.getNextPageItemIndex(this.state.currentIndex,o.numCols,o.maxRows,n.items.length);if(this.isAnimating||s===this.state.currentIndex)return this._movePageQueue||(this._movePageQueue=[]),void this._movePageQueue.push(t);var r,a,p=C.getPageItems(n.items,s,o.numCols,o.maxRows),l=C.getPageItems(n.items,this.state.currentIndex,o.numCols,o.maxRows);this.props.createGalleryItem?(r=this.convertDataItemsToRefs(l,this.state.currentIndex),a=this.convertDataItemsToRefs(p,s)):(r=e.map(l,"id"),a=e.map(p,"id")),p&&(this.props.registerReLayout?this.props.registerReLayout():this.registerReLayout(),this.setState({$animationInProcess:"animationInProcess",$itemSelection:"idle"},function(){this.performAnimation(r,a,t,s,i)}))},performAnimation:function(t,i,o,n,s){var r=this.props.compProp,a=S.getAvailableRowsNumber(r.maxRows,r.numCols,this.props.compData.items.length),p=P.getSortedArrayAndStagger(r.transition,t,i,a,r.numCols,this.timingFunctionIndex||0),c=p.transName,h=this.props.getPaginatedGridGalleryMeasures(this.props.id),m=l(r,h.width||this.props.style.width,h.height||this.props.style.height,a,this.props.skin,c);this.timingFunctionIndex=p.timingFunctionIndex+1;var u="none"===r.transition?0:r.transDuration,g=p.stagger,f=this.sequence(),y=p.sporadicallyRandom&&p.sourceNodesArrSorted.length>1;p.sourceNodesArrSorted.length!==p.destNodesArrSorted.length&&d(p.sourceNodesArrSorted,p.destNodesArrSorted),e.forEach(p.sourceNodesArrSorted,function(e,t){var i=p.destNodesArrSorted[t],n={width:m.width,height:m.height,reverse:y?Math.random()>.5:!!o},s=g;"Shrink"!==c&&"CrossFade"!==c||(n.stagger=g,s=0),f.add({sourceRefs:e,destRefs:i},c,u,0,n,t*s)}),f.onStartAll(function(){this.isAnimating=!0}.bind(this)).onCompleteAll(function(){this.animationCompleteCallback(n,s)}.bind(this)).execute()},animationCompleteCallback:function(t,i){this.isAnimating=!1,this.props.onAnimationCompleteCallback&&this.props.onAnimationCompleteCallback(),this.setState({currentIndex:t,$animationInProcess:null},function(){this.updateAutoplayState(),e.isFunction(i)&&i()}.bind(this)),this._movePageQueue&&this._movePageQueue.length>0&&setTimeout(function(){this.movePage(this._movePageQueue.shift())}.bind(this),100)},createDisplayedItems:function(t,i,o,n,s){var r=this.props.compProp,a=this.props.compData,p=parseFloat(this.props.style.width),l=S.getItemWidth(r.margin,r.numCols,p,b.getSkinWidthDiff(this.props.skin)),c=S.getAvailableRowsNumber(r.maxRows,r.numCols,a.items.length),d=S.getItemHeight(r.margin,this.props.style.height,c,b.getSkinHeightDiff(this.props.skin)),h=[],m=[],u=e.map(t,function(e,i){return this.createGalleryItem(e,i,l,d,this.state.currentIndex,t.length,"curr")}.bind(this));return n!==this.state.currentIndex&&(h=e.map(i,function(e,t){return this.createGalleryItem(e,t,l,d,n,i.length,"next",{visibility:"hidden"})}.bind(this))),s!==n&&s!==this.state.currentIndex&&(m=e.map(o,function(e,t){return this.createGalleryItem(e,t,l,d,s,o.length,"prev",{visibility:"hidden"})}.bind(this))),h.concat(m).concat(u)},createGalleryItem:function(e,t,i,o,n,s,r,a){return this.props.createGalleryItem?this.props.createGalleryItem(this.props.id,e,t,n,s,a,this.classSet):this.createImageItem(e,t,i,o,n,r,a)},convertDataItemsToRefs:function(e,t){for(var i=[],o=0;o<e.length;o++){var n=this.props.getItemRef?this.props.getItemRef(this.props.id,t,o):this.getImageItemRef(t,o);i.push(n)}return i},getImageItemRef:function(e,t){return this.props.id+e+t},createImageItem:function(t,i,o,n,s,a,p){var l=S.getItemPosition(i,o,n,this.props.compProp.margin,this.props.compProp.numCols),c=S.getImageStyle(n,o,t.height,t.width);return this.createChildComponent(t,"core.components.Image","img",{id:this.props.id+t.id,ref:t.id,key:t.id,imageData:t,containerWidth:Math.round(o),containerHeight:Math.round(n),displayMode:r.imageUtils.fittingTypes.SCALE_TO_FILL,imgStyle:c,"data-gallery-id":this.props.id,"data-page-desc":a,"data-query":t.id,"data-image-index":s+i,onMouseEnter:this.onMouseEnter.bind(this,t.id),onTouchStart:this.onComponentTouchStart.bind(this,t.id),style:e.merge({left:l.left,top:l.top,position:"absolute",overflow:"hidden",transform:"none",clip:"auto"},p)})}};return o.compRegistrar.register("wysiwyg.viewer.components.PaginatedGridGallery",M,!0),M}),define("components",["column","siteBackground","hoverBox","mediaContainerFactory","components/components/masterPage/masterPage","components/components/imageButtonWithText/imageButtonWithText","components/components/mobileMediaZoom/mobileMediaZoom","components/components/touchMediaZoom/touchMediaZoomSlideshow","components/components/touchMediaZoom/touchMediaZoomItem","components/components/colorOption/colorOption","components/components/mobileColorOption/mobileColorOption","components/components/ebayItemsBySeller/ebayItemsBySeller","components/components/numericStepper/numericStepper","components/components/optionsListInput/optionsListInput","components/components/selectOptionsList/selectOptionsList","components/components/textOption/textOption","components/components/mobileTextOption/mobileTextOption","components/components/mediaRichText/mediaRichText","components/components/controller/controller","components/components/semiNativeComponent/semiNativeComponent","core","compUtils","components/components/bootstrap/siteButton/siteButton","repeater","components/core/svgShapeStylesCollector","components/core/mediaRichTextStylesCollector","components/core/dialogsStylesCollector","components/core/appControllerStyleCollector","components/behaviors/compBehaviorsRegistrar","components/behaviors/animationBehaviorsRegistrar","components/components/bootstrap/wPhoto/wPhoto","components/components/bootstrap/wRichText/wRichText","components/components/bootstrap/screenWidthContainer/screenWidthContainer","components/components/bootstrap/infoTip/infoTip","components/components/bootstrap/pageGroup/pageGroup","components/components/bootstrap/dropDownMenu/dropDownMenu","components/components/bootstrap/headerContainer/headerContainer","components/components/bootstrap/footerContainer/footerContainer","components/components/bootstrap/video/video","components/components/bootstrap/wixSkinOnly/wixSkinOnly","components/components/bootstrap/textInput/textInput","components/components/bootstrap/sliderGallery/sliderGallery","components/components/bootstrap/paginatedGridGallery/paginatedGridGallery"],function(e,t,i,o,n,s,r,a,p,l,c,d,h,m,u,g,f,y,v,w,I,T,S){return I.compRegistrar.register("wysiwyg.viewer.components.MobileMediaZoom",r).register("wysiwyg.viewer.components.TouchMediaZoomSlideshow",a).register("wysiwyg.viewer.components.TouchMediaZoomItem",p).register("wysiwyg.viewer.components.SiteBackground",t,!0).register("wysiwyg.viewer.components.Column",e,!0).register("wysiwyg.viewer.components.inputs.ColorOption",l).register("ecommerce.integration.components.MobileColorOption",c).register("wysiwyg.viewer.components.EbayItemsBySeller",d,!0).register("wysiwyg.common.components.NumericStepper",h).register("wysiwyg.common.components.inputs.OptionsListInput",m).register("wysiwyg.common.components.inputs.SelectOptionsList",u).register("wysiwyg.viewer.components.inputs.TextOption",g).register("ecommerce.integration.components.MobileTextOption",f).register("wysiwyg.viewer.components.MediaRichText",y,!0).register("wysiwyg.viewer.components.HoverBox",i,!0).register("platform.components.AppController",v,!0).register("platform.components.semiNativeComponent",w,!0).register("wysiwyg.viewer.components.MediaContainer",o.createMediaContainer("MediaContainer"),!0).register("wysiwyg.viewer.components.ImageButtonWithText",s,!0).register("mobile.core.components.MasterPage",n,!0).registerMobxObserver(T.mobxObserverWrapper),{siteButton:S}});
//# sourceMappingURL=components.min.js.map