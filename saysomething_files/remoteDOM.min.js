!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.remoteDOM=t():e.remoteDOM=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12,DOCUMENT_POSITION_DISCONNECTED:1,DOCUMENT_POSITION_PRECEDING:2,DOCUMENT_POSITION_FOLLOWING:4,DOCUMENT_POSITION_CONTAINS:8,DOCUMENT_POSITION_CONTAINED_BY:16,DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC:32},a={createContainer:"createContainer",createElement:"createElement",createTextNode:"createTextNode",createComment:"createComment",createDocumentFragment:"createDocumentFragment",appendChild:"appendChild",insertBefore:"insertBefore",removeChild:"removeChild",replaceChild:"replaceChild",setAttribute:"setAttribute",removeAttribute:"removeAttribute",setStyles:"setStyles",setStyle:"setStyle",innerHTML:"innerHTML",innerText:"innerText",textContent:"textContent",setValue:"setValue",addEventListener:"addEventListener",removeEventListener:"removeEventListener",dispatchEvent:"dispatchEvent",invokeNative:"invokeNative",updateProperties:"updateProperties",initiated:"initiated",pause:"pause",play:"play",src:"src"},s={REMOTE_DOM:"REMOTE_DOM",DOCUMENT:"DOCUMENT",WINDOW:"WINDOW",DEFAULT_NAME:"DEFAULT_NAME",QUEUE_INDEX:"QUEUE_INDEX",NODE_INDEX:"NODE_INDEX",INIT:"INIT",EVENT:"EVENT"},c=0,u=function(){function e(t,n){o(this,e),this.channel=t,this.channel.addEventListener("message",function(e){var t=null;try{t=JSON.parse(e.data)}catch(e){return}t[s.REMOTE_DOM]&&n(t[s.REMOTE_DOM])})}return i(e,[{key:"postMessage",value:function(e){this.channel.postMessage(JSON.stringify({REMOTE_DOM:e}))}}]),e}(),d=function(){function e(){o(this,e),this.queue=[],c--,this.index=c,this.pipe=null,this.timer=null}return i(e,[{key:"push",value:function(e){this.queue.push(e),this.schedule()}},{key:"setPipe",value:function(e,t,n){this.pipe=new u(e,t),this.timerFunction=n||function(e){setTimeout(e,0)},this.schedule()}},{key:"schedule",value:function(){!this.timer&&this.pipe&&(this.timer=this.timerFunction(this.flushQueue.bind(this)))}},{key:"flushQueue",value:function(){this.timer=null,this.pipe&&(this.pipe.postMessage(this.queue),this.queue.length=0)}}]),e}(),l=["currentTarget","originalTarget","srcElement","target","toElement","path","view"],h=["alignContent","alignItems","alignSelf","alignmentBaseline","all","animation","animationDelay","animationDirection","animationDuration","animationFillMode","animationIterationCount","animationName","animationPlayState","animationTimingFunction","backfaceVisibility","background","backgroundAttachment","backgroundBlendMode","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPosition","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundRepeatX","backgroundRepeatY","backgroundSize","baselineShift","border","borderBottom","borderBottomColor","borderBottomLeftRadius","borderBottomRightRadius","borderBottomStyle","borderBottomWidth","borderCollapse","borderColor","borderImage","borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth","borderLeft","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRadius","borderRight","borderRightColor","borderRightStyle","borderRightWidth","borderSpacing","borderStyle","borderTop","borderTopColor","borderTopLeftRadius","borderTopRightRadius","borderTopStyle","borderTopWidth","borderWidth","bottom","boxShadow","boxSizing","breakAfter","breakBefore","breakInside","bufferedRendering","captionSide","clear","clip","clipPath","clipRule","color","colorInterpolation","colorInterpolationFilters","colorRendering","columnCount","columnFill","columnGap","columnRule","columnRuleColor","columnRuleStyle","columnRuleWidth","columnSpan","columnWidth","columns","contain","content","counterIncrement","counterReset","cursor","cx","cy","d","direction","display","dominantBaseline","emptyCells","fill","fillOpacity","fillRule","filter","flex","flexBasis","flexDirection","flexFlow","flexGrow","flexShrink","flexWrap","float","floodColor","floodOpacity","font","fontFamily","fontFeatureSettings","fontKerning","fontSize","fontStretch","fontStyle","fontVariant","fontVariantCaps","fontVariantLigatures","fontVariantNumeric","fontWeight","height","imageRendering","isolation","justifyContent","left","letterSpacing","lightingColor","lineHeight","listStyle","listStyleImage","listStylePosition","listStyleType","margin","marginBottom","marginLeft","marginRight","marginTop","marker","markerEnd","markerMid","markerStart","mask","maskType","maxHeight","maxWidth","maxZoom","minHeight","minWidth","minZoom","mixBlendMode","motion","motionOffset","motionPath","motionRotation","objectFit","objectPosition","opacity","order","orientation","orphans","outline","outlineColor","outlineOffset","outlineStyle","outlineWidth","overflow","overflowWrap","overflowX","overflowY","padding","paddingBottom","paddingLeft","paddingRight","paddingTop","page","pageBreakAfter","pageBreakBefore","pageBreakInside","paintOrder","perspective","perspectiveOrigin","pointerEvents","position","quotes","r","resize","right","rx","ry","shapeImageThreshold","shapeMargin","shapeOutside","shapeRendering","size","speak","src","stopColor","stopOpacity","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","tabSize","tableLayout","textAlign","textAlignLast","textAnchor","textCombineUpright","textDecoration","textIndent","textOrientation","textOverflow","textRendering","textShadow","textSizeAdjust","textTransform","top","touchAction","transform","transformOrigin","transformStyle","transition","transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction","unicodeBidi","unicodeRange","userSelect","userZoom","vectorEffect","verticalAlign","visibility","webkitAppRegion","webkitAppearance","webkitBackgroundClip","webkitBackgroundOrigin","webkitBorderAfter","webkitBorderAfterColor","webkitBorderAfterStyle","webkitBorderAfterWidth","webkitBorderBefore","webkitBorderBeforeColor","webkitBorderBeforeStyle","webkitBorderBeforeWidth","webkitBorderEnd","webkitBorderEndColor","webkitBorderEndStyle","webkitBorderEndWidth","webkitBorderHorizontalSpacing","webkitBorderImage","webkitBorderStart","webkitBorderStartColor","webkitBorderStartStyle","webkitBorderStartWidth","webkitBorderVerticalSpacing","webkitBoxAlign","webkitBoxDecorationBreak","webkitBoxDirection","webkitBoxFlex","webkitBoxFlexGroup","webkitBoxLines","webkitBoxOrdinalGroup","webkitBoxOrient","webkitBoxPack","webkitBoxReflect","webkitClipPath","webkitColumnBreakAfter","webkitColumnBreakBefore","webkitColumnBreakInside","webkitFontSizeDelta","webkitFontSmoothing","webkitHighlight","webkitHyphenateCharacter","webkitLineBreak","webkitLineClamp","webkitLocale","webkitLogicalHeight","webkitLogicalWidth","webkitMarginAfter","webkitMarginAfterCollapse","webkitMarginBefore","webkitMarginBeforeCollapse","webkitMarginBottomCollapse","webkitMarginCollapse","webkitMarginEnd","webkitMarginStart","webkitMarginTopCollapse","webkitMask","webkitMaskBoxImage","webkitMaskBoxImageOutset","webkitMaskBoxImageRepeat","webkitMaskBoxImageSlice","webkitMaskBoxImageSource","webkitMaskBoxImageWidth","webkitMaskClip","webkitMaskComposite","webkitMaskImage","webkitMaskOrigin","webkitMaskPosition","webkitMaskPositionX","webkitMaskPositionY","webkitMaskRepeat","webkitMaskRepeatX","webkitMaskRepeatY","webkitMaskSize","webkitMaxLogicalHeight","webkitMaxLogicalWidth","webkitMinLogicalHeight","webkitMinLogicalWidth","webkitPaddingAfter","webkitPaddingBefore","webkitPaddingEnd","webkitPaddingStart","webkitPerspectiveOriginX","webkitPerspectiveOriginY","webkitPrintColorAdjust","webkitRtlOrdering","webkitRubyPosition","webkitTapHighlightColor","webkitTextCombine","webkitTextDecorationsInEffect","webkitTextEmphasis","webkitTextEmphasisColor","webkitTextEmphasisPosition","webkitTextEmphasisStyle","webkitTextFillColor","webkitTextOrientation","webkitTextSecurity","webkitTextStroke","webkitTextStrokeColor","webkitTextStrokeWidth","webkitTransformOriginX","webkitTransformOriginY","webkitTransformOriginZ","webkitUserDrag","webkitUserModify","webkitWritingMode","whiteSpace","widows","width","willChange","wordBreak","wordSpacing","wordWrap","writingMode","x","y","zIndex","zoom"],f=["onreadystatechange","onpointerlockchange","onpointerlockerror","onbeforecopy","onbeforecut","onbeforepaste","oncopy","oncut","onpaste","onsearch","onselectionchange","onselectstart","onwheel","onwebkitfullscreenchange","onwebkitfullscreenerror","onabort","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextmenu","oncuechange","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpause","onplay","onplaying","onprogress","onratechange","onreset","onresize","onscroll","onseeked","onseeking","onselect","onshow","onstalled","onsubmit","onsuspend","ontimeupdate","ontoggle","onvolumechange","onwaiting"];t.Commands=a,t.Node=r,t.MessagesQueue=d,t.Pipe=u,t.Constants=s,t.StyleAttributes=h,t.SupportedEvents=f,t.EventDOMNodeAttributes=l},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){E=e,w=e.document}function r(e,t,n){n=n||f.Constants.DEFAULT_NAME;var o=new p(e,t,n);return m[e][n]=o,o}function a(e,t){return t===E?f.Constants.WINDOW:t===w?f.Constants.DOCUMENT:t instanceof E.Node?t[f.Constants.QUEUE_INDEX]===e?t[f.Constants.NODE_INDEX]:null:t instanceof Array?t.map(function(t){return a(e,t)}):"number"==typeof t||"string"==typeof t||"boolean"==typeof t?t:"function"==typeof t?null:t}function s(e,t,n,o){var i={extraData:{}},r=o.path||f.EventDOMNodeAttributes.map(function(e){return o[e]}).filter(function(e){return e});r.forEach(function(t){i.extraData[a(e,t)]={$value:t.value,type:t.type,checked:t.checked}});for(var s in o)i[s]=a(e,o[s]);b[e].push([f.Constants.EVENT,t,n,i]),"submit"===n&&o.preventDefault()}function c(e,t){var n=k[e],o=m[e],i=g[e],r=C[e];t.forEach(function(t){var a=t[0];switch(a){case f.Commands.createContainer:n[t[1]]=o[t[2]].domElement;break;case f.Commands.createElement:n[t[1]]=w.createElement(t[2].toLowerCase()),n[t[1]][f.Constants.QUEUE_INDEX]=e,n[t[1]][f.Constants.NODE_INDEX]=t[1];break;case f.Commands.createTextNode:n[t[1]]=w.createTextNode(t[2]),n[t[1]][f.Constants.QUEUE_INDEX]=e,n[t[1]][f.Constants.NODE_INDEX]=t[1];break;case f.Commands.createComment:n[t[1]]=w.createComment(t[2]),n[t[1]][f.Constants.QUEUE_INDEX]=e,n[t[1]][f.Constants.NODE_INDEX]=t[1];break;case f.Commands.createDocumentFragment:n[t[1]]=w.createDocumentFragment(t[2]);break;case f.Commands.dispatchEvent:var c=t[4]?new E.CustomEvent(t[2],t[3]):new E.Event(t[2],t[3]);n[t[1]].dispatchEvent(c);break;case f.Commands.appendChild:n[t[1]].appendChild(n[t[2]]);break;case f.Commands.insertBefore:n[t[1]].insertBefore(n[t[2]],t[3]?n[t[3]]:null);break;case f.Commands.removeChild:n[t[1]].removeChild(n[t[2]]);break;case f.Commands.replaceChild:n[t[1]].replaceChild(n[t[2]],n[t[3]]);break;case f.Commands.setAttribute:n[t[1]].setAttribute(t[2],t[3]);break;case f.Commands.removeAttribute:n[t[1]].removeAttribute(t[2]);break;case f.Commands.setStyles:n[t[1]].style=t[2];break;case f.Commands.setStyle:n[t[1]].style[t[2]]=t[3];break;case f.Commands.innerHTML:n[t[1]].innerHTML=t[2];break;case f.Commands.innerText:n[t[1]].innerText=t[2];break;case f.Commands.textContent:n[t[1]].textContent=t[2];break;case f.Commands.setValue:n[t[1]].value=t[2];break;case f.Commands.pause:n[t[1]].pause();break;case f.Commands.play:n[t[1]].play();break;case f.Commands.src:n[t[1]].src=t[2];break;case f.Commands.addEventListener:var d=s.bind(null,e,t[1],t[2]);i[t[2]]=i[t[2]]||{},i[t[2]][t[3]]=d,n[t[1]].addEventListener(t[2],d,t[4]);break;case f.Commands.removeEventListener:i[t[2]]=i[t[2]]||{};var l=i[t[2]][t[3]];n[t[1]].removeEventListener(t[2],l);break;case f.Commands.initiated:u(e);break;case f.Commands.invokeNative:r[t[2]]&&r[t[2]](n[t[1]],t[3])}})}function u(e){d(e),l(function(){return d(e)})}function d(e){b[e].push([f.Constants.INIT,{WINDOW:{screen:{width:E.screen.width,height:E.screen.height,deviceXDPI:E.screen.deviceXDPI,logicalXDPI:E.screen.logicalXDPI,orientation:{angle:E.screen.orientation&&E.screen.orientation.angle,type:E.screen.orientation&&E.screen.orientation.type}},devicePixelRatio:E.devicePixelRatio,innerWidth:E.innerWidth,innerHeight:E.innerHeight},DOCUMENT:{body:{clientWidth:w.body.clientWidth}}}])}function l(e){E.addEventListener("orientationchange",e),E.addEventListener("resize",e)}function h(e,t,n){if(!E)throw new Error("Please setWindow before create message queues");var o=new f.MessagesQueue,i=o.index;return b[i]=o,m[i]={},k[i]={},C[i]=n||{},k[i][f.Constants.DOCUMENT]=w,k[i][f.Constants.WINDOW]=E,g[i]={},o.setPipe(e,c.bind(null,i),t),i}Object.defineProperty(t,"__esModule",{value:!0}),t.setWindow=t.createMessageQueue=t.createContainer=void 0;var f=n(0),p=function e(t,n,i){o(this,e),this.domElement=n,this.name=i,this.queueIndex=t,this.index=null},m={},b={},k={},g={},C={},E=null,w=null;"undefined"!=typeof window&&i(window),t.createContainer=r,t.createMessageQueue=h,t.setWindow=i},function(e,t,n){"use strict";function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){if("video"===e)return d();var t=new B(e);return O.push([w.Commands.createElement,t.$index,t.tagName]),t}function c(e){var t=new S(e);return O.push([w.Commands.createTextNode,t.$index,e]),t}function u(e){var t=new I(e);return O.push([w.Commands.createComment,t.$index,e]),t}function d(){var e=new $;return O.push([w.Commands.createElement,e.$index,e.tagName]),e}function l(){var e=new A;return O.push([w.Commands.createDocumentFragment,e.$index]),e}function h(e){e=e||w.Constants.DEFAULT_NAME;var t=new P;return T[t.$index]=t,O.push([w.Commands.createContainer,t.$index,e]),y.then(function(){return t})}function f(e,t,n,o){v++,x[t]=x[t]||{},x[t][e]=x[t][e]||{},x[t][e][v]=n,O.push([w.Commands.addEventListener,e,t,v,o])}function p(e,t,n){x[t]=x[t]||{},x[t][e]=x[t][e]||{};var o=x[t][e],i=Object.keys(o).find(function(e){return o[e]===n});delete o[i],O.push([w.Commands.removeEventListener,e,t,v])}function m(e,t){O.push([w.Commands.dispatchEvent,e,t._type,t._eventInit,t._isCustom||!1])}function b(e,t){T[e]&&t[e]&&Object.assign(T[e],t[e])}function k(e){e.forEach(function(e){var t=e[0];switch(t){case w.Constants.INIT:!function(){N&&N();var t=e[1];Object.keys(t).forEach(function(e){b(e,t)})}();break;default:!function(){var t=e[1],n=e[2],o=e[3];Object.keys(o.extraData).forEach(function(e){b(e,o.extraData)}),w.EventDOMNodeAttributes.forEach(function(e){o[e]=o[e]instanceof Array?o[e].map(function(e){return T[e]}):T[o[e]]}),x[n]&&x[n][t]&&Object.keys(x[n][t]).forEach(function(e){x[n][t][e](o)})}()}})}function g(e,t){O.setPipe(e,k,t),C()}function C(){O.push([w.Commands.initiated])}Object.defineProperty(t,"__esModule",{value:!0}),t.setChannel=t.createContainer=t.window=t.document=void 0;var E=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),w=n(0),v=0,N=void 0,y=new Promise(function(e){N=e}),O=new w.MessagesQueue,x={},T={},M=function e(t){a(this,e),this.$index=t,this.$values={}};w.StyleAttributes.forEach(function(e){Object.defineProperty(M.prototype,e,{set:function(t){O.push([w.Commands.setStyle,this.$index,e,t]),this.$values[e]=t},get:function(){return this.$values[e]}})});var _=function(){function e(t,n){a(this,e),v++,this.nodeType=t,this.$index=v,this.$host=null,this.parentNode=null,this.childNodes=[],this.$value=n}return E(e,[{key:"appendChild",value:function(e){var t,n=this;O.push([w.Commands.appendChild,this.$index,e.$index]);var o=e.nodeType===w.Node.DOCUMENT_FRAGMENT_NODE?e.childNodes:[e];return(t=this.childNodes).splice.apply(t,[this.childNodes.length,0].concat(r(o))),o.forEach(function(e){e.parentNode=n,e.host=n.$host}),e}},{key:"insertBefore",value:function(e,t){var n,o=this,i=t?this.childNodes.indexOf(t):this.childNodes.length;if(i===-1)throw new Error("Failed to execute 'insertBefore' on 'Node': The node before which the new node is to be inserted is not a child of this node.");O.push([w.Commands.insertBefore,this.$index,e.$index,t?t.$index:null]);var a=e.nodeType===w.Node.DOCUMENT_FRAGMENT_NODE?e.childNodes:[e];return(n=this.childNodes).splice.apply(n,[i,0].concat(r(a))),a.forEach(function(e){e.parentNode=o,e.host=o.$host}),e}},{key:"removeChild",value:function(e){O.push([w.Commands.removeChild,this.$index,e.$index]);var t=this.childNodes.indexOf(e);t!==-1&&this.childNodes.splice(t,1),e.host=null}},{key:"replaceChild",value:function(e,t){var n,o=this,i=this.childNodes.indexOf(t);if(i===-1)throw new Error("Failed to execute 'replaceChild' on 'Node': The node to be replaced is not a child of this node.");O.push([w.Commands.replaceChild,this.$index,e.$index,t.$index]);var a=e.nodeType===w.Node.DOCUMENT_FRAGMENT_NODE?e.childNodes:[e];(n=this.childNodes).splice.apply(n,[i,1].concat(r(a))),a.forEach(function(e){e.parentNode=o,e.host=o.$host}),t.parentNode=null,t.host=null}},{key:"addEventListener",value:function(e,t,n){f(this.$index,e,t,n)}},{key:"removeEventListener",value:function(e,t){p(this.$index,e,t)}},{key:"dispatchEvent",value:function(e){m(this.$index,e)}},{key:"invokeNative",value:function(e,t){O.push([w.Commands.invokeNative,this.$index,e,t])}},{key:"children",get:function(){return this.childNodes}},{key:"firstChild",get:function(){return this.childNodes[0]}},{key:"nextSibling",get:function(){if(!this.parentNode)return null;var e=this.parentNode.childNodes.indexOf(this);return e===-1||e===this.parentNode.childNodes.length-1?null:this.parentNode.childNodes[e+1]}},{key:"prevSibling",get:function(){if(!this.parentNode)return null;var e=this.parentNode.childNodes.indexOf(this);return e===-1||0===e?null:this.parentNode.childNodes[e-1]}},{key:"ownerDocument",get:function(){return L}},{key:"host",set:function(e){Boolean(e)!==Boolean(this.$host)&&(this.$host=e,e?T[this.$index]=this:delete T[this.$index],this.childNodes.forEach(function(t){t.host=e}))}},{key:"value",set:function(e){this.$value=e,O.push([w.Commands.setValue,this.$index,e])},get:function(){return this.$value}},{key:"textContent",get:function(){return this.$textContent},set:function(e){O.push([w.Commands.textContent,this.$index,e])}}]),e}(),D=function(e){function t(e){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,w.Node.TEXT_NODE,e))}return i(t,e),E(t,[{key:"nodeValue",set:function(e){O.push([w.Commands.textContent,this.$index,e])}}]),t}(_),I=function(e){function t(e){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,w.Node.COMMENT_NODE,e))}return i(t,e),t}(D),S=function(e){function t(e){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,w.Node.TEXT_NODE,e))}return i(t,e),t}(D),B=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,w.Node.ELEMENT_NODE));return n.tagName=e.toUpperCase(),n.$style=new M(n.$index),n.$attr={},n}return i(t,e),E(t,[{key:"setAttribute",value:function(e,t){O.push([w.Commands.setAttribute,this.$index,e,t]),this.$attr[e]={name:e,value:t},this[e]=t}},{key:"removeAttribute",value:function(e){O.push([w.Commands.removeAttribute,this.$index,e]),delete this.$attr[e]}},{key:"hasAttribute",value:function(e){return this.$attr.hasOwnProperty(e)}},{key:"nodeName",get:function(){return this.tagName}},{key:"style",get:function(){return this.$style},set:function(e){O.push([w.Commands.setStyle,this.$index,e])}},{key:"innerHTML",set:function(e){O.push([w.Commands.innerHTML,this.$index,e]),this.$innerHTML=e},get:function(){return this.$innerHTML}},{key:"innerText",set:function(e){O.push([w.Commands.innerText,this.$index,e])}}]),t}(_),P=function(e){function t(){a(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"div"));return e.$host=e.$index,e}return i(t,e),t}(B),A=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,w.Node.DOCUMENT_FRAGMENT_NODE))}return i(t,e),t}(_),$=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"video"))}return i(t,e),E(t,[{key:"pause",value:function(){O.push([w.Commands.pause,this.$index])}},{key:"play",value:function(){O.push([w.Commands.play,this.$index])}},{key:"src",get:function(){return this.$src},set:function(e){this.$src=e,O.push([w.Commands.src,this.$index,e])}}]),t}(B),L={createElement:s,createTextNode:c,createComment:u,createDocumentFragment:l,addEventListener:f.bind(null,w.Constants.DOCUMENT),removeEventListener:p.bind(null,w.Constants.DOCUMENT),documentElement:new B("html"),dispatchEvent:m.bind(null,w.Constants.DOCUMENT)};w.SupportedEvents.forEach(function(e){L[e]=f.bind(null,w.Constants.DOCUMENT,e.substr(2))});var R=function e(t,n){a(this,e),this._type=t,this._eventInit=n},W=function(e){function t(e,n){a(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i._isCustom=!0,i}return i(t,e),t}(R),U={Event:R,CustomEvent:W,dispatchEvent:m.bind(null,w.Constants.WINDOW),addEventListener:f.bind(null,w.Constants.WINDOW),removeEventListener:p.bind(null,w.Constants.WINDOW),document:L,location:{href:"https://localhost",protocol:"https:"},navigator:{userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.98 Safari/537.36"}};U.top=U,T[w.Constants.WINDOW]=U,T[w.Constants.DOCUMENT]=L,t.document=L,t.window=U,t.createContainer=h,t.setChannel=g},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.local=t.remote=void 0;var i=n(2),r=o(i),a=n(1),s=o(a);t.remote=r,t.local=s}])});